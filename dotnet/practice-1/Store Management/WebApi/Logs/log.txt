2023-11-22 09:02:57.245 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-22 09:02:57.271 +00:00 [DBG] Hosting starting
2023-11-22 09:02:57.477 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BE2CD7E804037B286FD89483D53ADEA9C0025E51)
2023-11-22 09:02:57.720 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-22 09:02:57.721 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-22 09:02:57.721 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-22 09:02:57.722 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-22 09:02:57.723 +00:00 [INF] Hosting environment: Development
2023-11-22 09:02:57.724 +00:00 [INF] Content root path: /app
2023-11-22 09:02:57.725 +00:00 [DBG] Hosting started
2023-11-22 09:02:57.856 +00:00 [DBG] Connection id "0HMVB77967KPB" accepted.
2023-11-22 09:02:57.859 +00:00 [DBG] Connection id "0HMVB77967KPC" accepted.
2023-11-22 09:02:57.859 +00:00 [DBG] Connection id "0HMVB77967KPB" started.
2023-11-22 09:02:57.862 +00:00 [DBG] Connection id "0HMVB77967KPC" started.
2023-11-22 09:02:57.900 +00:00 [DBG] Connection id "0HMVB77967KPB" received FIN.
2023-11-22 09:02:57.910 +00:00 [DBG] Connection 0HMVB77967KPC established using the following protocol: "Tls13"
2023-11-22 09:02:57.911 +00:00 [DBG] Connection 0HMVB77967KPB established using the following protocol: "Tls13"
2023-11-22 09:02:57.939 +00:00 [DBG] Connection id "0HMVB77967KPB" is closed. The last processed stream ID was 0.
2023-11-22 09:02:57.941 +00:00 [DBG] Connection id "0HMVB77967KPB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-22 09:02:57.952 +00:00 [DBG] The connection queue processing loop for 0HMVB77967KPB completed.
2023-11-22 09:02:57.959 +00:00 [DBG] Connection id "0HMVB77967KPB" stopped.
2023-11-22 09:02:57.981 +00:00 [INF] Request starting HTTP/2 GET https://localhost:60980/swagger - null null
2023-11-22 09:02:57.987 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-22 09:02:58.063 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-11-22 09:02:58.064 +00:00 [DBG] Request did not match any endpoints
2023-11-22 09:02:58.086 +00:00 [INF] Request finished HTTP/2 GET https://localhost:60980/swagger - 301 0 null 107.9166ms
2023-11-22 09:02:58.093 +00:00 [INF] Request starting HTTP/2 GET https://localhost:60980/swagger/index.html - null null
2023-11-22 09:02:58.094 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-22 09:02:58.094 +00:00 [DBG] Request did not match any endpoints
2023-11-22 09:02:58.163 +00:00 [INF] Request finished HTTP/2 GET https://localhost:60980/swagger/index.html - 200 null text/html;charset=utf-8 69.6085ms
2023-11-22 09:02:58.179 +00:00 [INF] Request starting HTTP/2 GET https://localhost:60980/swagger/swagger-ui.css - null null
2023-11-22 09:02:58.180 +00:00 [INF] Request starting HTTP/2 GET https://localhost:60980/swagger/swagger-ui-bundle.js - null null
2023-11-22 09:02:58.180 +00:00 [INF] Request starting HTTP/2 GET https://localhost:60980/swagger/swagger-ui-standalone-preset.js - null null
2023-11-22 09:02:58.181 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-11-22 09:02:58.182 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-11-22 09:02:58.183 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-11-22 09:02:58.184 +00:00 [DBG] Request did not match any endpoints
2023-11-22 09:02:58.184 +00:00 [DBG] Request did not match any endpoints
2023-11-22 09:02:58.186 +00:00 [DBG] Request did not match any endpoints
2023-11-22 09:02:58.218 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-22 09:02:58.219 +00:00 [INF] Request finished HTTP/2 GET https://localhost:60980/swagger/swagger-ui.css - 200 144929 text/css 40.2482ms
2023-11-22 09:02:58.244 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-22 09:02:58.246 +00:00 [INF] Request finished HTTP/2 GET https://localhost:60980/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 65.6454ms
2023-11-22 09:02:58.293 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-22 09:02:58.294 +00:00 [INF] Request finished HTTP/2 GET https://localhost:60980/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 114.5285ms
2023-11-22 09:02:58.843 +00:00 [INF] Request starting HTTP/2 GET https://localhost:60980/swagger/v1/swagger.json - null null
2023-11-22 09:02:58.844 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-22 09:02:58.845 +00:00 [DBG] Request did not match any endpoints
2023-11-22 09:02:58.851 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-22 09:02:58.885 +00:00 [INF] Request starting HTTP/2 GET https://localhost:60980/swagger/favicon-32x32.png - null null
2023-11-22 09:02:58.886 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-11-22 09:02:58.887 +00:00 [DBG] Request did not match any endpoints
2023-11-22 09:02:58.889 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-22 09:02:58.890 +00:00 [INF] Request finished HTTP/2 GET https://localhost:60980/swagger/favicon-32x32.png - 200 628 image/png 5.3076ms
2023-11-22 09:02:58.949 +00:00 [INF] Request finished HTTP/2 GET https://localhost:60980/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 105.9112ms
2023-11-22 09:05:10.401 +00:00 [DBG] Connection id "0HMVB77967KPC" is closing.
2023-11-22 09:05:10.402 +00:00 [DBG] Connection id "0HMVB77967KPC" is closed. The last processed stream ID was 13.
2023-11-22 09:05:10.404 +00:00 [DBG] The connection queue processing loop for 0HMVB77967KPC completed.
2023-11-22 09:05:10.406 +00:00 [DBG] Connection id "0HMVB77967KPC" stopped.
2023-11-22 09:05:10.406 +00:00 [DBG] Connection id "0HMVB77967KPC" received FIN.
2023-11-22 09:05:10.407 +00:00 [DBG] Connection id "0HMVB77967KPC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-22 09:05:47.507 +00:00 [DBG] Connection id "0HMVB77967KPD" accepted.
2023-11-22 09:05:47.509 +00:00 [DBG] Connection id "0HMVB77967KPD" started.
2023-11-22 09:05:47.519 +00:00 [DBG] Connection 0HMVB77967KPD established using the following protocol: "Tls13"
2023-11-22 09:05:47.523 +00:00 [INF] Request starting HTTP/2 POST https://localhost:60980/products - application/json 77
2023-11-22 09:05:47.530 +00:00 [DBG] 1 candidate(s) found for the request path '/products'
2023-11-22 09:05:47.532 +00:00 [DBG] Request matched endpoint 'HTTP: POST products'
2023-11-22 09:05:47.535 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-22 09:05:47.541 +00:00 [INF] Executing endpoint 'HTTP: POST products'
2023-11-22 09:05:47.549 +00:00 [DBG] Connection id "0HMVB77967KPD", Request id "0HMVB77967KPD:00000001": started reading request body.
2023-11-22 09:05:47.550 +00:00 [DBG] Connection id "0HMVB77967KPD", Request id "0HMVB77967KPD:00000001": done reading request body.
2023-11-22 09:05:47.771 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-22 09:05:48.288 +00:00 [INF] Executed endpoint 'HTTP: POST products'
2023-11-22 09:05:48.291 +00:00 [ERR] HTTP POST /products responded 500 in 751.1272 ms
System.InvalidOperationException: No suitable constructor was found for entity type 'Product'. The following constructors had parameters that could not be bound to properties of the entity type: 
    Cannot bind 'price' in 'Product(ProductId id, string name, Money price, Sku sku)'
Note that only mapped properties can be bound to constructor parameters. Navigations to related entities, including references to owned types, cannot be bound.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings[T](T type, Func`5 bindToProperty, Func`5 bind, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings(IMutableEntityType entityType, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ConstructorBindingConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.EntryWithoutDetectChanges(TEntity entity)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at Presentation.Repositories.ProductRepository.Add(Product product) in C:\Users\Vuong\Source\Repos\csharp-training\dotnet\practice-1\Store Management\Presentation\Repositories\ProductRepository.cs:line 16
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\Vuong\Source\Repos\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 27
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\Vuong\Source\Repos\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-22 09:05:48.318 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No suitable constructor was found for entity type 'Product'. The following constructors had parameters that could not be bound to properties of the entity type: 
    Cannot bind 'price' in 'Product(ProductId id, string name, Money price, Sku sku)'
Note that only mapped properties can be bound to constructor parameters. Navigations to related entities, including references to owned types, cannot be bound.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings[T](T type, Func`5 bindToProperty, Func`5 bind, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings(IMutableEntityType entityType, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ConstructorBindingConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.EntryWithoutDetectChanges(TEntity entity)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at Presentation.Repositories.ProductRepository.Add(Product product) in C:\Users\Vuong\Source\Repos\csharp-training\dotnet\practice-1\Store Management\Presentation\Repositories\ProductRepository.cs:line 16
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\Vuong\Source\Repos\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 27
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\Vuong\Source\Repos\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-22 09:05:48.337 +00:00 [INF] Request finished HTTP/2 POST https://localhost:60980/products - 500 null text/plain; charset=utf-8 813.6703ms
2023-11-27 02:10:01.816 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 02:10:01.851 +00:00 [DBG] Hosting starting
2023-11-27 02:10:02.068 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 02:10:02.197 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 02:10:02.198 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 02:10:02.198 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 02:10:02.199 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 02:10:02.200 +00:00 [INF] Hosting environment: Development
2023-11-27 02:10:02.201 +00:00 [INF] Content root path: /app
2023-11-27 02:10:02.202 +00:00 [DBG] Hosting started
2023-11-27 02:10:02.499 +00:00 [DBG] Connection id "0HMVETNRJ4NSJ" accepted.
2023-11-27 02:10:02.500 +00:00 [DBG] Connection id "0HMVETNRJ4NSK" accepted.
2023-11-27 02:10:02.500 +00:00 [DBG] Connection id "0HMVETNRJ4NSJ" started.
2023-11-27 02:10:02.501 +00:00 [DBG] Connection id "0HMVETNRJ4NSK" started.
2023-11-27 02:10:02.532 +00:00 [DBG] Connection id "0HMVETNRJ4NSJ" received FIN.
2023-11-27 02:10:02.536 +00:00 [DBG] Connection 0HMVETNRJ4NSK established using the following protocol: "Tls13"
2023-11-27 02:10:02.536 +00:00 [DBG] Connection 0HMVETNRJ4NSJ established using the following protocol: "Tls13"
2023-11-27 02:10:02.571 +00:00 [DBG] Connection id "0HMVETNRJ4NSJ" is closed. The last processed stream ID was 0.
2023-11-27 02:10:02.574 +00:00 [DBG] Connection id "0HMVETNRJ4NSJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-27 02:10:02.610 +00:00 [DBG] The connection queue processing loop for 0HMVETNRJ4NSJ completed.
2023-11-27 02:10:02.611 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50077/swagger - null null
2023-11-27 02:10:02.614 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 02:10:02.618 +00:00 [DBG] Connection id "0HMVETNRJ4NSJ" stopped.
2023-11-27 02:10:02.683 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-11-27 02:10:02.684 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:10:02.704 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50077/swagger - 301 0 null 93.4067ms
2023-11-27 02:10:02.714 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50077/swagger/index.html - null null
2023-11-27 02:10:02.723 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 02:10:02.724 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:10:02.813 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50077/swagger/index.html - 200 null text/html;charset=utf-8 99.4212ms
2023-11-27 02:10:02.822 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50077/swagger/swagger-ui.css - null null
2023-11-27 02:10:02.824 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-11-27 02:10:02.824 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50077/swagger/swagger-ui-bundle.js - null null
2023-11-27 02:10:02.825 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:10:02.826 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-11-27 02:10:02.828 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50077/swagger/swagger-ui-standalone-preset.js - null null
2023-11-27 02:10:02.833 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:10:02.834 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-11-27 02:10:02.835 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:10:02.860 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-27 02:10:02.860 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50077/swagger/swagger-ui.css - 200 144929 text/css 38.6858ms
2023-11-27 02:10:02.887 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-27 02:10:02.892 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50077/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 63.1551ms
2023-11-27 02:10:02.934 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-27 02:10:02.935 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50077/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 110.572ms
2023-11-27 02:10:03.414 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50077/swagger/v1/swagger.json - null null
2023-11-27 02:10:03.415 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 02:10:03.415 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:10:03.420 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 02:10:03.462 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50077/swagger/favicon-32x32.png - null null
2023-11-27 02:10:03.464 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-11-27 02:10:03.469 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:10:03.471 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-27 02:10:03.473 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50077/swagger/favicon-32x32.png - 200 628 image/png 10.5901ms
2023-11-27 02:10:03.582 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 168.2788ms
2023-11-27 02:10:09.461 +00:00 [INF] Request starting HTTP/2 POST https://localhost:50077/products - application/json 80
2023-11-27 02:10:09.464 +00:00 [DBG] 1 candidate(s) found for the request path '/products'
2023-11-27 02:10:09.465 +00:00 [DBG] Request matched endpoint 'HTTP: POST products'
2023-11-27 02:10:09.467 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 02:10:09.471 +00:00 [INF] Executing endpoint 'HTTP: POST products'
2023-11-27 02:10:09.475 +00:00 [DBG] Connection id "0HMVETNRJ4NSK", Request id "0HMVETNRJ4NSK:0000000F": started reading request body.
2023-11-27 02:10:09.503 +00:00 [DBG] Connection id "0HMVETNRJ4NSK", Request id "0HMVETNRJ4NSK:0000000F": done reading request body.
2023-11-27 02:10:10.099 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 02:10:10.408 +00:00 [INF] Executed endpoint 'HTTP: POST products'
2023-11-27 02:10:10.411 +00:00 [ERR] HTTP POST /products responded 500 in 939.5545 ms
System.InvalidOperationException: No suitable constructor was found for entity type 'Product'. The following constructors had parameters that could not be bound to properties of the entity type: 
    Cannot bind 'price' in 'Product(ProductId id, string name, Money price, Sku sku)'
Note that only mapped properties can be bound to constructor parameters. Navigations to related entities, including references to owned types, cannot be bound.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings[T](T type, Func`5 bindToProperty, Func`5 bind, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings(IMutableEntityType entityType, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ConstructorBindingConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.EntryWithoutDetectChanges(TEntity entity)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at Presentation.Repositories.ProductRepository.Add(Product product) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\Repositories\ProductRepository.cs:line 16
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 27
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-27 02:10:10.442 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No suitable constructor was found for entity type 'Product'. The following constructors had parameters that could not be bound to properties of the entity type: 
    Cannot bind 'price' in 'Product(ProductId id, string name, Money price, Sku sku)'
Note that only mapped properties can be bound to constructor parameters. Navigations to related entities, including references to owned types, cannot be bound.
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings[T](T type, Func`5 bindToProperty, Func`5 bind, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.ConstructorBindingFactory.GetBindings(IMutableEntityType entityType, InstantiationBinding& constructorBinding, InstantiationBinding& serviceOnlyBinding)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.ConstructorBindingConvention.ProcessModelFinalizing(IConventionModelBuilder modelBuilder, IConventionContext`1 context)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.ImmediateConventionScope.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Conventions.Internal.ConventionDispatcher.OnModelFinalizing(IConventionModelBuilder modelBuilder)
   at Microsoft.EntityFrameworkCore.Metadata.Internal.Model.FinalizeModel()
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelRuntimeInitializer.Initialize(IModel model, Boolean designTime, IDiagnosticsLogger`1 validationLogger)
   at Microsoft.EntityFrameworkCore.Infrastructure.ModelSource.GetModel(DbContext context, ModelCreationDependencies modelCreationDependencies, Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.CreateModel(Boolean designTime)
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.get_Model()
   at Microsoft.EntityFrameworkCore.Infrastructure.EntityFrameworkServicesBuilder.<>c.<TryAddCoreServices>b__8_4(IServiceProvider p)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_ContextServices()
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.Microsoft.EntityFrameworkCore.Internal.IDbContextDependencies.get_StateManager()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.EntryWithoutDetectChanges(TEntity entity)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at Presentation.Repositories.ProductRepository.Add(Product product) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\Repositories\ProductRepository.cs:line 16
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 27
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 02:10:10.453 +00:00 [INF] Request finished HTTP/2 POST https://localhost:50077/products - 500 null text/plain; charset=utf-8 992.3098ms
2023-11-27 02:10:59.158 +00:00 [INF] Application is shutting down...
2023-11-27 02:10:59.159 +00:00 [DBG] Hosting stopping
2023-11-27 02:10:59.166 +00:00 [DBG] Connection id "0HMVETNRJ4NSK" is closing.
2023-11-27 02:10:59.168 +00:00 [DBG] Connection id "0HMVETNRJ4NSK" is closed. The last processed stream ID was 15.
2023-11-27 02:10:59.170 +00:00 [DBG] The connection queue processing loop for 0HMVETNRJ4NSK completed.
2023-11-27 02:10:59.170 +00:00 [DBG] Connection id "0HMVETNRJ4NSK" received FIN.
2023-11-27 02:10:59.171 +00:00 [DBG] Connection id "0HMVETNRJ4NSK" stopped.
2023-11-27 02:10:59.172 +00:00 [DBG] Connection id "0HMVETNRJ4NSK" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-27 02:10:59.175 +00:00 [DBG] Hosting stopped
2023-11-27 02:11:03.591 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 02:11:03.608 +00:00 [DBG] Hosting starting
2023-11-27 02:11:03.785 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 02:11:03.884 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 02:11:03.885 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 02:11:03.885 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 02:11:03.886 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 02:11:03.886 +00:00 [INF] Hosting environment: Development
2023-11-27 02:11:03.887 +00:00 [INF] Content root path: /app
2023-11-27 02:11:03.887 +00:00 [DBG] Hosting started
2023-11-27 02:11:03.975 +00:00 [DBG] Connection id "0HMVETODTDTNB" accepted.
2023-11-27 02:11:03.977 +00:00 [DBG] Connection id "0HMVETODTDTNB" started.
2023-11-27 02:11:03.996 +00:00 [DBG] Connection 0HMVETODTDTNB established using the following protocol: "Tls13"
2023-11-27 02:11:04.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50077/swagger/index.html - null null
2023-11-27 02:11:04.027 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 02:11:04.062 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 02:11:04.063 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:11:04.108 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50077/swagger/index.html - 200 null text/html;charset=utf-8 83.9345ms
2023-11-27 02:11:04.486 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50077/swagger/v1/swagger.json - null null
2023-11-27 02:11:04.487 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 02:11:04.487 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:11:04.491 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 02:11:04.537 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.7179ms
2023-11-27 02:11:08.523 +00:00 [INF] Request starting HTTP/2 POST https://localhost:50077/products - application/json 80
2023-11-27 02:11:08.527 +00:00 [DBG] 1 candidate(s) found for the request path '/products'
2023-11-27 02:11:08.528 +00:00 [DBG] Request matched endpoint 'HTTP: POST products'
2023-11-27 02:11:08.531 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 02:11:08.533 +00:00 [INF] Executing endpoint 'HTTP: POST products'
2023-11-27 02:11:08.537 +00:00 [DBG] Connection id "0HMVETODTDTNB", Request id "0HMVETODTDTNB:00000005": started reading request body.
2023-11-27 02:11:08.538 +00:00 [DBG] Connection id "0HMVETODTDTNB", Request id "0HMVETODTDTNB:00000005": done reading request body.
2023-11-27 02:11:08.661 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 02:11:08.997 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 02:11:09.088 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 02:11:09.125 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 02:11:09.139 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 02:11:09.142 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 02:11:09.150 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 02:11:09.153 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-27 02:11:09.155 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 02:11:09.156 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 02:11:09.194 +00:00 [DBG] Creating DbConnection.
2023-11-27 02:11:09.210 +00:00 [DBG] Created DbConnection. (14ms).
2023-11-27 02:11:09.212 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:11:09.390 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:11:09.395 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 02:11:09.399 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-11-27 02:11:09.405 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2023-11-27 02:11:09.410 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 02:11:09.455 +00:00 [ERR] Failed executing DbCommand (45ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 02:11:09.458 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:11:09.463 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-27 02:11:09.475 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Presentation.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-27 02:11:09.480 +00:00 [INF] Executed endpoint 'HTTP: POST products'
2023-11-27 02:11:09.483 +00:00 [ERR] HTTP POST /products responded 500 in 949.5432 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Presentation.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\ApplicationDbContext.cs:line 33
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 29
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-27 02:11:09.497 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Presentation.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\ApplicationDbContext.cs:line 33
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 29
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 02:11:09.510 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 02:11:09.513 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:11:09.514 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 02:11:09.515 +00:00 [INF] Request finished HTTP/2 POST https://localhost:50077/products - 500 null text/plain; charset=utf-8 991.5075ms
2023-11-27 02:13:19.775 +00:00 [DBG] Connection id "0HMVETODTDTNB" is closing.
2023-11-27 02:13:19.776 +00:00 [DBG] Connection id "0HMVETODTDTNB" is closed. The last processed stream ID was 5.
2023-11-27 02:13:19.779 +00:00 [DBG] The connection queue processing loop for 0HMVETODTDTNB completed.
2023-11-27 02:13:19.779 +00:00 [DBG] Connection id "0HMVETODTDTNB" received FIN.
2023-11-27 02:13:19.783 +00:00 [DBG] Connection id "0HMVETODTDTNB" stopped.
2023-11-27 02:13:19.784 +00:00 [DBG] Connection id "0HMVETODTDTNB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-27 02:19:53.486 +00:00 [INF] Application is shutting down...
2023-11-27 02:19:53.487 +00:00 [DBG] Hosting stopping
2023-11-27 02:19:53.497 +00:00 [DBG] Hosting stopped
2023-11-27 02:20:26.242 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 02:20:26.602 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 02:20:26.683 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 02:20:26.691 +00:00 [DBG] Creating DbConnection.
2023-11-27 02:20:26.706 +00:00 [DBG] Created DbConnection. (14ms).
2023-11-27 02:20:26.711 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:26.842 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:26.843 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:26.849 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-11-27 02:20:26.854 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 02:20:26.858 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-27 02:20:26.859 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-11-27 02:20:26.859 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:26.944 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:26.949 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:20:26.985 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:20:26.987 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:26.988 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 02:20:26.990 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:26.990 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.049 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.049 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.050 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:20:27.050 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 02:20:27.051 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 02:20:27.051 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 02:20:27.051 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.052 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.052 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:20:27.054 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:20:27.054 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.055 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:20:27.055 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.115 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.115 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.116 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:20:27.153 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-27 02:20:27.154 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-27 02:20:27.154 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-27 02:20:27.155 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.155 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.155 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2023-11-27 02:20:27.188 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2023-11-27 02:20:27.188 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.189 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:20:27.189 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.250 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.250 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.250 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:20:27.251 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 02:20:27.251 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 02:20:27.252 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 02:20:27.252 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.253 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.253 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:20:27.255 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:20:27.255 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.255 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:20:27.257 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.258 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.258 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 02:20:27.259 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 02:20:27.259 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 02:20:27.260 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 02:20:27.264 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 02:20:27.266 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.268 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-11-27 02:20:27.268 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.268 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:20:27.274 +00:00 [DBG] No migrations were found in assembly 'Presentation'.
2023-11-27 02:20:27.277 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 02:20:27.277 +00:00 [DBG] No migrations were found in assembly 'Presentation'.
2023-11-27 02:20:27.279 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 02:20:27.281 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:20:27.281 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:20:27.286 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 02:20:27.291 +00:00 [DBG] Hosting starting
2023-11-27 02:20:27.387 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 02:20:27.487 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 02:20:27.487 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 02:20:27.488 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 02:20:27.488 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 02:20:27.488 +00:00 [INF] Hosting environment: Development
2023-11-27 02:20:27.489 +00:00 [INF] Content root path: /app
2023-11-27 02:20:27.489 +00:00 [DBG] Hosting started
2023-11-27 02:20:27.612 +00:00 [DBG] Connection id "0HMVETTLSM8BJ" accepted.
2023-11-27 02:20:27.614 +00:00 [DBG] Connection id "0HMVETTLSM8BJ" started.
2023-11-27 02:20:27.631 +00:00 [DBG] Connection 0HMVETTLSM8BJ established using the following protocol: "Tls13"
2023-11-27 02:20:27.658 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50077/swagger/index.html - null null
2023-11-27 02:20:27.660 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 02:20:27.690 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 02:20:27.693 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:20:27.740 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50077/swagger/index.html - 200 null text/html;charset=utf-8 82.6715ms
2023-11-27 02:20:28.052 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50077/swagger/v1/swagger.json - null null
2023-11-27 02:20:28.052 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 02:20:28.053 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:20:28.058 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 02:20:28.108 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 56.1311ms
2023-11-27 02:21:05.317 +00:00 [INF] Request starting HTTP/2 POST https://localhost:50077/products - application/json 80
2023-11-27 02:21:05.321 +00:00 [DBG] 1 candidate(s) found for the request path '/products'
2023-11-27 02:21:05.322 +00:00 [DBG] Request matched endpoint 'HTTP: POST products'
2023-11-27 02:21:05.324 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 02:21:05.329 +00:00 [INF] Executing endpoint 'HTTP: POST products'
2023-11-27 02:21:05.333 +00:00 [DBG] Connection id "0HMVETTLSM8BJ", Request id "0HMVETTLSM8BJ:00000005": started reading request body.
2023-11-27 02:21:05.333 +00:00 [DBG] Connection id "0HMVETTLSM8BJ", Request id "0HMVETTLSM8BJ:00000005": done reading request body.
2023-11-27 02:21:05.349 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 02:21:05.385 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 02:21:05.398 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 02:21:05.401 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 02:21:05.411 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 02:21:05.413 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-27 02:21:05.414 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 02:21:05.415 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 02:21:05.449 +00:00 [DBG] Creating DbConnection.
2023-11-27 02:21:05.449 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 02:21:05.451 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:21:05.452 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:21:05.455 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 02:21:05.455 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 02:21:05.459 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-11-27 02:21:05.461 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 02:21:05.478 +00:00 [ERR] Failed executing DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 02:21:05.482 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:21:05.483 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:21:05.495 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Presentation.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-27 02:21:05.501 +00:00 [INF] Executed endpoint 'HTTP: POST products'
2023-11-27 02:21:05.503 +00:00 [ERR] HTTP POST /products responded 500 in 176.5452 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Presentation.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\ApplicationDbContext.cs:line 33
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 29
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-27 02:21:05.521 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Presentation.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\ApplicationDbContext.cs:line 33
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 29
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 02:21:05.534 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 02:21:05.537 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:21:05.538 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 02:21:05.539 +00:00 [INF] Request finished HTTP/2 POST https://localhost:50077/products - 500 null text/plain; charset=utf-8 222.004ms
2023-11-27 02:23:16.389 +00:00 [DBG] Connection id "0HMVETTLSM8BJ" is closing.
2023-11-27 02:23:16.391 +00:00 [DBG] Connection id "0HMVETTLSM8BJ" is closed. The last processed stream ID was 5.
2023-11-27 02:23:16.393 +00:00 [DBG] Connection id "0HMVETTLSM8BJ" received FIN.
2023-11-27 02:23:16.394 +00:00 [DBG] The connection queue processing loop for 0HMVETTLSM8BJ completed.
2023-11-27 02:23:16.394 +00:00 [DBG] Connection id "0HMVETTLSM8BJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-27 02:23:16.396 +00:00 [DBG] Connection id "0HMVETTLSM8BJ" stopped.
2023-11-27 02:24:14.119 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 02:24:14.120 +00:00 [DBG] Config reload token fired. Checking for changes...
2023-11-27 02:24:31.820 +00:00 [INF] Application is shutting down...
2023-11-27 02:24:31.821 +00:00 [DBG] Hosting stopping
2023-11-27 02:24:31.831 +00:00 [DBG] Hosting stopped
2023-11-27 02:24:38.542 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 02:24:38.897 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 02:24:38.979 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 02:24:38.995 +00:00 [DBG] Creating DbConnection.
2023-11-27 02:24:39.014 +00:00 [DBG] Created DbConnection. (17ms).
2023-11-27 02:24:39.018 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:3306'.
2023-11-27 02:24:39.036 +00:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:3306'.
2023-11-27 02:25:16.429 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 02:25:16.969 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 02:25:17.082 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 02:25:17.091 +00:00 [DBG] Creating DbConnection.
2023-11-27 02:25:17.118 +00:00 [DBG] Created DbConnection. (25ms).
2023-11-27 02:25:17.123 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:3306'.
2023-11-27 02:25:17.146 +00:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:3306'.
2023-11-27 02:26:09.198 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 02:26:09.586 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 02:26:09.677 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 02:26:09.687 +00:00 [DBG] Creating DbConnection.
2023-11-27 02:26:09.713 +00:00 [DBG] Created DbConnection. (24ms).
2023-11-27 02:26:09.718 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:3306'.
2023-11-27 02:26:09.742 +00:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:3306'.
2023-11-27 02:26:38.903 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 02:26:39.320 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 02:26:39.415 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 02:26:39.424 +00:00 [DBG] Creating DbConnection.
2023-11-27 02:26:39.453 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-27 02:26:39.457 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.648 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.650 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.665 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (8ms).
2023-11-27 02:26:39.672 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 02:26:39.682 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-11-27 02:26:39.684 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (13ms).
2023-11-27 02:26:39.684 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.788 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.793 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:26:39.838 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:26:39.838 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.840 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 02:26:39.849 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.850 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.850 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 02:26:39.851 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 02:26:39.851 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 02:26:39.852 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 02:26:39.857 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 02:26:39.859 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.861 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-11-27 02:26:39.861 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.863 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 02:26:39.864 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.865 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.925 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.925 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.926 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:26:39.926 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 02:26:39.927 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 02:26:39.928 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-11-27 02:26:39.928 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.929 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.930 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:26:39.932 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:26:39.933 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.933 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:26:39.934 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.992 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.992 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.993 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:26:39.994 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 02:26:39.994 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 02:26:39.995 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-11-27 02:26:39.996 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.997 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.997 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:26:39.999 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:26:39.999 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:39.999 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:26:40.000 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:40.001 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:40.001 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 02:26:40.001 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 02:26:40.002 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 02:26:40.002 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 02:26:40.003 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 02:26:40.003 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:40.004 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 02:26:40.004 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:40.005 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:26:40.012 +00:00 [DBG] No migrations were found in assembly 'Presentation'.
2023-11-27 02:26:40.015 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 02:26:40.015 +00:00 [DBG] No migrations were found in assembly 'Presentation'.
2023-11-27 02:26:40.017 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 02:26:40.018 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:40.019 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:26:40.036 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 02:26:40.043 +00:00 [DBG] Hosting starting
2023-11-27 02:26:40.167 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 02:26:40.277 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 02:26:40.277 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 02:26:40.278 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 02:26:40.279 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 02:26:40.280 +00:00 [INF] Hosting environment: Development
2023-11-27 02:26:40.280 +00:00 [INF] Content root path: /app
2023-11-27 02:26:40.281 +00:00 [DBG] Hosting started
2023-11-27 02:26:40.498 +00:00 [DBG] Connection id "0HMVEU150PGSG" accepted.
2023-11-27 02:26:40.501 +00:00 [DBG] Connection id "0HMVEU150PGSG" started.
2023-11-27 02:26:40.532 +00:00 [DBG] Connection 0HMVEU150PGSG established using the following protocol: "Tls13"
2023-11-27 02:26:40.591 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50077/swagger/index.html - null null
2023-11-27 02:26:40.593 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 02:26:40.644 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 02:26:40.644 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:26:40.718 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50077/swagger/index.html - 200 null text/html;charset=utf-8 128.1911ms
2023-11-27 02:26:41.045 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50077/swagger/v1/swagger.json - null null
2023-11-27 02:26:41.046 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 02:26:41.048 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:26:41.055 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 02:26:41.122 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50077/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 76.7904ms
2023-11-27 02:26:57.468 +00:00 [INF] Request starting HTTP/2 POST https://localhost:50077/products - application/json 80
2023-11-27 02:26:57.474 +00:00 [DBG] 1 candidate(s) found for the request path '/products'
2023-11-27 02:26:57.477 +00:00 [DBG] Request matched endpoint 'HTTP: POST products'
2023-11-27 02:26:57.480 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 02:26:57.488 +00:00 [INF] Executing endpoint 'HTTP: POST products'
2023-11-27 02:26:57.493 +00:00 [DBG] Connection id "0HMVEU150PGSG", Request id "0HMVEU150PGSG:00000005": started reading request body.
2023-11-27 02:26:57.494 +00:00 [DBG] Connection id "0HMVEU150PGSG", Request id "0HMVEU150PGSG:00000005": done reading request body.
2023-11-27 02:26:57.519 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 02:26:57.561 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 02:26:57.576 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 02:26:57.580 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 02:26:57.589 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 02:26:57.592 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-27 02:26:57.593 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 02:26:57.594 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 02:26:57.633 +00:00 [DBG] Creating DbConnection.
2023-11-27 02:26:57.634 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 02:26:57.635 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:57.638 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:57.642 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 02:26:57.643 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 02:26:57.647 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-11-27 02:26:57.650 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 02:26:57.678 +00:00 [ERR] Failed executing DbCommand (30ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 02:26:57.685 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:57.686 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 02:26:57.707 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Presentation.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-27 02:26:57.782 +00:00 [INF] Executed endpoint 'HTTP: POST products'
2023-11-27 02:26:57.784 +00:00 [ERR] HTTP POST /products responded 500 in 301.6110 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Presentation.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\ApplicationDbContext.cs:line 33
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 29
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-27 02:26:57.801 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Presentation.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\ApplicationDbContext.cs:line 33
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 29
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 02:26:57.817 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 02:26:57.821 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:26:57.823 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-27 02:26:57.824 +00:00 [INF] Request finished HTTP/2 POST https://localhost:50077/products - 500 null text/plain; charset=utf-8 355.5562ms
2023-11-27 02:36:33.279 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 02:36:33.686 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 02:36:33.779 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 02:36:33.790 +00:00 [DBG] Creating DbConnection.
2023-11-27 02:36:33.819 +00:00 [DBG] Created DbConnection. (26ms).
2023-11-27 02:36:33.825 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.115 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.117 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.132 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (12ms).
2023-11-27 02:36:34.150 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 02:36:34.168 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (19ms).
2023-11-27 02:36:34.172 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (32ms).
2023-11-27 02:36:34.173 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.361 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.368 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:36:34.459 +00:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:36:34.461 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.463 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 02:36:34.476 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.477 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.478 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 02:36:34.479 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 02:36:34.479 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-27 02:36:34.480 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 02:36:34.491 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 02:36:34.493 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.495 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-11-27 02:36:34.495 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.496 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:36:34.503 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.505 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.641 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.642 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.643 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:36:34.643 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 02:36:34.644 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 02:36:34.644 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 02:36:34.644 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.645 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.645 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:36:34.647 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:36:34.648 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.648 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:36:34.649 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.775 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.775 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.776 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:36:34.776 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 02:36:34.776 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 02:36:34.777 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 02:36:34.777 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.777 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.778 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:36:34.779 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 02:36:34.780 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.780 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:36:34.781 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.782 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.783 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 02:36:34.783 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 02:36:34.784 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-27 02:36:34.785 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 02:36:34.787 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 02:36:34.787 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.788 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-11-27 02:36:34.789 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.791 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:36:34.803 +00:00 [DBG] No migrations were found in assembly 'Presentation'.
2023-11-27 02:36:34.807 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 02:36:34.807 +00:00 [DBG] No migrations were found in assembly 'Presentation'.
2023-11-27 02:36:34.809 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 02:36:34.811 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:36:34.812 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 02:36:34.838 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 02:36:34.854 +00:00 [DBG] Hosting starting
2023-11-27 02:36:35.152 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 02:36:35.425 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 02:36:35.426 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 02:36:35.429 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 02:36:35.431 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 02:36:35.434 +00:00 [INF] Hosting environment: Development
2023-11-27 02:36:35.436 +00:00 [INF] Content root path: /app
2023-11-27 02:36:35.438 +00:00 [DBG] Hosting started
2023-11-27 02:36:36.370 +00:00 [DBG] Connection id "0HMVEU6MJFJQN" accepted.
2023-11-27 02:36:36.372 +00:00 [DBG] Connection id "0HMVEU6MJFJQN" started.
2023-11-27 02:36:36.374 +00:00 [DBG] Connection id "0HMVEU6MJFJQO" accepted.
2023-11-27 02:36:36.375 +00:00 [DBG] Connection id "0HMVEU6MJFJQO" started.
2023-11-27 02:36:36.401 +00:00 [DBG] Connection id "0HMVEU6MJFJQO" received FIN.
2023-11-27 02:36:36.432 +00:00 [DBG] Connection 0HMVEU6MJFJQO established using the following protocol: "Tls13"
2023-11-27 02:36:36.432 +00:00 [DBG] Connection 0HMVEU6MJFJQN established using the following protocol: "Tls13"
2023-11-27 02:36:36.445 +00:00 [DBG] Connection id "0HMVEU6MJFJQO" is closed. The last processed stream ID was 0.
2023-11-27 02:36:36.446 +00:00 [DBG] Connection id "0HMVEU6MJFJQO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-27 02:36:36.449 +00:00 [DBG] The connection queue processing loop for 0HMVEU6MJFJQO completed.
2023-11-27 02:36:36.456 +00:00 [DBG] Connection id "0HMVEU6MJFJQO" stopped.
2023-11-27 02:36:36.486 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50454/swagger - null null
2023-11-27 02:36:36.488 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 02:36:36.534 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-11-27 02:36:36.536 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:36:36.558 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50454/swagger - 301 0 null 69.3521ms
2023-11-27 02:36:36.564 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50454/swagger/index.html - null null
2023-11-27 02:36:36.565 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 02:36:36.565 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:36:36.616 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50454/swagger/index.html - 200 null text/html;charset=utf-8 51.5489ms
2023-11-27 02:36:36.628 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50454/swagger/swagger-ui.css - null null
2023-11-27 02:36:36.649 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-11-27 02:36:36.670 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:36:36.670 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50454/swagger/swagger-ui-standalone-preset.js - null null
2023-11-27 02:36:36.670 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50454/swagger/swagger-ui-bundle.js - null null
2023-11-27 02:36:36.671 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-11-27 02:36:36.672 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-11-27 02:36:36.672 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:36:36.673 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:36:36.732 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-27 02:36:36.733 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50454/swagger/swagger-ui.css - 200 144929 text/css 105.2563ms
2023-11-27 02:36:36.759 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-27 02:36:36.760 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50454/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 89.6665ms
2023-11-27 02:36:36.819 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-27 02:36:36.820 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50454/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 149.9568ms
2023-11-27 02:36:37.091 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50454/swagger/v1/swagger.json - null null
2023-11-27 02:36:37.091 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 02:36:37.092 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:36:37.097 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 02:36:37.111 +00:00 [INF] Request starting HTTP/2 GET https://localhost:50454/swagger/favicon-32x32.png - null null
2023-11-27 02:36:37.131 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-11-27 02:36:37.132 +00:00 [DBG] Request did not match any endpoints
2023-11-27 02:36:37.133 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-27 02:36:37.133 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50454/swagger/favicon-32x32.png - 200 628 image/png 22.6147ms
2023-11-27 02:36:37.183 +00:00 [INF] Request finished HTTP/2 GET https://localhost:50454/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.6469ms
2023-11-27 02:38:41.426 +00:00 [INF] Request starting HTTP/2 POST https://localhost:50454/products - application/json 80
2023-11-27 02:38:41.429 +00:00 [DBG] 1 candidate(s) found for the request path '/products'
2023-11-27 02:38:41.430 +00:00 [DBG] Request matched endpoint 'HTTP: POST products'
2023-11-27 02:38:41.431 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 02:38:41.437 +00:00 [INF] Executing endpoint 'HTTP: POST products'
2023-11-27 02:38:41.441 +00:00 [DBG] Connection id "0HMVEU6MJFJQN", Request id "0HMVEU6MJFJQN:0000000F": started reading request body.
2023-11-27 02:38:41.449 +00:00 [DBG] Connection id "0HMVEU6MJFJQN", Request id "0HMVEU6MJFJQN:0000000F": done reading request body.
2023-11-27 02:38:41.476 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 02:38:41.529 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 02:38:41.545 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 02:38:41.549 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 02:38:41.557 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 02:38:41.560 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-27 02:38:41.562 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 02:38:41.562 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 02:38:41.602 +00:00 [DBG] Creating DbConnection.
2023-11-27 02:38:41.603 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 02:38:41.604 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:38:41.605 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:38:41.609 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 02:38:41.609 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 02:38:41.615 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-11-27 02:38:41.617 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 02:38:41.640 +00:00 [ERR] Failed executing DbCommand (24ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 02:38:41.646 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:38:41.647 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 02:38:41.663 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Presentation.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-27 02:38:41.732 +00:00 [INF] Executed endpoint 'HTTP: POST products'
2023-11-27 02:38:41.734 +00:00 [ERR] HTTP POST /products responded 500 in 301.2337 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Presentation.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\ApplicationDbContext.cs:line 33
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 29
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-27 02:38:41.747 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Presentation.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\ApplicationDbContext.cs:line 33
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 29
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 02:38:41.780 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 02:38:41.784 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 02:38:41.785 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 02:38:41.786 +00:00 [INF] Request finished HTTP/2 POST https://localhost:50454/products - 500 null text/plain; charset=utf-8 360.2727ms
2023-11-27 03:35:43.024 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 03:35:43.404 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 03:35:43.492 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 03:35:43.501 +00:00 [DBG] Creating DbConnection.
2023-11-27 03:35:43.528 +00:00 [DBG] Created DbConnection. (25ms).
2023-11-27 03:35:43.533 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5433'.
2023-11-27 03:35:43.556 +00:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5433'.
2023-11-27 03:52:09.927 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 03:52:10.311 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 03:52:10.397 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 03:52:10.407 +00:00 [DBG] Creating DbConnection.
2023-11-27 03:52:10.434 +00:00 [DBG] Created DbConnection. (26ms).
2023-11-27 03:52:10.440 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5433'.
2023-11-27 03:52:10.465 +00:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5433'.
2023-11-27 03:59:19.277 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 03:59:19.664 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 03:59:19.751 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 03:59:19.761 +00:00 [DBG] Creating DbConnection.
2023-11-27 03:59:19.787 +00:00 [DBG] Created DbConnection. (25ms).
2023-11-27 03:59:19.792 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5433'.
2023-11-27 03:59:19.817 +00:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5433'.
2023-11-27 04:09:18.418 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 04:09:18.833 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 04:09:18.923 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 04:09:18.933 +00:00 [DBG] Creating DbConnection.
2023-11-27 04:09:18.963 +00:00 [DBG] Created DbConnection. (29ms).
2023-11-27 04:09:18.969 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5433'.
2023-11-27 04:09:18.995 +00:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5433'.
2023-11-27 04:10:09.819 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 04:10:10.236 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 04:10:10.336 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 04:10:10.345 +00:00 [DBG] Creating DbConnection.
2023-11-27 04:10:10.373 +00:00 [DBG] Created DbConnection. (26ms).
2023-11-27 04:10:10.377 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.740 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.742 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.750 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-27 04:10:10.756 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 04:10:10.761 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-27 04:10:10.763 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-11-27 04:10:10.763 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.841 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.847 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:10:10.892 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:10:10.893 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.895 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 04:10:10.905 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.906 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.906 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 04:10:10.907 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 04:10:10.907 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-27 04:10:10.908 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 04:10:10.919 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 04:10:10.922 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.924 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-11-27 04:10:10.924 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.924 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:10:10.926 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.927 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.987 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.987 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.987 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:10:10.988 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 04:10:10.988 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 04:10:10.989 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 04:10:10.989 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.990 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.990 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:10:10.992 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:10:10.993 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:10.993 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:10:10.994 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:11.053 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:11.054 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:11.054 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:10:11.055 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 04:10:11.055 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 04:10:11.055 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 04:10:11.056 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:11.056 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:11.057 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:10:11.058 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:10:11.058 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:11.059 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:10:11.059 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:11.060 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:11.060 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 04:10:11.061 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 04:10:11.061 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 04:10:11.062 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 04:10:11.063 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 04:10:11.064 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:11.064 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 04:10:11.065 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:11.066 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:10:11.072 +00:00 [DBG] No migrations were found in assembly 'Presentation'.
2023-11-27 04:10:11.074 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 04:10:11.075 +00:00 [DBG] No migrations were found in assembly 'Presentation'.
2023-11-27 04:10:11.076 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 04:10:11.078 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:10:11.079 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 04:10:11.098 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 04:10:11.108 +00:00 [DBG] Hosting starting
2023-11-27 04:10:11.267 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 04:10:11.387 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 04:10:11.387 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 04:10:11.388 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 04:10:11.388 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 04:10:11.389 +00:00 [INF] Hosting environment: Development
2023-11-27 04:10:11.389 +00:00 [INF] Content root path: /app
2023-11-27 04:10:11.390 +00:00 [DBG] Hosting started
2023-11-27 04:10:11.582 +00:00 [DBG] Connection id "0HMVEVR02A7M9" accepted.
2023-11-27 04:10:11.588 +00:00 [DBG] Connection id "0HMVEVR02A7M9" started.
2023-11-27 04:10:11.588 +00:00 [DBG] Connection id "0HMVEVR02A7MA" accepted.
2023-11-27 04:10:11.589 +00:00 [DBG] Connection id "0HMVEVR02A7MA" started.
2023-11-27 04:10:11.620 +00:00 [DBG] Connection id "0HMVEVR02A7M9" received FIN.
2023-11-27 04:10:11.634 +00:00 [DBG] Connection 0HMVEVR02A7M9 established using the following protocol: "Tls13"
2023-11-27 04:10:11.634 +00:00 [DBG] Connection 0HMVEVR02A7MA established using the following protocol: "Tls13"
2023-11-27 04:10:11.652 +00:00 [DBG] Connection id "0HMVEVR02A7M9" is closed. The last processed stream ID was 0.
2023-11-27 04:10:11.653 +00:00 [DBG] Connection id "0HMVEVR02A7M9" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-27 04:10:11.678 +00:00 [DBG] The connection queue processing loop for 0HMVEVR02A7M9 completed.
2023-11-27 04:10:11.685 +00:00 [DBG] Connection id "0HMVEVR02A7M9" stopped.
2023-11-27 04:10:11.715 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51868/swagger - null null
2023-11-27 04:10:11.719 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 04:10:11.767 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-11-27 04:10:11.770 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:10:11.793 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51868/swagger - 301 0 null 75.3201ms
2023-11-27 04:10:11.821 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51868/swagger/index.html - null null
2023-11-27 04:10:11.821 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 04:10:11.822 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:10:11.868 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51868/swagger/index.html - 200 null text/html;charset=utf-8 46.9647ms
2023-11-27 04:10:11.878 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51868/swagger/swagger-ui.css - null null
2023-11-27 04:10:11.882 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-11-27 04:10:11.884 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51868/swagger/swagger-ui-bundle.js - null null
2023-11-27 04:10:11.884 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51868/swagger/swagger-ui-standalone-preset.js - null null
2023-11-27 04:10:11.905 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:10:11.905 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-11-27 04:10:11.906 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-11-27 04:10:11.906 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:10:11.907 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:10:11.978 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-27 04:10:11.978 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-27 04:10:11.979 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51868/swagger/swagger-ui.css - 200 144929 text/css 101.1657ms
2023-11-27 04:10:11.980 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51868/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 96.1101ms
2023-11-27 04:10:12.076 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-27 04:10:12.076 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51868/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 192.935ms
2023-11-27 04:10:12.329 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51868/swagger/v1/swagger.json - null null
2023-11-27 04:10:12.329 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 04:10:12.330 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:10:12.336 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 04:10:12.371 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51868/swagger/favicon-32x32.png - null null
2023-11-27 04:10:12.372 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-11-27 04:10:12.372 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:10:12.373 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-27 04:10:12.373 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51868/swagger/favicon-32x32.png - 200 628 image/png 2.3814ms
2023-11-27 04:10:12.429 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51868/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 100.5218ms
2023-11-27 04:10:57.490 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 04:10:57.491 +00:00 [DBG] Config reload token fired. Checking for changes...
2023-11-27 04:13:21.060 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 04:13:21.958 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 04:13:22.163 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 04:13:22.183 +00:00 [DBG] Creating DbConnection.
2023-11-27 04:13:22.244 +00:00 [DBG] Created DbConnection. (57ms).
2023-11-27 04:13:22.258 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5433'.
2023-11-27 04:13:22.313 +00:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5433'.
2023-11-27 04:13:50.240 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 04:13:50.624 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 04:13:50.710 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 04:13:50.720 +00:00 [DBG] Creating DbConnection.
2023-11-27 04:13:50.747 +00:00 [DBG] Created DbConnection. (25ms).
2023-11-27 04:13:50.751 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:50.928 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:50.929 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:50.938 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-27 04:13:50.947 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 04:13:50.952 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-11-27 04:13:50.953 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2023-11-27 04:13:50.954 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.039 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.044 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:13:51.088 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:13:51.090 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.091 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 04:13:51.100 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.100 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.101 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 04:13:51.101 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 04:13:51.101 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 04:13:51.102 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 04:13:51.107 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 04:13:51.108 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.110 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-11-27 04:13:51.110 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.110 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:13:51.112 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.112 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.169 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.169 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.170 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:13:51.170 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 04:13:51.171 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 04:13:51.171 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 04:13:51.171 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.172 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.172 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:13:51.174 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:13:51.174 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.174 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:13:51.175 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.231 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.232 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.232 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:13:51.232 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 04:13:51.233 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 04:13:51.233 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 04:13:51.234 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.234 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.235 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:13:51.236 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:13:51.236 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.237 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:13:51.237 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.237 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.238 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 04:13:51.238 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 04:13:51.238 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 04:13:51.239 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 04:13:51.240 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 04:13:51.240 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.240 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 04:13:51.241 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.241 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:13:51.246 +00:00 [DBG] No migrations were found in assembly 'Presentation'.
2023-11-27 04:13:51.249 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 04:13:51.249 +00:00 [DBG] No migrations were found in assembly 'Presentation'.
2023-11-27 04:13:51.250 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 04:13:51.252 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:13:51.252 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:13:51.268 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 04:13:51.275 +00:00 [DBG] Hosting starting
2023-11-27 04:13:51.397 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 04:13:51.506 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 04:13:51.506 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 04:13:51.506 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 04:13:51.507 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 04:13:51.508 +00:00 [INF] Hosting environment: Development
2023-11-27 04:13:51.508 +00:00 [INF] Content root path: /app
2023-11-27 04:13:51.508 +00:00 [DBG] Hosting started
2023-11-27 04:13:51.660 +00:00 [DBG] Connection id "0HMVEVT1L4R3H" accepted.
2023-11-27 04:13:51.662 +00:00 [DBG] Connection id "0HMVEVT1L4R3I" accepted.
2023-11-27 04:13:51.662 +00:00 [DBG] Connection id "0HMVEVT1L4R3H" started.
2023-11-27 04:13:51.663 +00:00 [DBG] Connection id "0HMVEVT1L4R3I" started.
2023-11-27 04:13:51.711 +00:00 [DBG] Connection id "0HMVEVT1L4R3I" received FIN.
2023-11-27 04:13:51.725 +00:00 [DBG] Connection 0HMVEVT1L4R3H established using the following protocol: "Tls13"
2023-11-27 04:13:51.725 +00:00 [DBG] Connection 0HMVEVT1L4R3I established using the following protocol: "Tls13"
2023-11-27 04:13:51.740 +00:00 [DBG] Connection id "0HMVEVT1L4R3I" is closed. The last processed stream ID was 0.
2023-11-27 04:13:51.742 +00:00 [DBG] Connection id "0HMVEVT1L4R3I" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-27 04:13:51.746 +00:00 [DBG] The connection queue processing loop for 0HMVEVT1L4R3I completed.
2023-11-27 04:13:51.755 +00:00 [DBG] Connection id "0HMVEVT1L4R3I" stopped.
2023-11-27 04:13:51.784 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52413/swagger - null null
2023-11-27 04:13:51.787 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 04:13:51.829 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-11-27 04:13:51.830 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:13:51.852 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52413/swagger - 301 0 null 63.9926ms
2023-11-27 04:13:51.861 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52413/swagger/index.html - null null
2023-11-27 04:13:51.861 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 04:13:51.861 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:13:51.907 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52413/swagger/index.html - 200 null text/html;charset=utf-8 46.3139ms
2023-11-27 04:13:51.919 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52413/swagger/swagger-ui.css - null null
2023-11-27 04:13:51.941 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-11-27 04:13:51.941 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:13:51.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52413/swagger/swagger-ui-standalone-preset.js - null null
2023-11-27 04:13:51.998 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52413/swagger/swagger-ui-bundle.js - null null
2023-11-27 04:13:51.999 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-11-27 04:13:52.000 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-11-27 04:13:52.000 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:13:52.000 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:13:52.043 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-27 04:13:52.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52413/swagger/swagger-ui.css - 200 144929 text/css 124.24ms
2023-11-27 04:13:52.057 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-27 04:13:52.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52413/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 59.2923ms
2023-11-27 04:13:52.126 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-27 04:13:52.127 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52413/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 129.1871ms
2023-11-27 04:13:52.405 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52413/swagger/v1/swagger.json - null null
2023-11-27 04:13:52.405 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 04:13:52.406 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:13:52.407 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52413/swagger/favicon-32x32.png - null null
2023-11-27 04:13:52.408 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-11-27 04:13:52.408 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:13:52.409 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-27 04:13:52.410 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52413/swagger/favicon-32x32.png - 200 628 image/png 2.7063ms
2023-11-27 04:13:52.412 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 04:13:52.467 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52413/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.3036ms
2023-11-27 04:14:04.491 +00:00 [INF] Request starting HTTP/2 POST https://localhost:52413/products - application/json 80
2023-11-27 04:14:04.496 +00:00 [DBG] 1 candidate(s) found for the request path '/products'
2023-11-27 04:14:04.498 +00:00 [DBG] Request matched endpoint 'HTTP: POST products'
2023-11-27 04:14:04.499 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 04:14:04.506 +00:00 [INF] Executing endpoint 'HTTP: POST products'
2023-11-27 04:14:04.511 +00:00 [DBG] Connection id "0HMVEVT1L4R3H", Request id "0HMVEVT1L4R3H:0000000F": started reading request body.
2023-11-27 04:14:04.539 +00:00 [DBG] Connection id "0HMVEVT1L4R3H", Request id "0HMVEVT1L4R3H:0000000F": done reading request body.
2023-11-27 04:14:04.564 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 04:14:04.609 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 04:14:04.625 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 04:14:04.629 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 04:14:04.638 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 04:14:04.641 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-27 04:14:04.642 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 04:14:04.642 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 04:14:04.684 +00:00 [DBG] Creating DbConnection.
2023-11-27 04:14:04.684 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 04:14:04.686 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:14:04.688 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:14:04.692 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 04:14:04.692 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 04:14:04.696 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-11-27 04:14:04.698 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 04:14:04.722 +00:00 [ERR] Failed executing DbCommand (24ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 04:14:04.727 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:14:04.728 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:14:04.745 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Presentation.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-27 04:14:04.816 +00:00 [INF] Executed endpoint 'HTTP: POST products'
2023-11-27 04:14:04.818 +00:00 [ERR] HTTP POST /products responded 500 in 316.6094 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Presentation.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\ApplicationDbContext.cs:line 33
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 29
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-27 04:14:04.832 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Presentation.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\ApplicationDbContext.cs:line 33
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 29
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 04:14:04.849 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 04:14:04.851 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:14:04.852 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 04:14:04.853 +00:00 [INF] Request finished HTTP/2 POST https://localhost:52413/products - 500 null text/plain; charset=utf-8 362.065ms
2023-11-27 04:15:11.309 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 04:15:11.718 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 04:15:11.806 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 04:15:11.815 +00:00 [DBG] Creating DbConnection.
2023-11-27 04:15:11.844 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-27 04:15:11.849 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:15:11.957 +00:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:17:08.752 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 04:17:09.140 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 04:17:09.242 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 04:17:09.252 +00:00 [DBG] Creating DbConnection.
2023-11-27 04:17:09.282 +00:00 [DBG] Created DbConnection. (28ms).
2023-11-27 04:17:09.286 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:17:09.380 +00:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:35.584 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 04:22:36.234 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 04:22:36.337 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 04:22:36.346 +00:00 [DBG] Creating DbConnection.
2023-11-27 04:22:36.378 +00:00 [DBG] Created DbConnection. (30ms).
2023-11-27 04:22:36.384 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.595 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.597 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.617 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (11ms).
2023-11-27 04:22:36.626 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 04:22:36.635 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2023-11-27 04:22:36.637 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (12ms).
2023-11-27 04:22:36.637 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.726 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.731 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:22:36.781 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:22:36.782 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.784 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 04:22:36.793 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.793 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.794 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 04:22:36.794 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 04:22:36.794 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 04:22:36.795 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 04:22:36.800 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 04:22:36.802 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.804 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-11-27 04:22:36.804 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.805 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:22:36.806 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.807 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.863 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.864 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.864 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:22:36.865 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 04:22:36.865 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 04:22:36.866 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 04:22:36.866 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.866 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.867 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:22:36.869 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:22:36.869 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.869 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:22:36.870 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.927 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.927 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.928 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:22:36.928 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 04:22:36.928 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 04:22:36.929 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 04:22:36.929 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.930 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.930 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:22:36.931 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 04:22:36.931 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.932 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:22:36.932 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.933 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.933 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 04:22:36.933 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 04:22:36.934 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 04:22:36.934 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 04:22:36.935 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 04:22:36.935 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.935 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 04:22:36.936 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.936 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:22:36.944 +00:00 [DBG] No migrations were found in assembly 'Presentation'.
2023-11-27 04:22:36.946 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 04:22:36.946 +00:00 [DBG] No migrations were found in assembly 'Presentation'.
2023-11-27 04:22:36.948 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 04:22:36.949 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:22:36.950 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:22:36.967 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 04:22:36.976 +00:00 [DBG] Hosting starting
2023-11-27 04:22:37.125 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 04:22:37.247 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 04:22:37.248 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 04:22:37.248 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 04:22:37.249 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 04:22:37.249 +00:00 [INF] Hosting environment: Development
2023-11-27 04:22:37.249 +00:00 [INF] Content root path: /app
2023-11-27 04:22:37.250 +00:00 [DBG] Hosting started
2023-11-27 04:22:37.426 +00:00 [DBG] Connection id "0HMVF01UB7KKF" accepted.
2023-11-27 04:22:37.429 +00:00 [DBG] Connection id "0HMVF01UB7KKF" started.
2023-11-27 04:22:37.429 +00:00 [DBG] Connection id "0HMVF01UB7KKG" accepted.
2023-11-27 04:22:37.430 +00:00 [DBG] Connection id "0HMVF01UB7KKG" started.
2023-11-27 04:22:37.456 +00:00 [DBG] Connection id "0HMVF01UB7KKF" received FIN.
2023-11-27 04:22:37.513 +00:00 [DBG] Connection 0HMVF01UB7KKG established using the following protocol: "Tls13"
2023-11-27 04:22:37.513 +00:00 [DBG] Connection 0HMVF01UB7KKF established using the following protocol: "Tls13"
2023-11-27 04:22:37.529 +00:00 [DBG] Connection id "0HMVF01UB7KKF" is closed. The last processed stream ID was 0.
2023-11-27 04:22:37.529 +00:00 [DBG] Connection id "0HMVF01UB7KKF" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-27 04:22:37.533 +00:00 [DBG] The connection queue processing loop for 0HMVF01UB7KKF completed.
2023-11-27 04:22:37.538 +00:00 [DBG] Connection id "0HMVF01UB7KKF" stopped.
2023-11-27 04:22:37.597 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52643/swagger - null null
2023-11-27 04:22:37.598 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 04:22:37.638 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-11-27 04:22:37.639 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:22:37.659 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52643/swagger - 301 0 null 58.1969ms
2023-11-27 04:22:37.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52643/swagger/index.html - null null
2023-11-27 04:22:37.666 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 04:22:37.666 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:22:37.715 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52643/swagger/index.html - 200 null text/html;charset=utf-8 49.1291ms
2023-11-27 04:22:37.769 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52643/swagger/swagger-ui.css - null null
2023-11-27 04:22:37.770 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-11-27 04:22:37.771 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:22:37.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52643/swagger/swagger-ui-bundle.js - null null
2023-11-27 04:22:37.794 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52643/swagger/swagger-ui-standalone-preset.js - null null
2023-11-27 04:22:37.798 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-11-27 04:22:37.799 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-11-27 04:22:37.801 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:22:37.802 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:22:37.830 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-27 04:22:37.831 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52643/swagger/swagger-ui.css - 200 144929 text/css 82.1777ms
2023-11-27 04:22:37.996 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-27 04:22:37.998 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52643/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 203.2598ms
2023-11-27 04:22:38.146 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-27 04:22:38.147 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52643/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 352.2323ms
2023-11-27 04:22:38.410 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52643/swagger/v1/swagger.json - null null
2023-11-27 04:22:38.416 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 04:22:38.417 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:22:38.424 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 04:22:38.483 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52643/swagger/favicon-32x32.png - null null
2023-11-27 04:22:38.484 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-11-27 04:22:38.485 +00:00 [DBG] Request did not match any endpoints
2023-11-27 04:22:38.486 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-27 04:22:38.489 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52643/swagger/favicon-32x32.png - 200 628 image/png 24.9186ms
2023-11-27 04:22:38.607 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52643/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 197.4165ms
2023-11-27 04:23:18.053 +00:00 [INF] Request starting HTTP/2 POST https://localhost:52643/products - application/json 80
2023-11-27 04:23:18.081 +00:00 [DBG] 1 candidate(s) found for the request path '/products'
2023-11-27 04:23:18.082 +00:00 [DBG] Request matched endpoint 'HTTP: POST products'
2023-11-27 04:23:18.083 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 04:23:18.089 +00:00 [INF] Executing endpoint 'HTTP: POST products'
2023-11-27 04:23:18.095 +00:00 [DBG] Connection id "0HMVF01UB7KKG", Request id "0HMVF01UB7KKG:0000000F": started reading request body.
2023-11-27 04:23:18.095 +00:00 [DBG] Connection id "0HMVF01UB7KKG", Request id "0HMVF01UB7KKG:0000000F": done reading request body.
2023-11-27 04:23:18.117 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 04:23:18.165 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 04:23:18.181 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 04:23:18.185 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 04:23:18.194 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 04:23:18.197 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-27 04:23:18.198 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 04:23:18.199 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 04:23:18.242 +00:00 [DBG] Creating DbConnection.
2023-11-27 04:23:18.243 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 04:23:18.245 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:23:18.246 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:23:18.249 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 04:23:18.249 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 04:23:18.253 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-11-27 04:23:18.256 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 04:23:18.283 +00:00 [ERR] Failed executing DbCommand (28ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 04:23:18.288 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:23:18.289 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 04:23:18.307 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Presentation.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-27 04:23:18.379 +00:00 [INF] Executed endpoint 'HTTP: POST products'
2023-11-27 04:23:18.381 +00:00 [ERR] HTTP POST /products responded 500 in 295.6410 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Presentation.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\ApplicationDbContext.cs:line 33
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 29
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-27 04:23:18.395 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Presentation.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\ApplicationDbContext.cs:line 33
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 29
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 04:23:18.407 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 04:23:18.430 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 04:23:18.432 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 04:23:18.432 +00:00 [INF] Request finished HTTP/2 POST https://localhost:52643/products - 500 null text/plain; charset=utf-8 381.1755ms
2023-11-27 07:15:25.596 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 07:15:26.423 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 07:15:26.660 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 07:15:26.678 +00:00 [DBG] Creating DbConnection.
2023-11-27 07:15:26.746 +00:00 [DBG] Created DbConnection. (61ms).
2023-11-27 07:15:26.760 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:15:26.894 +00:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:16.454 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 07:16:16.859 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 07:16:16.950 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 07:16:16.959 +00:00 [DBG] Creating DbConnection.
2023-11-27 07:16:16.986 +00:00 [DBG] Created DbConnection. (25ms).
2023-11-27 07:16:16.991 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.159 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.161 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.169 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-27 07:16:17.174 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 07:16:17.179 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-27 07:16:17.180 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-27 07:16:17.181 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.250 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.255 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 07:16:17.301 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 07:16:17.302 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.304 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 07:16:17.313 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.314 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.314 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 07:16:17.315 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 07:16:17.315 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 07:16:17.316 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 07:16:17.320 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 07:16:17.322 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.323 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-11-27 07:16:17.324 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.324 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:16:17.326 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.326 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.383 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.383 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.384 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:16:17.384 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 07:16:17.385 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 07:16:17.385 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 07:16:17.386 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.386 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.386 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 07:16:17.388 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 07:16:17.389 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.389 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:16:17.390 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.446 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.446 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.447 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:16:17.447 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 07:16:17.447 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 07:16:17.448 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 07:16:17.448 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.448 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.449 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 07:16:17.450 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 07:16:17.450 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.451 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:16:17.451 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.451 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.452 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 07:16:17.452 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 07:16:17.452 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 07:16:17.453 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 07:16:17.454 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 07:16:17.454 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.455 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 07:16:17.455 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.456 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:16:17.461 +00:00 [DBG] No migrations were found in assembly 'Presentation'.
2023-11-27 07:16:17.463 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 07:16:17.464 +00:00 [DBG] No migrations were found in assembly 'Presentation'.
2023-11-27 07:16:17.465 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 07:16:17.467 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:17.467 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:16:17.483 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 07:16:17.492 +00:00 [DBG] Hosting starting
2023-11-27 07:16:17.621 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 07:16:17.740 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 07:16:17.741 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 07:16:17.741 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 07:16:17.742 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 07:16:17.742 +00:00 [INF] Hosting environment: Development
2023-11-27 07:16:17.742 +00:00 [INF] Content root path: /app
2023-11-27 07:16:17.743 +00:00 [DBG] Hosting started
2023-11-27 07:16:17.906 +00:00 [DBG] Connection id "0HMVF32VSLVHL" accepted.
2023-11-27 07:16:17.909 +00:00 [DBG] Connection id "0HMVF32VSLVHL" started.
2023-11-27 07:16:17.909 +00:00 [DBG] Connection id "0HMVF32VSLVHM" accepted.
2023-11-27 07:16:17.910 +00:00 [DBG] Connection id "0HMVF32VSLVHM" started.
2023-11-27 07:16:17.938 +00:00 [DBG] Connection id "0HMVF32VSLVHM" received FIN.
2023-11-27 07:16:17.971 +00:00 [DBG] Connection 0HMVF32VSLVHM established using the following protocol: "Tls13"
2023-11-27 07:16:17.971 +00:00 [DBG] Connection 0HMVF32VSLVHL established using the following protocol: "Tls13"
2023-11-27 07:16:18.006 +00:00 [DBG] Connection id "0HMVF32VSLVHM" is closed. The last processed stream ID was 0.
2023-11-27 07:16:18.008 +00:00 [DBG] Connection id "0HMVF32VSLVHM" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-27 07:16:18.012 +00:00 [DBG] The connection queue processing loop for 0HMVF32VSLVHM completed.
2023-11-27 07:16:18.016 +00:00 [DBG] Connection id "0HMVF32VSLVHM" stopped.
2023-11-27 07:16:18.049 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger - null null
2023-11-27 07:16:18.051 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 07:16:18.095 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-11-27 07:16:18.096 +00:00 [DBG] Request did not match any endpoints
2023-11-27 07:16:18.116 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger - 301 0 null 61.8796ms
2023-11-27 07:16:18.125 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/index.html - null null
2023-11-27 07:16:18.125 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 07:16:18.125 +00:00 [DBG] Request did not match any endpoints
2023-11-27 07:16:18.176 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/index.html - 200 null text/html;charset=utf-8 51.3557ms
2023-11-27 07:16:18.188 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/swagger-ui.css - null null
2023-11-27 07:16:18.211 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-11-27 07:16:18.211 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/swagger-ui-bundle.js - null null
2023-11-27 07:16:18.212 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/swagger-ui-standalone-preset.js - null null
2023-11-27 07:16:18.212 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-11-27 07:16:18.212 +00:00 [DBG] Request did not match any endpoints
2023-11-27 07:16:18.233 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-11-27 07:16:18.234 +00:00 [DBG] Request did not match any endpoints
2023-11-27 07:16:18.234 +00:00 [DBG] Request did not match any endpoints
2023-11-27 07:16:18.262 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-27 07:16:18.263 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/swagger-ui.css - 200 144929 text/css 74.9472ms
2023-11-27 07:16:18.325 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-27 07:16:18.326 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 114.2644ms
2023-11-27 07:16:18.382 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-27 07:16:18.382 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 171.2098ms
2023-11-27 07:16:18.714 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/v1/swagger.json - null null
2023-11-27 07:16:18.735 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 07:16:18.735 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/favicon-32x32.png - null null
2023-11-27 07:16:18.737 +00:00 [DBG] Request did not match any endpoints
2023-11-27 07:16:18.738 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-11-27 07:16:18.739 +00:00 [DBG] Request did not match any endpoints
2023-11-27 07:16:18.740 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-27 07:16:18.740 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/favicon-32x32.png - 200 628 image/png 25.4659ms
2023-11-27 07:16:18.745 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 07:16:18.795 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 122.9529ms
2023-11-27 07:16:47.667 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54208/products - application/json 75
2023-11-27 07:16:47.693 +00:00 [DBG] 1 candidate(s) found for the request path '/products'
2023-11-27 07:16:47.694 +00:00 [DBG] Request matched endpoint 'HTTP: POST products'
2023-11-27 07:16:47.695 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 07:16:47.702 +00:00 [INF] Executing endpoint 'HTTP: POST products'
2023-11-27 07:16:47.707 +00:00 [DBG] Connection id "0HMVF32VSLVHL", Request id "0HMVF32VSLVHL:0000000F": started reading request body.
2023-11-27 07:16:47.707 +00:00 [DBG] Connection id "0HMVF32VSLVHL", Request id "0HMVF32VSLVHL:0000000F": done reading request body.
2023-11-27 07:16:47.729 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 07:16:47.775 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 07:16:47.790 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 07:16:47.793 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 07:16:47.803 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 07:16:47.805 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-27 07:16:47.807 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 07:16:47.807 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 07:16:47.849 +00:00 [DBG] Creating DbConnection.
2023-11-27 07:16:47.849 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 07:16:47.852 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:47.854 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:47.858 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 07:16:47.858 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 07:16:47.862 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-11-27 07:16:47.865 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 07:16:47.890 +00:00 [ERR] Failed executing DbCommand (26ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 07:16:47.896 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:47.897 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 07:16:47.916 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Presentation.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-11-27 07:16:47.991 +00:00 [INF] Executed endpoint 'HTTP: POST products'
2023-11-27 07:16:47.993 +00:00 [ERR] HTTP POST /products responded 500 in 295.3602 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Presentation.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\ApplicationDbContext.cs:line 30
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 29
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-27 07:16:48.006 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 42P01: relation "Products" does not exist

POSITION: 13
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "Products" does not exist
    Position: 13
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Presentation.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Presentation\ApplicationDbContext.cs:line 30
   at Application.Products.Create.CreateProductCommandHandler.Handle(CreateProductCommand request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\Products\Create\CreateProductCommandHandler.cs:line 29
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Products.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Products.cs:line 13
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 07:16:48.043 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 07:16:48.046 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:16:48.047 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 07:16:48.048 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54208/products - 500 null text/plain; charset=utf-8 381.2888ms
2023-11-27 14:20:03.589 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 14:20:03.902 +07:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 14:20:03.976 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 14:20:03.991 +07:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 14:20:04.294 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 07:21:24.051 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 07:21:24.467 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 07:21:24.560 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 07:21:24.570 +00:00 [DBG] Creating DbConnection.
2023-11-27 07:21:24.599 +00:00 [DBG] Created DbConnection. (28ms).
2023-11-27 07:21:24.604 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:24.754 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:24.756 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:24.768 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (8ms).
2023-11-27 07:21:24.773 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 07:21:24.781 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-11-27 07:21:24.782 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2023-11-27 07:21:24.782 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:24.861 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:24.867 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 07:21:24.924 +00:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 07:21:24.926 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:24.928 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-27 07:21:24.936 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:24.937 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:24.937 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 07:21:24.938 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 07:21:24.938 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 07:21:24.939 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 07:21:24.943 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 07:21:24.946 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:24.947 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-11-27 07:21:24.948 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:24.948 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:21:24.950 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:24.951 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.008 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.009 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.009 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:21:25.010 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 07:21:25.011 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 07:21:25.012 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-11-27 07:21:25.012 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.013 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.013 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 07:21:25.015 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 07:21:25.015 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.015 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:21:25.016 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.067 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.067 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.068 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:21:25.068 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 07:21:25.068 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 07:21:25.069 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 07:21:25.069 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.070 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.070 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 07:21:25.071 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 07:21:25.072 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.073 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:21:25.073 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.074 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.074 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 07:21:25.074 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 07:21:25.075 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 07:21:25.075 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 07:21:25.076 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 07:21:25.077 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.077 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 07:21:25.078 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.078 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:21:25.088 +00:00 [INF] Applying migration '20231127072004_Initialize'.
2023-11-27 07:21:25.114 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.115 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.117 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-27 07:21:25.120 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-27 07:21:25.122 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-27 07:21:25.122 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-27 07:21:25.123 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-27 07:21:25.123 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    "Price_Currency" character varying(3) NOT NULL,
    "Price_Amount" numeric NOT NULL,
    "Sku" text NOT NULL,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id")
);
2023-11-27 07:21:25.263 +00:00 [INF] Executed DbCommand (140ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    "Price_Currency" character varying(3) NOT NULL,
    "Price_Amount" numeric NOT NULL,
    "Sku" text NOT NULL,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id")
);
2023-11-27 07:21:25.264 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-27 07:21:25.264 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-27 07:21:25.264 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-27 07:21:25.265 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231127072004_Initialize', '8.0.0');
2023-11-27 07:21:25.268 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231127072004_Initialize', '8.0.0');
2023-11-27 07:21:25.269 +00:00 [DBG] Committing transaction.
2023-11-27 07:21:25.284 +00:00 [DBG] Committed transaction.
2023-11-27 07:21:25.286 +00:00 [DBG] Disposing transaction.
2023-11-27 07:21:25.286 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.287 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:21:25.290 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 07:21:25.292 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:25.293 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:21:25.312 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 07:21:25.322 +00:00 [DBG] Hosting starting
2023-11-27 07:21:25.468 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 07:21:25.590 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 07:21:25.590 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 07:21:25.590 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 07:21:25.591 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 07:21:25.591 +00:00 [INF] Hosting environment: Development
2023-11-27 07:21:25.591 +00:00 [INF] Content root path: /app
2023-11-27 07:21:25.592 +00:00 [DBG] Hosting started
2023-11-27 07:21:25.768 +00:00 [DBG] Connection id "0HMVF35RKLO39" accepted.
2023-11-27 07:21:25.770 +00:00 [DBG] Connection id "0HMVF35RKLO39" started.
2023-11-27 07:21:25.792 +00:00 [DBG] Connection 0HMVF35RKLO39 established using the following protocol: "Tls13"
2023-11-27 07:21:25.839 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/index.html - null null
2023-11-27 07:21:25.840 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 07:21:25.892 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 07:21:25.893 +00:00 [DBG] Request did not match any endpoints
2023-11-27 07:21:25.972 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/index.html - 200 null text/html;charset=utf-8 134.0894ms
2023-11-27 07:21:26.398 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/v1/swagger.json - null null
2023-11-27 07:21:26.399 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 07:21:26.399 +00:00 [DBG] Request did not match any endpoints
2023-11-27 07:21:26.406 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 07:21:26.480 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 81.7772ms
2023-11-27 07:21:41.231 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54208/products - application/json 75
2023-11-27 07:21:41.238 +00:00 [DBG] 1 candidate(s) found for the request path '/products'
2023-11-27 07:21:41.239 +00:00 [DBG] Request matched endpoint 'HTTP: POST products'
2023-11-27 07:21:41.241 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 07:21:41.247 +00:00 [INF] Executing endpoint 'HTTP: POST products'
2023-11-27 07:21:41.252 +00:00 [DBG] Connection id "0HMVF35RKLO39", Request id "0HMVF35RKLO39:00000005": started reading request body.
2023-11-27 07:21:41.253 +00:00 [DBG] Connection id "0HMVF35RKLO39", Request id "0HMVF35RKLO39:00000005": done reading request body.
2023-11-27 07:21:41.276 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 07:21:41.321 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 07:21:41.337 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 07:21:41.341 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 07:21:41.349 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 07:21:41.353 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-27 07:21:41.354 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 07:21:41.355 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 07:21:41.395 +00:00 [DBG] Creating DbConnection.
2023-11-27 07:21:41.396 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 07:21:41.398 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:41.399 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:41.403 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 07:21:41.404 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 07:21:41.408 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-11-27 07:21:41.410 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 07:21:41.454 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 07:21:41.460 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:41.461 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-11-27 07:21:41.465 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:41.466 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 07:21:41.474 +00:00 [DBG] An entity of type 'Product' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 07:21:41.475 +00:00 [DBG] An entity of type 'Money' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 07:21:41.477 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-11-27 07:21:41.479 +00:00 [INF] Setting HTTP status code 200.
2023-11-27 07:21:41.480 +00:00 [INF] Executed endpoint 'HTTP: POST products'
2023-11-27 07:21:41.482 +00:00 [INF] HTTP POST /products responded 200 in 238.5457 ms
2023-11-27 07:21:41.484 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 07:21:41.487 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 07:21:41.490 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-27 07:21:41.491 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54208/products - 200 0 null 260.8414ms
2023-11-27 08:08:50.170 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 08:08:50.588 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 08:08:50.689 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 08:08:50.700 +00:00 [DBG] Creating DbConnection.
2023-11-27 08:08:50.729 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-27 08:08:50.733 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:50.872 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:50.874 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:50.882 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-27 08:08:50.887 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:08:50.892 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-27 08:08:50.893 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-27 08:08:50.894 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:50.978 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:50.983 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:08:51.029 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:08:51.030 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.031 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 08:08:51.040 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.040 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.041 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:08:51.041 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:08:51.042 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:08:51.042 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:08:51.046 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:08:51.051 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.053 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-27 08:08:51.053 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.053 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:08:51.055 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.055 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.113 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.113 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.114 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:08:51.114 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:08:51.115 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:08:51.115 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:08:51.116 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.116 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.116 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:08:51.117 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:08:51.118 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.118 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:08:51.119 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.178 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.178 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.179 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:08:51.179 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:08:51.179 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:08:51.180 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:08:51.180 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.181 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.181 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:08:51.182 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:08:51.182 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.183 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:08:51.183 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.184 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.184 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:08:51.184 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:08:51.184 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:08:51.185 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:08:51.186 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:08:51.186 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.186 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 08:08:51.187 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.187 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:08:51.195 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 08:08:51.197 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 08:08:51.199 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:08:51.200 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 08:08:51.218 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 08:08:51.228 +00:00 [DBG] Hosting starting
2023-11-27 08:08:51.362 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 08:08:51.481 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 08:08:51.482 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 08:08:51.482 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 08:08:51.483 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 08:08:51.483 +00:00 [INF] Hosting environment: Development
2023-11-27 08:08:51.483 +00:00 [INF] Content root path: /app
2023-11-27 08:08:51.484 +00:00 [DBG] Hosting started
2023-11-27 08:08:51.655 +00:00 [DBG] Connection id "0HMVF40BP5QO9" accepted.
2023-11-27 08:08:51.657 +00:00 [DBG] Connection id "0HMVF40BP5QO9" started.
2023-11-27 08:08:51.683 +00:00 [DBG] Connection 0HMVF40BP5QO9 established using the following protocol: "Tls13"
2023-11-27 08:08:51.735 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/index.html - null null
2023-11-27 08:08:51.736 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 08:08:51.809 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 08:08:51.811 +00:00 [DBG] Request did not match any endpoints
2023-11-27 08:08:51.890 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/index.html - 200 null text/html;charset=utf-8 155.3697ms
2023-11-27 08:08:52.233 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/v1/swagger.json - null null
2023-11-27 08:08:52.234 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 08:08:52.234 +00:00 [DBG] Request did not match any endpoints
2023-11-27 08:08:52.239 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 08:08:52.354 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 121.1321ms
2023-11-27 08:23:06.618 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 08:23:07.036 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 08:23:07.125 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 08:23:07.135 +00:00 [DBG] Creating DbConnection.
2023-11-27 08:23:07.163 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-27 08:23:07.168 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.313 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.315 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.324 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (6ms).
2023-11-27 08:23:07.331 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:23:07.336 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-11-27 08:23:07.338 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-11-27 08:23:07.338 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.423 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.428 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:23:07.479 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:23:07.480 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.482 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 08:23:07.491 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.492 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.492 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:23:07.493 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:23:07.493 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:23:07.494 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:23:07.498 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:23:07.504 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.505 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-27 08:23:07.505 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.506 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:23:07.507 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.508 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.572 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.572 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.572 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:23:07.573 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:23:07.573 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:23:07.573 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:23:07.574 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.574 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.574 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:23:07.575 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:23:07.576 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.576 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:23:07.576 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.634 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.634 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.634 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:23:07.635 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:23:07.637 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-11-27 08:23:07.637 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-11-27 08:23:07.637 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.638 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.638 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:23:07.639 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:23:07.639 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.640 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:23:07.640 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.640 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.641 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:23:07.641 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:23:07.641 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:23:07.641 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:23:07.642 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:23:07.642 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.643 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 08:23:07.643 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.643 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:23:07.650 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 08:23:07.652 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 08:23:07.653 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:23:07.654 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:23:07.671 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 08:23:07.679 +00:00 [DBG] Hosting starting
2023-11-27 08:23:07.822 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 08:23:07.940 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 08:23:07.940 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 08:23:07.941 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 08:23:07.941 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 08:23:07.942 +00:00 [INF] Hosting environment: Development
2023-11-27 08:23:07.942 +00:00 [INF] Content root path: /app
2023-11-27 08:23:07.943 +00:00 [DBG] Hosting started
2023-11-27 08:23:08.111 +00:00 [DBG] Connection id "0HMVF48B0VAP2" accepted.
2023-11-27 08:23:08.113 +00:00 [DBG] Connection id "0HMVF48B0VAP2" started.
2023-11-27 08:23:08.148 +00:00 [DBG] Connection 0HMVF48B0VAP2 established using the following protocol: "Tls13"
2023-11-27 08:23:08.208 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/index.html - null null
2023-11-27 08:23:08.209 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 08:23:08.262 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 08:23:08.263 +00:00 [DBG] Request did not match any endpoints
2023-11-27 08:23:08.332 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/index.html - 200 null text/html;charset=utf-8 124.2646ms
2023-11-27 08:23:08.657 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/v1/swagger.json - null null
2023-11-27 08:23:08.658 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 08:23:08.659 +00:00 [DBG] Request did not match any endpoints
2023-11-27 08:23:08.667 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 08:23:08.737 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 79.9763ms
2023-11-27 08:24:02.856 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 08:24:03.249 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 08:24:03.343 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 08:24:03.353 +00:00 [DBG] Creating DbConnection.
2023-11-27 08:24:03.382 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-27 08:24:03.386 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.512 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.514 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.522 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-27 08:24:03.528 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:24:03.537 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (8ms).
2023-11-27 08:24:03.538 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2023-11-27 08:24:03.539 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.618 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.623 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:24:03.668 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:24:03.669 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.671 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 08:24:03.679 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.680 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.680 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:24:03.680 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:24:03.681 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:24:03.681 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:24:03.685 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:24:03.690 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.691 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-11-27 08:24:03.692 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.692 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:24:03.694 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.694 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.750 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.750 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.751 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:24:03.751 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:24:03.751 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:24:03.752 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:24:03.752 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.753 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.753 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:24:03.754 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:24:03.755 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.755 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:24:03.755 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.807 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.808 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.808 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:24:03.809 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:24:03.809 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:24:03.810 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:24:03.810 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.810 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.811 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:24:03.812 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:24:03.813 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.813 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:24:03.814 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.814 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.814 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:24:03.815 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:24:03.815 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:24:03.815 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:24:03.817 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:24:03.817 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.818 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 08:24:03.818 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.819 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:24:03.829 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 08:24:03.831 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 08:24:03.834 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:24:03.835 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 08:24:03.855 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 08:24:03.865 +00:00 [DBG] Hosting starting
2023-11-27 08:24:04.016 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 08:24:04.127 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 08:24:04.128 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 08:24:04.128 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 08:24:04.129 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 08:24:04.129 +00:00 [INF] Hosting environment: Development
2023-11-27 08:24:04.129 +00:00 [INF] Content root path: /app
2023-11-27 08:24:04.130 +00:00 [DBG] Hosting started
2023-11-27 08:24:04.289 +00:00 [DBG] Connection id "0HMVF48RONJMQ" accepted.
2023-11-27 08:24:04.291 +00:00 [DBG] Connection id "0HMVF48RONJMQ" started.
2023-11-27 08:24:04.317 +00:00 [DBG] Connection 0HMVF48RONJMQ established using the following protocol: "Tls13"
2023-11-27 08:24:04.366 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/index.html - null null
2023-11-27 08:24:04.368 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 08:24:04.402 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
command             | Body (Inferred)
sender              | Services (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 08:24:04.454 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/index.html - 500 null text/html; charset=utf-8 89.8021ms
2023-11-27 08:24:04.750 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/favicon.ico - null null
2023-11-27 08:24:04.753 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
command             | Body (Inferred)
sender              | Services (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 08:24:04.757 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/favicon.ico - 500 null text/plain; charset=utf-8 6.9818ms
2023-11-27 08:25:50.526 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 08:25:50.930 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 08:25:51.019 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 08:25:51.028 +00:00 [DBG] Creating DbConnection.
2023-11-27 08:25:51.056 +00:00 [DBG] Created DbConnection. (26ms).
2023-11-27 08:25:51.060 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.198 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.200 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.207 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-27 08:25:51.213 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:25:51.217 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-27 08:25:51.218 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-27 08:25:51.219 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.287 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.292 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:25:51.337 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:25:51.339 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.341 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-27 08:25:51.349 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.350 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.350 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:25:51.350 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:25:51.351 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:25:51.351 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:25:51.355 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:25:51.361 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.362 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-27 08:25:51.363 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.363 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:25:51.364 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.365 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.424 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.424 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.425 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:25:51.425 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:25:51.426 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:25:51.426 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:25:51.427 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.427 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.428 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:25:51.429 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:25:51.429 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.429 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:25:51.430 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.485 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.485 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.486 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:25:51.486 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:25:51.486 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:25:51.487 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:25:51.487 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.487 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.488 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:25:51.489 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:25:51.490 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.490 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:25:51.491 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.491 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.492 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:25:51.492 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:25:51.492 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:25:51.493 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:25:51.494 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:25:51.494 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.494 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 08:25:51.495 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.495 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:25:51.504 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 08:25:51.506 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 08:25:51.507 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:25:51.508 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:25:51.525 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 08:25:51.534 +00:00 [DBG] Hosting starting
2023-11-27 08:25:51.661 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 08:25:51.773 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 08:25:51.773 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 08:25:51.774 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 08:25:51.775 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 08:25:51.776 +00:00 [INF] Hosting environment: Development
2023-11-27 08:25:51.776 +00:00 [INF] Content root path: /app
2023-11-27 08:25:51.777 +00:00 [DBG] Hosting started
2023-11-27 08:25:51.940 +00:00 [DBG] Connection id "0HMVF49RRC1HD" accepted.
2023-11-27 08:25:51.942 +00:00 [DBG] Connection id "0HMVF49RRC1HD" started.
2023-11-27 08:25:51.968 +00:00 [DBG] Connection 0HMVF49RRC1HD established using the following protocol: "Tls13"
2023-11-27 08:25:52.016 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/index.html - null null
2023-11-27 08:25:52.018 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 08:25:52.055 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
command             | Body (Inferred)
sender              | Services (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 08:25:52.101 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/index.html - 500 null text/html; charset=utf-8 86.45ms
2023-11-27 08:25:52.391 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/favicon.ico - null null
2023-11-27 08:25:52.395 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
command             | Body (Inferred)
sender              | Services (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 08:25:52.399 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/favicon.ico - 500 null text/plain; charset=utf-8 8.2296ms
2023-11-27 08:26:48.379 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 08:26:48.767 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 08:26:48.855 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 08:26:48.864 +00:00 [DBG] Creating DbConnection.
2023-11-27 08:26:48.892 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-27 08:26:48.896 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.034 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.036 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.044 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-27 08:26:49.050 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:26:49.054 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-27 08:26:49.056 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-27 08:26:49.056 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.140 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.146 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:26:49.191 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:26:49.192 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.194 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 08:26:49.202 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.203 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.203 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:26:49.204 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:26:49.204 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:26:49.205 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:26:49.209 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:26:49.214 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.215 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-11-27 08:26:49.215 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.216 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:26:49.217 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.218 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.271 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.271 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.272 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:26:49.272 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:26:49.272 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:26:49.273 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:26:49.273 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.273 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.274 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:26:49.275 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:26:49.275 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.275 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:26:49.276 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.333 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.333 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.334 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:26:49.343 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:26:49.343 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:26:49.344 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:26:49.344 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.344 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.345 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:26:49.346 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:26:49.347 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.347 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:26:49.348 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.348 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.349 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:26:49.349 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:26:49.350 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:26:49.350 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:26:49.351 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:26:49.352 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.353 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 08:26:49.353 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.353 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:26:49.361 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 08:26:49.363 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 08:26:49.364 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:26:49.365 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:26:49.383 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 08:26:49.392 +00:00 [DBG] Hosting starting
2023-11-27 08:26:49.520 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 08:26:49.632 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 08:26:49.632 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 08:26:49.633 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 08:26:49.633 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 08:26:49.634 +00:00 [INF] Hosting environment: Development
2023-11-27 08:26:49.635 +00:00 [INF] Content root path: /app
2023-11-27 08:26:49.635 +00:00 [DBG] Hosting started
2023-11-27 08:26:49.792 +00:00 [DBG] Connection id "0HMVF4AD32RQP" accepted.
2023-11-27 08:26:49.793 +00:00 [DBG] Connection id "0HMVF4AD32RQP" started.
2023-11-27 08:26:49.818 +00:00 [DBG] Connection 0HMVF4AD32RQP established using the following protocol: "Tls13"
2023-11-27 08:26:49.864 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/index.html - null null
2023-11-27 08:26:49.865 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 08:26:49.899 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
command             | Body (Inferred)
sender              | Services (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 08:26:49.945 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/index.html - 500 null text/html; charset=utf-8 82.3328ms
2023-11-27 08:26:50.229 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/favicon.ico - null null
2023-11-27 08:26:50.232 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Body was inferred but the method does not allow inferred body parameters.
Below is the list of parameters that we found: 

Parameter           | Source                        
---------------------------------------------------------------------------------
command             | Body (Inferred)
sender              | Services (Inferred)


Did you mean to register the "Body (Inferred)" parameter(s) as a Service or apply the [FromServices] or [FromBody] attribute?


   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArguments(ParameterInfo[] parameters, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.CreateArgumentsAndInferMetadata(MethodInfo methodInfo, RequestDelegateFactoryContext factoryContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.InferMetadata(MethodInfo methodInfo, RequestDelegateFactoryOptions options)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.CreateRouteEndpointBuilder(RouteEntry entry, RoutePattern groupPrefix, IReadOnlyList`1 groupConventions, IReadOnlyList`1 groupFinallyConventions)
   at Microsoft.AspNetCore.Routing.RouteEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.CreateEndpointsUnsynchronized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.EnsureEndpointsInitialized()
   at Microsoft.AspNetCore.Routing.CompositeEndpointDataSource.get_Endpoints()
   at Microsoft.AspNetCore.Routing.DataSourceDependentCache`1.Initialize()
   at System.Threading.LazyInitializer.EnsureInitializedCore[T](T& target, Boolean& initialized, Object& syncLock, Func`1 valueFactory)
   at Microsoft.AspNetCore.Routing.Matching.DataSourceDependentMatcher..ctor(EndpointDataSource dataSource, Lifetime lifetime, Func`1 matcherBuilderFactory)
   at Microsoft.AspNetCore.Routing.Matching.DfaMatcherFactory.CreateMatcher(EndpointDataSource dataSource)
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.InitializeCoreAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointRoutingMiddleware.<Invoke>g__AwaitMatcher|10_0(EndpointRoutingMiddleware middleware, HttpContext httpContext, Task`1 matcherTask)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 08:26:50.237 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/favicon.ico - 500 null text/plain; charset=utf-8 8.7445ms
2023-11-27 08:27:24.427 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 08:27:24.819 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 08:27:24.910 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 08:27:24.919 +00:00 [DBG] Creating DbConnection.
2023-11-27 08:27:24.948 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-27 08:27:24.953 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.089 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.091 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.098 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-27 08:27:25.104 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:27:25.109 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-27 08:27:25.110 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-11-27 08:27:25.110 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.192 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.197 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:27:25.242 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:27:25.243 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.245 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 08:27:25.254 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.255 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.255 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:27:25.256 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:27:25.256 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:27:25.257 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:27:25.260 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:27:25.265 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.266 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-11-27 08:27:25.267 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.267 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:27:25.269 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.270 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.324 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.324 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.325 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:27:25.325 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:27:25.326 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:27:25.326 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:27:25.326 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.327 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.327 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:27:25.328 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:27:25.328 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.329 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:27:25.329 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.386 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.386 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.387 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:27:25.387 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 08:27:25.387 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:27:25.387 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 08:27:25.388 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.388 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.389 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:27:25.390 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 08:27:25.390 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.391 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:27:25.391 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.391 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.392 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:27:25.392 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:27:25.392 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:27:25.393 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:27:25.394 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 08:27:25.394 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.394 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 08:27:25.395 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.395 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:27:25.403 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 08:27:25.405 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 08:27:25.406 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:25.407 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:27:25.422 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 08:27:25.432 +00:00 [DBG] Hosting starting
2023-11-27 08:27:25.570 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 08:27:25.691 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 08:27:25.691 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 08:27:25.691 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 08:27:25.692 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 08:27:25.692 +00:00 [INF] Hosting environment: Development
2023-11-27 08:27:25.693 +00:00 [INF] Content root path: /app
2023-11-27 08:27:25.693 +00:00 [DBG] Hosting started
2023-11-27 08:27:25.851 +00:00 [DBG] Connection id "0HMVF4ANQVEOB" accepted.
2023-11-27 08:27:25.853 +00:00 [DBG] Connection id "0HMVF4ANQVEOB" started.
2023-11-27 08:27:25.876 +00:00 [DBG] Connection 0HMVF4ANQVEOB established using the following protocol: "Tls13"
2023-11-27 08:27:25.918 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/index.html - null null
2023-11-27 08:27:25.922 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 08:27:25.983 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 08:27:25.985 +00:00 [DBG] Request did not match any endpoints
2023-11-27 08:27:26.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/index.html - 200 null text/html;charset=utf-8 148.8833ms
2023-11-27 08:27:26.381 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/swagger/v1/swagger.json - null null
2023-11-27 08:27:26.381 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 08:27:26.382 +00:00 [DBG] Request did not match any endpoints
2023-11-27 08:27:26.389 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 08:27:26.471 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 90.7434ms
2023-11-27 08:27:30.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/products - null null
2023-11-27 08:27:31.000 +00:00 [DBG] 1 candidate(s) found for the request path '/products'
2023-11-27 08:27:31.001 +00:00 [DBG] Request matched endpoint 'HTTP: GET products'
2023-11-27 08:27:31.004 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 08:27:31.013 +00:00 [INF] Executing endpoint 'HTTP: GET products'
2023-11-27 08:27:31.037 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 08:27:31.057 +00:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Select(p => new ProductResponse(
        p.Id.Value, 
        p.Name, 
        p.Sku.Value, 
        p.Price.Currency, 
        p.Price.Amount
    ))'
2023-11-27 08:27:31.181 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
        SELECT p.Id, p.Name, p.Sku, p.Price_Currency, p.Price_Amount
        FROM Products AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductResponse>, 
    Presentation.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-27 08:27:31.200 +00:00 [DBG] Creating DbConnection.
2023-11-27 08:27:31.200 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 08:27:31.202 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:31.205 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:31.205 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:27:31.206 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:27:31.206 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:27:31.207 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-11-27 08:27:31.217 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-11-27 08:27:31.230 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:31.231 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 13ms reading results.
2023-11-27 08:27:31.234 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:31.235 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:27:31.237 +00:00 [INF] Setting HTTP status code 200.
2023-11-27 08:27:31.244 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-11-27 08:27:31.248 +00:00 [INF] Executed endpoint 'HTTP: GET products'
2023-11-27 08:27:31.252 +00:00 [INF] HTTP GET /products responded 200 in 242.6981 ms
2023-11-27 08:27:31.255 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 08:27:31.257 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:31.258 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 08:27:31.259 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/products - 200 null application/json; charset=utf-8 263.6238ms
2023-11-27 08:27:42.955 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/products/35ae16cf-ba96-4f21-98af-2d6e5d71d646 - null null
2023-11-27 08:27:42.955 +00:00 [DBG] 1 candidate(s) found for the request path '/products/35ae16cf-ba96-4f21-98af-2d6e5d71d646'
2023-11-27 08:27:42.959 +00:00 [DBG] Endpoint 'HTTP: GET products/{id:guid}' with route pattern 'products/{id:guid}' is valid for the request path '/products/35ae16cf-ba96-4f21-98af-2d6e5d71d646'
2023-11-27 08:27:42.960 +00:00 [DBG] Request matched endpoint 'HTTP: GET products/{id:guid}'
2023-11-27 08:27:42.962 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 08:27:42.962 +00:00 [INF] Executing endpoint 'HTTP: GET products/{id:guid}'
2023-11-27 08:27:43.005 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 08:27:43.013 +00:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Where(p => p.Id == __request_ProductId_0)
    .Select(p => new ProductResponse(
        p.Id.Value, 
        p.Name, 
        p.Sku.Value, 
        p.Price.Currency, 
        p.Price.Amount
    ))
    .FirstOrDefault()'
2023-11-27 08:27:43.029 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ProductResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<ProductResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
            SELECT TOP(1) p.Id, p.Name, p.Sku, p.Price_Currency, p.Price_Amount
            FROM Products AS p
            WHERE p.Id == @__request_ProductId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductResponse>, 
        Presentation.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-27 08:27:43.036 +00:00 [DBG] Creating DbConnection.
2023-11-27 08:27:43.036 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 08:27:43.036 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:43.037 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:43.037 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:27:43.038 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:27:43.042 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-11-27 08:27:43.045 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
WHERE p."Id" = @__request_ProductId_0
LIMIT 1
2023-11-27 08:27:43.055 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
WHERE p."Id" = @__request_ProductId_0
LIMIT 1
2023-11-27 08:27:43.057 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:43.058 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 3ms reading results.
2023-11-27 08:27:43.059 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:43.060 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:27:43.061 +00:00 [INF] Setting HTTP status code 200.
2023-11-27 08:27:43.061 +00:00 [INF] Writing value of type 'ProductResponse' as Json.
2023-11-27 08:27:43.062 +00:00 [INF] Executed endpoint 'HTTP: GET products/{id:guid}'
2023-11-27 08:27:43.062 +00:00 [INF] HTTP GET /products/35ae16cf-ba96-4f21-98af-2d6e5d71d646 responded 200 in 100.0363 ms
2023-11-27 08:27:43.063 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 08:27:43.063 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:43.064 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:27:43.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/products/35ae16cf-ba96-4f21-98af-2d6e5d71d646 - 200 null application/json; charset=utf-8 109.9029ms
2023-11-27 08:27:52.295 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/products/35ae16cf-ba96-4f21-98af-2d6e5d71d642 - null null
2023-11-27 08:27:52.296 +00:00 [DBG] 1 candidate(s) found for the request path '/products/35ae16cf-ba96-4f21-98af-2d6e5d71d642'
2023-11-27 08:27:52.297 +00:00 [DBG] Endpoint 'HTTP: GET products/{id:guid}' with route pattern 'products/{id:guid}' is valid for the request path '/products/35ae16cf-ba96-4f21-98af-2d6e5d71d642'
2023-11-27 08:27:52.298 +00:00 [DBG] Request matched endpoint 'HTTP: GET products/{id:guid}'
2023-11-27 08:27:52.299 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 08:27:52.299 +00:00 [INF] Executing endpoint 'HTTP: GET products/{id:guid}'
2023-11-27 08:27:52.301 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 08:27:52.305 +00:00 [DBG] Creating DbConnection.
2023-11-27 08:27:52.305 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 08:27:52.306 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:52.306 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:52.306 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:27:52.306 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:27:52.307 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:27:52.307 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
WHERE p."Id" = @__request_ProductId_0
LIMIT 1
2023-11-27 08:27:52.311 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
WHERE p."Id" = @__request_ProductId_0
LIMIT 1
2023-11-27 08:27:52.334 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:52.335 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 22ms reading results.
2023-11-27 08:27:52.337 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:52.337 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:27:52.374 +00:00 [INF] Setting HTTP status code 404.
2023-11-27 08:27:52.375 +00:00 [INF] Writing value of type 'String' as Json.
2023-11-27 08:27:52.376 +00:00 [INF] Executed endpoint 'HTTP: GET products/{id:guid}'
2023-11-27 08:27:52.376 +00:00 [INF] HTTP GET /products/35ae16cf-ba96-4f21-98af-2d6e5d71d642 responded 404 in 76.8257 ms
2023-11-27 08:27:52.376 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 08:27:52.377 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:52.377 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:27:52.378 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/products/35ae16cf-ba96-4f21-98af-2d6e5d71d642 - 404 null application/json; charset=utf-8 83.1492ms
2023-11-27 08:27:58.029 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54208/products/35ae16cf-ba96-4f21-98af-2d6e5d71d646 - null null
2023-11-27 08:27:58.029 +00:00 [DBG] 1 candidate(s) found for the request path '/products/35ae16cf-ba96-4f21-98af-2d6e5d71d646'
2023-11-27 08:27:58.030 +00:00 [DBG] Endpoint 'HTTP: GET products/{id:guid}' with route pattern 'products/{id:guid}' is valid for the request path '/products/35ae16cf-ba96-4f21-98af-2d6e5d71d646'
2023-11-27 08:27:58.030 +00:00 [DBG] Request matched endpoint 'HTTP: GET products/{id:guid}'
2023-11-27 08:27:58.031 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 08:27:58.032 +00:00 [INF] Executing endpoint 'HTTP: GET products/{id:guid}'
2023-11-27 08:27:58.034 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 08:27:58.035 +00:00 [DBG] Creating DbConnection.
2023-11-27 08:27:58.036 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 08:27:58.037 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:58.037 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:58.038 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 08:27:58.039 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 08:27:58.040 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-27 08:27:58.040 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
WHERE p."Id" = @__request_ProductId_0
LIMIT 1
2023-11-27 08:27:58.046 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
WHERE p."Id" = @__request_ProductId_0
LIMIT 1
2023-11-27 08:27:58.048 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:58.050 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-11-27 08:27:58.050 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:58.052 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 08:27:58.052 +00:00 [INF] Setting HTTP status code 200.
2023-11-27 08:27:58.053 +00:00 [INF] Writing value of type 'ProductResponse' as Json.
2023-11-27 08:27:58.054 +00:00 [INF] Executed endpoint 'HTTP: GET products/{id:guid}'
2023-11-27 08:27:58.055 +00:00 [INF] HTTP GET /products/35ae16cf-ba96-4f21-98af-2d6e5d71d646 responded 200 in 22.9120 ms
2023-11-27 08:27:58.055 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 08:27:58.056 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 08:27:58.056 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 08:27:58.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54208/products/35ae16cf-ba96-4f21-98af-2d6e5d71d646 - 200 null application/json; charset=utf-8 28.5554ms
2023-11-27 10:19:39.739 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 10:19:40.125 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 10:19:40.212 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 10:19:40.221 +00:00 [DBG] Creating DbConnection.
2023-11-27 10:19:40.250 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-27 10:19:40.254 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.432 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.434 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.446 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (6ms).
2023-11-27 10:19:40.455 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 10:19:40.460 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-27 10:19:40.461 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-27 10:19:40.461 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.549 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.555 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:19:40.602 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:19:40.604 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.605 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 10:19:40.615 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.616 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.616 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 10:19:40.617 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 10:19:40.617 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-27 10:19:40.618 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 10:19:40.624 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 10:19:40.629 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.631 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-27 10:19:40.631 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.632 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:19:40.634 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.634 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.689 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.690 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.690 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:19:40.691 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 10:19:40.691 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 10:19:40.692 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-11-27 10:19:40.692 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.693 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.693 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:19:40.694 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:19:40.695 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.695 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:19:40.696 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.746 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.746 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.747 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:19:40.748 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 10:19:40.749 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 10:19:40.749 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 10:19:40.750 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.750 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.751 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:19:40.752 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:19:40.753 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.753 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:19:40.754 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.754 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.755 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 10:19:40.755 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 10:19:40.755 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 10:19:40.756 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 10:19:40.757 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 10:19:40.757 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.757 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 10:19:40.758 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.758 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:19:40.769 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 10:19:40.771 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 10:19:40.773 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:40.774 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:19:40.791 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 10:19:40.800 +00:00 [DBG] Hosting starting
2023-11-27 10:19:40.936 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 10:19:41.050 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 10:19:41.051 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 10:19:41.051 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 10:19:41.052 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 10:19:41.052 +00:00 [INF] Hosting environment: Development
2023-11-27 10:19:41.053 +00:00 [INF] Content root path: /app
2023-11-27 10:19:41.053 +00:00 [DBG] Hosting started
2023-11-27 10:19:42.606 +00:00 [DBG] Connection id "0HMVF69FHLDUI" accepted.
2023-11-27 10:19:42.608 +00:00 [DBG] Connection id "0HMVF69FHLDUI" started.
2023-11-27 10:19:42.608 +00:00 [DBG] Connection id "0HMVF69FHLDUJ" accepted.
2023-11-27 10:19:42.610 +00:00 [DBG] Connection id "0HMVF69FHLDUJ" started.
2023-11-27 10:19:42.668 +00:00 [DBG] Connection id "0HMVF69FHLDUI" received FIN.
2023-11-27 10:19:42.692 +00:00 [DBG] Connection 0HMVF69FHLDUJ established using the following protocol: "Tls13"
2023-11-27 10:19:42.692 +00:00 [DBG] Connection 0HMVF69FHLDUI established using the following protocol: "Tls13"
2023-11-27 10:19:42.723 +00:00 [DBG] Connection id "0HMVF69FHLDUI" is closed. The last processed stream ID was 0.
2023-11-27 10:19:42.725 +00:00 [DBG] Connection id "0HMVF69FHLDUI" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-27 10:19:42.732 +00:00 [DBG] The connection queue processing loop for 0HMVF69FHLDUI completed.
2023-11-27 10:19:42.757 +00:00 [DBG] Connection id "0HMVF69FHLDUI" stopped.
2023-11-27 10:19:42.789 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57656/swagger - null null
2023-11-27 10:19:42.791 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 10:19:42.848 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-11-27 10:19:42.849 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:19:42.874 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57656/swagger - 301 0 null 81.5103ms
2023-11-27 10:19:42.881 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57656/swagger/index.html - null null
2023-11-27 10:19:42.882 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 10:19:42.883 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:19:42.929 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57656/swagger/index.html - 200 null text/html;charset=utf-8 47.1901ms
2023-11-27 10:19:42.963 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57656/swagger/swagger-ui.css - null null
2023-11-27 10:19:42.964 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-11-27 10:19:43.006 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:19:43.006 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57656/swagger/swagger-ui-standalone-preset.js - null null
2023-11-27 10:19:43.006 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57656/swagger/swagger-ui-bundle.js - null null
2023-11-27 10:19:43.007 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-11-27 10:19:43.007 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-11-27 10:19:43.008 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:19:43.009 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:19:43.110 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-27 10:19:43.154 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57656/swagger/swagger-ui.css - 200 144929 text/css 212.325ms
2023-11-27 10:19:43.158 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-27 10:19:43.159 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57656/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 173.8002ms
2023-11-27 10:19:43.208 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-27 10:19:43.208 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57656/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 223.1271ms
2023-11-27 10:19:43.505 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57656/swagger/favicon-32x32.png - null null
2023-11-27 10:19:43.505 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57656/swagger/v1/swagger.json - null null
2023-11-27 10:19:43.506 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-11-27 10:19:43.507 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 10:19:43.507 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:19:43.507 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:19:43.508 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-27 10:19:43.509 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57656/swagger/favicon-32x32.png - 200 628 image/png 4.0014ms
2023-11-27 10:19:43.514 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 10:19:43.594 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57656/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.5048ms
2023-11-27 10:19:47.134 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57656/products - null null
2023-11-27 10:19:47.138 +00:00 [DBG] 1 candidate(s) found for the request path '/products'
2023-11-27 10:19:47.140 +00:00 [DBG] Request matched endpoint 'HTTP: GET products'
2023-11-27 10:19:47.141 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 10:19:47.149 +00:00 [INF] Executing endpoint 'HTTP: GET products'
2023-11-27 10:19:47.174 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 10:19:47.194 +00:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Select(p => new ProductResponse(
        p.Id.Value, 
        p.Name, 
        p.Sku.Value, 
        p.Price.Currency, 
        p.Price.Amount
    ))'
2023-11-27 10:19:47.331 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
        SELECT p.Id, p.Name, p.Sku, p.Price_Currency, p.Price_Amount
        FROM Products AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-27 10:19:47.364 +00:00 [DBG] Creating DbConnection.
2023-11-27 10:19:47.365 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 10:19:47.370 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:47.373 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:47.375 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 10:19:47.375 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 10:19:47.376 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-27 10:19:47.377 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-11-27 10:19:47.391 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-11-27 10:19:47.408 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:47.409 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 17ms reading results.
2023-11-27 10:19:47.411 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:47.412 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:19:47.414 +00:00 [INF] Setting HTTP status code 200.
2023-11-27 10:19:47.425 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-11-27 10:19:47.429 +00:00 [INF] Executed endpoint 'HTTP: GET products'
2023-11-27 10:19:47.431 +00:00 [INF] HTTP GET /products responded 200 in 287.2373 ms
2023-11-27 10:19:47.433 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 10:19:47.437 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:19:47.439 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 10:19:47.440 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57656/products - 200 null application/json; charset=utf-8 307.2309ms
2023-11-27 10:21:22.991 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 10:21:23.389 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 10:21:23.478 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 10:21:23.487 +00:00 [DBG] Creating DbConnection.
2023-11-27 10:21:23.516 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-27 10:21:23.521 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.698 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.700 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.708 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-27 10:21:23.715 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 10:21:23.720 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-27 10:21:23.721 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-11-27 10:21:23.722 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.809 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.815 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:21:23.860 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:21:23.862 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.864 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-27 10:21:23.872 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.872 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.873 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 10:21:23.873 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 10:21:23.874 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 10:21:23.875 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 10:21:23.882 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 10:21:23.887 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.888 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-27 10:21:23.888 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.889 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:21:23.890 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.891 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.949 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.949 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.950 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:21:23.950 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 10:21:23.951 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 10:21:23.951 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 10:21:23.951 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.952 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.953 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:21:23.954 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:21:23.954 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:23.955 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:21:23.955 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:24.016 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:24.016 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:24.017 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:21:24.017 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 10:21:24.017 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 10:21:24.018 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 10:21:24.019 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:24.019 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:24.020 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:21:24.021 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:21:24.021 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:24.022 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:21:24.022 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:24.023 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:24.023 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 10:21:24.024 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 10:21:24.024 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-27 10:21:24.025 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 10:21:24.026 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 10:21:24.026 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:24.027 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 10:21:24.027 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:24.028 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:21:24.037 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 10:21:24.039 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 10:21:24.041 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:21:24.042 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:21:24.061 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 10:21:24.071 +00:00 [DBG] Hosting starting
2023-11-27 10:21:24.214 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 10:21:24.335 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 10:21:24.336 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 10:21:24.336 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 10:21:24.337 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 10:21:24.337 +00:00 [INF] Hosting environment: Development
2023-11-27 10:21:24.338 +00:00 [INF] Content root path: /app
2023-11-27 10:21:24.338 +00:00 [DBG] Hosting started
2023-11-27 10:21:25.706 +00:00 [DBG] Connection id "0HMVF6AE8T56A" accepted.
2023-11-27 10:21:25.708 +00:00 [DBG] Connection id "0HMVF6AE8T56B" accepted.
2023-11-27 10:21:25.708 +00:00 [DBG] Connection id "0HMVF6AE8T56A" started.
2023-11-27 10:21:25.709 +00:00 [DBG] Connection id "0HMVF6AE8T56B" started.
2023-11-27 10:21:25.744 +00:00 [DBG] Connection id "0HMVF6AE8T56A" received FIN.
2023-11-27 10:21:25.758 +00:00 [DBG] Connection 0HMVF6AE8T56B established using the following protocol: "Tls13"
2023-11-27 10:21:25.758 +00:00 [DBG] Connection 0HMVF6AE8T56A established using the following protocol: "Tls13"
2023-11-27 10:21:25.776 +00:00 [DBG] Connection id "0HMVF6AE8T56A" is closed. The last processed stream ID was 0.
2023-11-27 10:21:25.776 +00:00 [DBG] Connection id "0HMVF6AE8T56A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-27 10:21:25.783 +00:00 [DBG] The connection queue processing loop for 0HMVF6AE8T56A completed.
2023-11-27 10:21:25.790 +00:00 [DBG] Connection id "0HMVF6AE8T56A" stopped.
2023-11-27 10:21:25.827 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger - null null
2023-11-27 10:21:25.829 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 10:21:25.907 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-11-27 10:21:25.908 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:21:25.959 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger - 301 0 null 128.4184ms
2023-11-27 10:21:25.991 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/index.html - null null
2023-11-27 10:21:25.992 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 10:21:26.005 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:21:26.094 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/index.html - 200 null text/html;charset=utf-8 102.7344ms
2023-11-27 10:21:26.135 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/swagger-ui.css - null null
2023-11-27 10:21:26.135 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/swagger-ui-bundle.js - null null
2023-11-27 10:21:26.135 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/swagger-ui-standalone-preset.js - null null
2023-11-27 10:21:26.136 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-11-27 10:21:26.137 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-11-27 10:21:26.143 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-11-27 10:21:26.147 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:21:26.148 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:21:26.149 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:21:26.365 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-27 10:21:26.372 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/swagger-ui.css - 200 144929 text/css 237.5704ms
2023-11-27 10:21:26.419 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-27 10:21:26.422 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 286.5016ms
2023-11-27 10:21:26.553 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-27 10:21:26.555 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 419.6766ms
2023-11-27 10:21:26.910 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - null null
2023-11-27 10:21:26.912 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 10:21:26.914 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:21:26.928 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 10:21:26.973 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/favicon-32x32.png - null null
2023-11-27 10:21:26.974 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-11-27 10:21:26.975 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:21:26.976 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-27 10:21:26.977 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/favicon-32x32.png - 200 628 image/png 24.5511ms
2023-11-27 10:21:27.058 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 148.1805ms
2023-11-27 10:29:02.447 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 10:29:02.834 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 10:29:02.921 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 10:29:02.930 +00:00 [DBG] Creating DbConnection.
2023-11-27 10:29:02.956 +00:00 [DBG] Created DbConnection. (25ms).
2023-11-27 10:29:02.962 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.092 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.094 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.101 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-27 10:29:03.106 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 10:29:03.111 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-27 10:29:03.112 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-11-27 10:29:03.112 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.195 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.200 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:29:03.245 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:29:03.246 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.247 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 10:29:03.255 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.256 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.256 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 10:29:03.257 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 10:29:03.257 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 10:29:03.258 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 10:29:03.262 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 10:29:03.268 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.269 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-27 10:29:03.269 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.270 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:29:03.271 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.272 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.320 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.321 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.321 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:29:03.322 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 10:29:03.322 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 10:29:03.322 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 10:29:03.323 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.323 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.324 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:29:03.325 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:29:03.325 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.326 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:29:03.326 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.385 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.385 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.385 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:29:03.386 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 10:29:03.386 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 10:29:03.387 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 10:29:03.387 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.388 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.389 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:29:03.390 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 10:29:03.391 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.392 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:29:03.392 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.393 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.393 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 10:29:03.394 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 10:29:03.394 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-27 10:29:03.395 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 10:29:03.396 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 10:29:03.396 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.397 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 10:29:03.397 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.397 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:29:03.406 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 10:29:03.407 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 10:29:03.409 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:03.410 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 10:29:03.428 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 10:29:03.437 +00:00 [DBG] Hosting starting
2023-11-27 10:29:03.570 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 10:29:03.687 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 10:29:03.687 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 10:29:03.688 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 10:29:03.688 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 10:29:03.688 +00:00 [INF] Hosting environment: Development
2023-11-27 10:29:03.689 +00:00 [INF] Content root path: /app
2023-11-27 10:29:03.689 +00:00 [DBG] Hosting started
2023-11-27 10:29:03.841 +00:00 [DBG] Connection id "0HMVF6EMQ0R9O" accepted.
2023-11-27 10:29:03.843 +00:00 [DBG] Connection id "0HMVF6EMQ0R9O" started.
2023-11-27 10:29:03.869 +00:00 [DBG] Connection 0HMVF6EMQ0R9O established using the following protocol: "Tls13"
2023-11-27 10:29:03.920 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/index.html - null null
2023-11-27 10:29:03.922 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 10:29:03.984 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 10:29:03.985 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:29:04.060 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/index.html - 200 null text/html;charset=utf-8 139.6666ms
2023-11-27 10:29:04.493 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - null null
2023-11-27 10:29:04.493 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 10:29:04.494 +00:00 [DBG] Request did not match any endpoints
2023-11-27 10:29:04.501 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 10:29:04.578 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 85.2471ms
2023-11-27 10:29:07.954 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/products - null null
2023-11-27 10:29:07.959 +00:00 [DBG] 1 candidate(s) found for the request path '/products'
2023-11-27 10:29:07.960 +00:00 [DBG] Request matched endpoint 'HTTP: GET products'
2023-11-27 10:29:07.963 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 10:29:07.970 +00:00 [INF] Executing endpoint 'HTTP: GET products'
2023-11-27 10:29:07.992 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 10:29:08.014 +00:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Select(p => new ProductResponse(
        p.Id.Value, 
        p.Name, 
        p.Sku.Value, 
        p.Price.Currency, 
        p.Price.Amount
    ))'
2023-11-27 10:29:08.128 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
        SELECT p.Id, p.Name, p.Sku, p.Price_Currency, p.Price_Amount
        FROM Products AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-27 10:29:08.148 +00:00 [DBG] Creating DbConnection.
2023-11-27 10:29:08.149 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 10:29:08.151 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:08.152 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:08.153 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 10:29:08.153 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 10:29:08.154 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 10:29:08.154 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-11-27 10:29:08.164 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-11-27 10:29:08.175 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:08.176 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 11ms reading results.
2023-11-27 10:29:08.179 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:08.180 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 10:29:08.182 +00:00 [INF] Setting HTTP status code 200.
2023-11-27 10:29:08.187 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-11-27 10:29:08.191 +00:00 [INF] Executed endpoint 'HTTP: GET products'
2023-11-27 10:29:08.193 +00:00 [INF] HTTP GET /products responded 200 in 226.8107 ms
2023-11-27 10:29:08.196 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 10:29:08.198 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 10:29:08.200 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 10:29:08.200 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/products - 200 null application/json; charset=utf-8 246.1958ms
2023-11-27 11:13:16.244 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 11:13:16.698 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 11:13:16.800 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:13:16.812 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:13:16.848 +00:00 [DBG] Created DbConnection. (34ms).
2023-11-27 11:13:16.852 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.022 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.024 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.036 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-27 11:13:17.042 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:13:17.047 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-27 11:13:17.048 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-11-27 11:13:17.049 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.135 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.141 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:13:17.186 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:13:17.188 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.190 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 11:13:17.198 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.199 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.199 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:13:17.200 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:13:17.200 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:13:17.201 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:13:17.205 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:13:17.211 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.212 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-27 11:13:17.213 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.213 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:13:17.215 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.216 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.274 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.274 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.275 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:13:17.275 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:13:17.276 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:13:17.276 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:13:17.277 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.277 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.277 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:13:17.279 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:13:17.279 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.280 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:13:17.280 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.340 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.340 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.341 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:13:17.341 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:13:17.342 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:13:17.342 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:13:17.343 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.343 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.344 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:13:17.345 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:13:17.345 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.346 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:13:17.346 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.347 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.347 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:13:17.347 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:13:17.348 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:13:17.348 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:13:17.349 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:13:17.349 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.350 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 11:13:17.350 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.350 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:13:17.358 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 11:13:17.360 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:13:17.362 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:13:17.363 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:13:17.382 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 11:13:17.383 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-27 11:13:17.396 +00:00 [DBG] Hosting starting
2023-11-27 11:13:17.544 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 11:13:17.688 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 11:13:17.688 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 11:13:17.688 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 11:13:17.689 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 11:13:17.689 +00:00 [INF] Hosting environment: Development
2023-11-27 11:13:17.690 +00:00 [INF] Content root path: /app
2023-11-27 11:13:17.690 +00:00 [DBG] Hosting started
2023-11-27 11:13:17.869 +00:00 [DBG] Connection id "0HMVF77DOQ4BP" accepted.
2023-11-27 11:13:17.870 +00:00 [DBG] Connection id "0HMVF77DOQ4BP" started.
2023-11-27 11:13:17.897 +00:00 [DBG] Connection 0HMVF77DOQ4BP established using the following protocol: "Tls13"
2023-11-27 11:13:17.969 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/index.html - null null
2023-11-27 11:13:17.972 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 11:13:18.056 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 11:13:18.057 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:13:18.130 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/index.html - 200 null text/html;charset=utf-8 161.3542ms
2023-11-27 11:13:18.469 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - null null
2023-11-27 11:13:18.471 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 11:13:18.471 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:13:18.479 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 11:13:18.586 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 116.9148ms
2023-11-27 11:20:02.430 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 11:20:02.855 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 11:20:02.948 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:20:02.957 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:20:02.989 +00:00 [DBG] Created DbConnection. (31ms).
2023-11-27 11:20:02.994 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.127 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.130 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.137 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-27 11:20:03.142 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:20:03.147 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-27 11:20:03.149 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-27 11:20:03.149 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.237 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.242 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:20:03.290 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:20:03.291 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.293 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 11:20:03.301 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.302 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.302 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:20:03.302 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:20:03.303 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:20:03.304 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:20:03.307 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:20:03.313 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.315 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-27 11:20:03.315 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.315 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:20:03.317 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.318 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.377 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.378 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.378 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:20:03.379 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:20:03.379 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:20:03.379 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:20:03.380 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.380 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.381 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:20:03.382 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:20:03.382 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.383 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:20:03.384 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.447 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.448 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.448 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:20:03.449 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:20:03.449 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:20:03.449 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:20:03.450 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.450 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.451 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:20:03.452 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:20:03.452 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.453 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:20:03.454 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.454 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.455 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:20:03.455 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:20:03.456 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:20:03.456 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:20:03.457 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:20:03.457 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.458 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 11:20:03.458 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.459 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:20:03.468 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 11:20:03.469 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:20:03.471 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:20:03.472 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:20:03.490 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 11:20:03.491 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-27 11:20:03.501 +00:00 [DBG] Hosting starting
2023-11-27 11:20:03.635 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 11:20:03.750 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 11:20:03.750 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 11:20:03.751 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 11:20:03.751 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 11:20:03.752 +00:00 [INF] Hosting environment: Development
2023-11-27 11:20:03.752 +00:00 [INF] Content root path: /app
2023-11-27 11:20:03.752 +00:00 [DBG] Hosting started
2023-11-27 11:20:03.910 +00:00 [DBG] Connection id "0HMVF7B6P4630" accepted.
2023-11-27 11:20:03.912 +00:00 [DBG] Connection id "0HMVF7B6P4630" started.
2023-11-27 11:20:03.946 +00:00 [DBG] Connection 0HMVF7B6P4630 established using the following protocol: "Tls13"
2023-11-27 11:20:04.037 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/index.html - null null
2023-11-27 11:20:04.039 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 11:20:04.121 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 11:20:04.122 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:20:04.212 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/index.html - 200 null text/html;charset=utf-8 175.5867ms
2023-11-27 11:20:04.543 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - null null
2023-11-27 11:20:04.544 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 11:20:04.545 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:20:04.552 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 11:20:04.648 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 104.9811ms
2023-11-27 18:22:43.064 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 18:22:43.367 +07:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 18:22:43.445 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 18:22:43.462 +07:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 18:22:43.801 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 18:23:56.539 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 18:23:56.832 +07:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 18:23:56.905 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 18:23:56.917 +07:00 [DBG] Creating DbConnection.
2023-11-27 18:23:56.933 +07:00 [DBG] Created DbConnection. (15ms).
2023-11-27 18:23:56.937 +07:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 18:23:56.981 +07:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 18:23:56.984 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 18:23:56.985 +07:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 18:23:56.987 +07:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 18:26:49.156 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 18:26:49.446 +07:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 18:26:49.524 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 18:26:49.536 +07:00 [DBG] Creating DbConnection.
2023-11-27 18:26:49.554 +07:00 [DBG] Created DbConnection. (16ms).
2023-11-27 18:26:49.557 +07:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 18:26:49.602 +07:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 18:26:49.605 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 18:26:49.606 +07:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 18:26:49.608 +07:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:01.805 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 11:27:02.213 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 11:27:02.308 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:27:02.317 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:27:02.347 +00:00 [DBG] Created DbConnection. (28ms).
2023-11-27 11:27:02.351 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.490 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.492 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.499 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-27 11:27:02.504 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:27:02.509 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-27 11:27:02.511 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-27 11:27:02.511 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.590 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.595 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:27:02.639 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:27:02.640 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.642 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 11:27:02.649 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.650 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.650 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:27:02.651 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:27:02.651 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:27:02.652 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:27:02.656 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:27:02.661 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.662 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-11-27 11:27:02.663 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.663 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:02.665 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.665 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.723 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.723 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.724 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:02.724 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:27:02.725 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:27:02.725 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:27:02.726 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.726 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.726 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:27:02.728 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:27:02.728 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.728 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:02.729 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.786 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.787 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.788 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:02.788 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:27:02.788 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:27:02.789 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:27:02.789 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.790 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.790 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:27:02.791 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:27:02.792 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.792 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:02.792 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.793 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.793 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:27:02.793 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:27:02.794 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:27:02.794 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:27:02.795 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:27:02.795 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.796 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 11:27:02.796 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.796 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:02.804 +00:00 [INF] Applying migration '20231127112243_AddUserTable'.
2023-11-27 11:27:02.829 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.829 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.831 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-27 11:27:02.834 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-27 11:27:02.836 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-27 11:27:02.836 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-27 11:27:02.837 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-11-27 11:27:02.838 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "Email" text NOT NULL,
    "Name" text NOT NULL,
    "Password" text NOT NULL,
    "Role" integer NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2023-11-27 11:27:02.872 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "Email" text NOT NULL,
    "Name" text NOT NULL,
    "Password" text NOT NULL,
    "Role" integer NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2023-11-27 11:27:02.873 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-27 11:27:02.873 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-27 11:27:02.874 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-27 11:27:02.874 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231127112243_AddUserTable', '8.0.0');
2023-11-27 11:27:02.876 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231127112243_AddUserTable', '8.0.0');
2023-11-27 11:27:02.878 +00:00 [DBG] Committing transaction.
2023-11-27 11:27:02.889 +00:00 [DBG] Committed transaction.
2023-11-27 11:27:02.890 +00:00 [DBG] Disposing transaction.
2023-11-27 11:27:02.891 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.891 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:02.894 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:27:02.895 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:02.896 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:02.913 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 11:27:02.913 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-27 11:27:02.923 +00:00 [DBG] Hosting starting
2023-11-27 11:27:03.060 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 11:27:03.182 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 11:27:03.183 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 11:27:03.183 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 11:27:03.184 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 11:27:03.184 +00:00 [INF] Hosting environment: Development
2023-11-27 11:27:03.184 +00:00 [INF] Content root path: /app
2023-11-27 11:27:03.185 +00:00 [DBG] Hosting started
2023-11-27 11:27:03.342 +00:00 [DBG] Connection id "0HMVF7F3P4DNF" accepted.
2023-11-27 11:27:03.344 +00:00 [DBG] Connection id "0HMVF7F3P4DNF" started.
2023-11-27 11:27:03.366 +00:00 [DBG] Connection 0HMVF7F3P4DNF established using the following protocol: "Tls13"
2023-11-27 11:27:03.417 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/index.html - null null
2023-11-27 11:27:03.418 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 11:27:03.494 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 11:27:03.495 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:27:03.564 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/index.html - 200 null text/html;charset=utf-8 147.7091ms
2023-11-27 11:27:03.860 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - null null
2023-11-27 11:27:03.862 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 11:27:03.862 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:27:03.869 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 11:27:03.969 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 108.8546ms
2023-11-27 18:27:11.233 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 18:27:11.538 +07:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 18:27:11.619 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 18:27:11.632 +07:00 [DBG] Creating DbConnection.
2023-11-27 18:27:11.650 +07:00 [DBG] Created DbConnection. (16ms).
2023-11-27 18:27:11.653 +07:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 18:27:11.701 +07:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 18:27:11.704 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 18:27:11.705 +07:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 18:27:11.707 +07:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 18:27:24.823 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 18:27:25.125 +07:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 18:27:25.203 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 18:27:25.216 +07:00 [DBG] Creating DbConnection.
2023-11-27 18:27:25.233 +07:00 [DBG] Created DbConnection. (16ms).
2023-11-27 18:27:25.236 +07:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 18:27:25.285 +07:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 18:27:25.288 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 18:27:25.289 +07:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 18:27:25.291 +07:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:40.771 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 11:27:41.184 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 11:27:41.279 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:27:41.288 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:27:41.316 +00:00 [DBG] Created DbConnection. (26ms).
2023-11-27 11:27:41.321 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.459 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.461 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.468 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-27 11:27:41.474 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:27:41.478 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-27 11:27:41.479 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-27 11:27:41.480 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.563 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.568 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:27:41.612 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:27:41.614 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.616 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-27 11:27:41.624 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.625 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.625 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:27:41.625 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:27:41.626 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:27:41.627 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:27:41.630 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:27:41.635 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.636 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-11-27 11:27:41.636 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.637 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:41.639 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.639 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.694 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.695 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.695 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:41.696 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:27:41.696 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:27:41.696 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:27:41.697 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.697 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.698 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:27:41.699 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:27:41.699 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.700 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:41.700 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.751 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.752 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.752 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:41.752 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:27:41.753 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:27:41.753 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:27:41.753 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.754 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.754 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:27:41.756 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:27:41.756 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.756 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:41.757 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.757 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.758 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:27:41.758 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:27:41.758 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:27:41.759 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:27:41.760 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:27:41.760 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.760 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 11:27:41.761 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.761 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:41.769 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 11:27:41.771 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:27:41.772 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:27:41.773 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:27:41.791 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 11:27:41.792 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-27 11:27:41.801 +00:00 [DBG] Hosting starting
2023-11-27 11:27:41.927 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 11:27:42.037 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 11:27:42.038 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 11:27:42.038 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 11:27:42.039 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 11:27:42.039 +00:00 [INF] Hosting environment: Development
2023-11-27 11:27:42.040 +00:00 [INF] Content root path: /app
2023-11-27 11:27:42.040 +00:00 [DBG] Hosting started
2023-11-27 11:27:42.228 +00:00 [DBG] Connection id "0HMVF7FFBVK7H" accepted.
2023-11-27 11:27:42.229 +00:00 [DBG] Connection id "0HMVF7FFBVK7H" started.
2023-11-27 11:27:42.251 +00:00 [DBG] Connection 0HMVF7FFBVK7H established using the following protocol: "Tls13"
2023-11-27 11:27:42.303 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/index.html - null null
2023-11-27 11:27:42.306 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 11:27:42.384 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 11:27:42.385 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:27:42.455 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/index.html - 200 null text/html;charset=utf-8 152.5447ms
2023-11-27 11:27:42.858 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - null null
2023-11-27 11:27:42.860 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 11:27:42.861 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:27:42.870 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 11:27:42.989 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 130.448ms
2023-11-27 11:28:10.547 +00:00 [INF] Request starting HTTP/2 POST https://localhost:57777/register - application/json 87
2023-11-27 11:28:10.575 +00:00 [DBG] 1 candidate(s) found for the request path '/register'
2023-11-27 11:28:10.576 +00:00 [DBG] Request matched endpoint 'HTTP: POST register'
2023-11-27 11:28:10.578 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 11:28:10.585 +00:00 [INF] Executing endpoint 'HTTP: POST register'
2023-11-27 11:28:10.590 +00:00 [DBG] Connection id "0HMVF7FFBVK7H", Request id "0HMVF7FFBVK7H:00000005": started reading request body.
2023-11-27 11:28:10.591 +00:00 [DBG] Connection id "0HMVF7FFBVK7H", Request id "0HMVF7FFBVK7H:00000005": done reading request body.
2023-11-27 11:28:10.597 +00:00 [INF] Executed endpoint 'HTTP: POST register'
2023-11-27 11:28:10.599 +00:00 [ERR] HTTP POST /register responded 500 in 18.2946 ms
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "CreateUserCommand command" from the request body as JSON.
 ---> System.Text.Json.JsonException: 'U' is an invalid start of a value. Path: $.role | LineNumber: 4 | BytePositionInLine: 10.
 ---> System.Text.Json.JsonReaderException: 'U' is an invalid start of a value. LineNumber: 4 | BytePositionInLine: 10.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.ReadConstructorArgumentsWithContinuation(ReadStack& state, Utf8JsonReader& reader, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-27 11:28:10.612 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "CreateUserCommand command" from the request body as JSON.
 ---> System.Text.Json.JsonException: 'U' is an invalid start of a value. Path: $.role | LineNumber: 4 | BytePositionInLine: 10.
 ---> System.Text.Json.JsonReaderException: 'U' is an invalid start of a value. LineNumber: 4 | BytePositionInLine: 10.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.ReadConstructorArgumentsWithContinuation(ReadStack& state, Utf8JsonReader& reader, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 11:28:10.624 +00:00 [INF] Request finished HTTP/2 POST https://localhost:57777/register - 400 null text/plain; charset=utf-8 76.3408ms
2023-11-27 11:28:22.658 +00:00 [INF] Request starting HTTP/2 POST https://localhost:57777/register - application/json 89
2023-11-27 11:28:22.660 +00:00 [DBG] 1 candidate(s) found for the request path '/register'
2023-11-27 11:28:22.661 +00:00 [DBG] Request matched endpoint 'HTTP: POST register'
2023-11-27 11:28:22.661 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 11:28:22.662 +00:00 [INF] Executing endpoint 'HTTP: POST register'
2023-11-27 11:28:22.662 +00:00 [DBG] Connection id "0HMVF7FFBVK7H", Request id "0HMVF7FFBVK7H:00000007": started reading request body.
2023-11-27 11:28:22.707 +00:00 [DBG] Connection id "0HMVF7FFBVK7H", Request id "0HMVF7FFBVK7H:00000007": done reading request body.
2023-11-27 11:28:22.713 +00:00 [INF] Executed endpoint 'HTTP: POST register'
2023-11-27 11:28:22.713 +00:00 [ERR] HTTP POST /register responded 500 in 51.6720 ms
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "CreateUserCommand command" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to Application.Users.Create.CreateUserCommand. Path: $.role | LineNumber: 4 | BytePositionInLine: 16.
   at System.Text.Json.ThrowHelper.ThrowJsonException(String message)
   at System.Text.Json.Serialization.Converters.EnumConverter`1.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.Converters.SmallObjectWithParameterizedConstructorConverter`5.TryRead[TArg](ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo, TArg& arg)
   at System.Text.Json.Serialization.Converters.SmallObjectWithParameterizedConstructorConverter`5.ReadAndCacheConstructorArgument(ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.ReadConstructorArgumentsWithContinuation(ReadStack& state, Utf8JsonReader& reader, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-27 11:28:22.715 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Http.BadHttpRequestException: Failed to read parameter "CreateUserCommand command" from the request body as JSON.
 ---> System.Text.Json.JsonException: The JSON value could not be converted to Application.Users.Create.CreateUserCommand. Path: $.role | LineNumber: 4 | BytePositionInLine: 16.
   at System.Text.Json.ThrowHelper.ThrowJsonException(String message)
   at System.Text.Json.Serialization.Converters.EnumConverter`1.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.Converters.SmallObjectWithParameterizedConstructorConverter`5.TryRead[TArg](ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo, TArg& arg)
   at System.Text.Json.Serialization.Converters.SmallObjectWithParameterizedConstructorConverter`5.ReadAndCacheConstructorArgument(ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.ReadConstructorArgumentsWithContinuation(ReadStack& state, Utf8JsonReader& reader, JsonSerializerOptions options)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.ContinueDeserialize(ReadBufferState& bufferState, JsonReaderState& jsonReaderState, ReadStack& readStack)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsync(Stream utf8Json, CancellationToken cancellationToken)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObjectAsync(Stream utf8Json, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.HttpRequestJsonExtensions.ReadFromJsonAsync(HttpRequest request, JsonTypeInfo jsonTypeInfo, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.Log.InvalidJsonRequestBody(HttpContext httpContext, String parameterTypeName, String parameterName, Exception exception, Boolean shouldThrow)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<HandleRequestBodyAndCompileRequestDelegateForJson>g__TryReadBodyAsync|102_0(HttpContext httpContext, Type bodyType, String parameterTypeName, String parameterName, Boolean allowEmptyRequestBody, Boolean throwOnBadRequest, JsonTypeInfo jsonTypeInfo)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 11:28:22.719 +00:00 [INF] Request finished HTTP/2 POST https://localhost:57777/register - 400 null text/plain; charset=utf-8 61.0446ms
2023-11-27 11:31:22.820 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 11:31:23.231 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 11:31:23.345 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:31:23.354 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:31:23.383 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-27 11:31:23.387 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.527 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.530 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.540 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-27 11:31:23.545 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:31:23.550 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-27 11:31:23.551 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-11-27 11:31:23.551 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.634 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.638 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:31:23.684 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:31:23.685 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.687 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 11:31:23.695 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.696 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.696 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:31:23.696 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:31:23.697 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:31:23.697 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:31:23.701 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:31:23.706 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.708 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-11-27 11:31:23.708 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.708 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:31:23.710 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.711 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.761 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.761 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.762 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:31:23.762 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:31:23.762 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:31:23.763 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:31:23.763 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.763 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.764 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:31:23.765 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:31:23.765 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.766 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:31:23.766 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.823 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.824 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.824 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:31:23.825 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:31:23.825 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:31:23.825 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:31:23.826 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.826 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.826 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:31:23.828 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:31:23.828 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.828 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:31:23.829 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.829 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.829 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:31:23.830 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:31:23.830 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:31:23.830 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:31:23.831 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:31:23.832 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.832 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 11:31:23.832 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.833 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:31:23.841 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 11:31:23.843 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:31:23.844 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:31:23.845 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:31:23.862 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 11:31:23.862 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-27 11:31:23.874 +00:00 [DBG] Hosting starting
2023-11-27 11:31:23.999 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 11:31:24.111 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 11:31:24.111 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 11:31:24.112 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 11:31:24.112 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 11:31:24.112 +00:00 [INF] Hosting environment: Development
2023-11-27 11:31:24.113 +00:00 [INF] Content root path: /app
2023-11-27 11:31:24.113 +00:00 [DBG] Hosting started
2023-11-27 11:31:24.276 +00:00 [DBG] Connection id "0HMVF7HHHJDCI" accepted.
2023-11-27 11:31:24.280 +00:00 [DBG] Connection id "0HMVF7HHHJDCI" started.
2023-11-27 11:31:24.303 +00:00 [DBG] Connection 0HMVF7HHHJDCI established using the following protocol: "Tls13"
2023-11-27 11:31:24.351 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/index.html - null null
2023-11-27 11:31:24.353 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 11:31:24.437 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 11:31:24.438 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:31:24.510 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/index.html - 200 null text/html;charset=utf-8 158.6796ms
2023-11-27 11:31:24.826 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - null null
2023-11-27 11:31:24.827 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 11:31:24.828 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:31:24.835 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 11:31:24.976 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.2889ms
2023-11-27 11:32:02.078 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 11:32:02.488 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 11:32:02.584 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:32:02.593 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:32:02.623 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-27 11:32:02.628 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.767 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.769 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.777 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-27 11:32:02.782 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:32:02.787 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-27 11:32:02.788 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-27 11:32:02.788 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.865 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.870 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:32:02.916 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:32:02.917 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.919 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 11:32:02.928 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.929 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.929 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:32:02.930 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:32:02.930 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:32:02.931 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:32:02.934 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:32:02.939 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.941 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-27 11:32:02.941 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.941 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:32:02.943 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.944 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.996 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.996 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.997 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:32:02.997 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:32:02.997 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:32:02.997 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:32:02.998 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.998 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:02.999 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:32:03.000 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:32:03.000 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:03.000 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:32:03.001 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:03.059 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:03.059 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:03.059 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:32:03.060 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:32:03.060 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:32:03.060 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:32:03.061 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:03.061 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:03.061 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:32:03.063 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:32:03.063 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:03.063 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:32:03.064 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:03.064 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:03.065 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:32:03.065 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:32:03.065 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:32:03.066 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:32:03.066 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:32:03.067 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:03.067 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 11:32:03.067 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:03.068 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:32:03.076 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 11:32:03.078 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:32:03.079 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:32:03.080 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:32:03.097 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 11:32:03.097 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-27 11:32:03.107 +00:00 [DBG] Hosting starting
2023-11-27 11:32:03.237 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 11:32:03.372 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 11:32:03.373 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 11:32:03.373 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 11:32:03.374 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 11:32:03.374 +00:00 [INF] Hosting environment: Development
2023-11-27 11:32:03.375 +00:00 [INF] Content root path: /app
2023-11-27 11:32:03.375 +00:00 [DBG] Hosting started
2023-11-27 11:32:03.536 +00:00 [DBG] Connection id "0HMVF7HT80GB6" accepted.
2023-11-27 11:32:03.538 +00:00 [DBG] Connection id "0HMVF7HT80GB6" started.
2023-11-27 11:32:03.583 +00:00 [DBG] Connection 0HMVF7HT80GB6 established using the following protocol: "Tls13"
2023-11-27 11:32:03.636 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/index.html - null null
2023-11-27 11:32:03.637 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 11:32:03.706 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 11:32:03.707 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:32:03.779 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/index.html - 200 null text/html;charset=utf-8 143.7342ms
2023-11-27 11:32:04.071 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - null null
2023-11-27 11:32:04.073 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 11:32:04.073 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:32:04.082 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 11:32:04.190 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 118.3526ms
2023-11-27 11:32:19.829 +00:00 [INF] Request starting HTTP/2 POST https://localhost:57777/register - application/json 71
2023-11-27 11:32:19.835 +00:00 [DBG] 1 candidate(s) found for the request path '/register'
2023-11-27 11:32:19.837 +00:00 [DBG] Request matched endpoint 'HTTP: POST register'
2023-11-27 11:32:19.840 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 11:32:19.847 +00:00 [INF] Executing endpoint 'HTTP: POST register'
2023-11-27 11:32:19.852 +00:00 [DBG] Connection id "0HMVF7HT80GB6", Request id "0HMVF7HT80GB6:00000005": started reading request body.
2023-11-27 11:32:19.853 +00:00 [DBG] Connection id "0HMVF7HT80GB6", Request id "0HMVF7HT80GB6:00000005": done reading request body.
2023-11-27 11:32:19.883 +00:00 [INF] Executed endpoint 'HTTP: POST register'
2023-11-27 11:32:19.886 +00:00 [ERR] HTTP POST /register responded 500 in 43.0206 ms
System.ArgumentException: CreateUserRequest does not implement IRequest (Parameter 'request')
   at MediatR.Mediator.<>c.<Send>b__9_0(Type requestType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at MediatR.Mediator.Send(Object request, CancellationToken cancellationToken)
   at Web.API.Endpoints.Users.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Users.cs:line 19
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-27 11:32:19.900 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: CreateUserRequest does not implement IRequest (Parameter 'request')
   at MediatR.Mediator.<>c.<Send>b__9_0(Type requestType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at MediatR.Mediator.Send(Object request, CancellationToken cancellationToken)
   at Web.API.Endpoints.Users.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Users.cs:line 19
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 11:32:19.906 +00:00 [INF] Request finished HTTP/2 POST https://localhost:57777/register - 500 null text/plain; charset=utf-8 77.1396ms
2023-11-27 11:35:55.854 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 11:35:56.253 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 11:35:56.344 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:35:56.354 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:35:56.383 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-27 11:35:56.387 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.526 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.528 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.538 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-27 11:35:56.543 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:35:56.548 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-27 11:35:56.550 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-27 11:35:56.550 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.634 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.638 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:35:56.683 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:35:56.685 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.687 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 11:35:56.694 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.695 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.695 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:35:56.696 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:35:56.696 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:35:56.697 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:35:56.700 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:35:56.706 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.707 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-27 11:35:56.707 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.707 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:35:56.709 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.709 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.768 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.768 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.769 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:35:56.769 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:35:56.769 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:35:56.770 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:35:56.770 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.771 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.771 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:35:56.772 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:35:56.772 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.773 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:35:56.774 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.832 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.832 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.833 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:35:56.833 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:35:56.833 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:35:56.834 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:35:56.834 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.835 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.835 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:35:56.837 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:35:56.837 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.838 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:35:56.839 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.839 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.839 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:35:56.840 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:35:56.840 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:35:56.840 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:35:56.841 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:35:56.841 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.842 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 11:35:56.842 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.842 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:35:56.851 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 11:35:56.852 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:35:56.854 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:35:56.854 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:35:56.872 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 11:35:56.872 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-27 11:35:56.882 +00:00 [DBG] Hosting starting
2023-11-27 11:35:57.019 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 11:35:57.129 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 11:35:57.129 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 11:35:57.130 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 11:35:57.130 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 11:35:57.131 +00:00 [INF] Hosting environment: Development
2023-11-27 11:35:57.132 +00:00 [INF] Content root path: /app
2023-11-27 11:35:57.132 +00:00 [DBG] Hosting started
2023-11-27 11:35:57.302 +00:00 [DBG] Connection id "0HMVF7K2TC9A6" accepted.
2023-11-27 11:35:57.305 +00:00 [DBG] Connection id "0HMVF7K2TC9A6" started.
2023-11-27 11:35:57.331 +00:00 [DBG] Connection 0HMVF7K2TC9A6 established using the following protocol: "Tls13"
2023-11-27 11:35:57.376 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/index.html - null null
2023-11-27 11:35:57.378 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 11:35:57.443 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 11:35:57.444 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:35:57.540 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/index.html - 200 null text/html;charset=utf-8 164.2449ms
2023-11-27 11:35:57.843 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - null null
2023-11-27 11:35:57.844 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 11:35:57.845 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:35:57.851 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 11:35:57.930 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.7162ms
2023-11-27 11:36:13.453 +00:00 [INF] Request starting HTTP/2 POST https://localhost:57777/register - application/json 71
2023-11-27 11:36:13.458 +00:00 [DBG] 1 candidate(s) found for the request path '/register'
2023-11-27 11:36:13.460 +00:00 [DBG] Request matched endpoint 'HTTP: POST register'
2023-11-27 11:36:13.464 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 11:36:13.470 +00:00 [INF] Executing endpoint 'HTTP: POST register'
2023-11-27 11:36:13.475 +00:00 [DBG] Connection id "0HMVF7K2TC9A6", Request id "0HMVF7K2TC9A6:00000005": started reading request body.
2023-11-27 11:36:13.476 +00:00 [DBG] Connection id "0HMVF7K2TC9A6", Request id "0HMVF7K2TC9A6:00000005": done reading request body.
2023-11-27 11:36:13.509 +00:00 [INF] Executed endpoint 'HTTP: POST register'
2023-11-27 11:36:13.511 +00:00 [ERR] HTTP POST /register responded 500 in 45.0986 ms
System.ArgumentException: CreateUserRequest does not implement IRequest (Parameter 'request')
   at MediatR.Mediator.<>c.<Send>b__9_0(Type requestType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at MediatR.Mediator.Send(Object request, CancellationToken cancellationToken)
   at Web.API.Endpoints.Users.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Users.cs:line 19
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-27 11:36:13.527 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: CreateUserRequest does not implement IRequest (Parameter 'request')
   at MediatR.Mediator.<>c.<Send>b__9_0(Type requestType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at MediatR.Mediator.Send(Object request, CancellationToken cancellationToken)
   at Web.API.Endpoints.Users.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Users.cs:line 19
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 11:36:13.532 +00:00 [INF] Request finished HTTP/2 POST https://localhost:57777/register - 500 null text/plain; charset=utf-8 79.0428ms
2023-11-27 11:36:48.530 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 11:36:48.937 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 11:36:49.032 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:36:49.042 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:36:49.071 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-27 11:36:49.076 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.202 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.204 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.212 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-27 11:36:49.218 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:36:49.222 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-27 11:36:49.224 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-27 11:36:49.225 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.302 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.307 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:36:49.353 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:36:49.355 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.357 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-27 11:36:49.365 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.366 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.366 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:36:49.367 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:36:49.367 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:36:49.368 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:36:49.371 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:36:49.377 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.378 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-27 11:36:49.379 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.379 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:36:49.381 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.381 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.428 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.428 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.428 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:36:49.429 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:36:49.429 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:36:49.429 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:36:49.430 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.430 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.431 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:36:49.432 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:36:49.432 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.432 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:36:49.433 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.491 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.491 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.491 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:36:49.492 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:36:49.492 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:36:49.492 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:36:49.493 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.493 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.494 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:36:49.495 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:36:49.495 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.496 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:36:49.496 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.496 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.497 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:36:49.497 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:36:49.498 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:36:49.498 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:36:49.499 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:36:49.499 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.499 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 11:36:49.500 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.500 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:36:49.509 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 11:36:49.510 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:36:49.512 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:36:49.513 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:36:49.530 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 11:36:49.530 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-27 11:36:49.542 +00:00 [DBG] Hosting starting
2023-11-27 11:36:49.673 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 11:36:49.781 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 11:36:49.781 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 11:36:49.782 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 11:36:49.782 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 11:36:49.783 +00:00 [INF] Hosting environment: Development
2023-11-27 11:36:49.783 +00:00 [INF] Content root path: /app
2023-11-27 11:36:49.783 +00:00 [DBG] Hosting started
2023-11-27 11:36:49.934 +00:00 [DBG] Connection id "0HMVF7KIJA68V" accepted.
2023-11-27 11:36:49.935 +00:00 [DBG] Connection id "0HMVF7KIJA68V" started.
2023-11-27 11:36:49.960 +00:00 [DBG] Connection 0HMVF7KIJA68V established using the following protocol: "Tls13"
2023-11-27 11:36:50.013 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/index.html - null null
2023-11-27 11:36:50.014 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 11:36:50.083 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 11:36:50.084 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:36:50.167 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/index.html - 200 null text/html;charset=utf-8 154.5834ms
2023-11-27 11:36:50.524 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - null null
2023-11-27 11:36:50.527 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 11:36:50.528 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:36:50.533 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 11:36:50.622 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.0766ms
2023-11-27 11:37:02.310 +00:00 [INF] Request starting HTTP/2 POST https://localhost:57777/register - application/json 67
2023-11-27 11:37:02.318 +00:00 [DBG] 1 candidate(s) found for the request path '/register'
2023-11-27 11:37:02.319 +00:00 [DBG] Request matched endpoint 'HTTP: POST register'
2023-11-27 11:37:02.322 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 11:37:02.329 +00:00 [INF] Executing endpoint 'HTTP: POST register'
2023-11-27 11:37:02.335 +00:00 [DBG] Connection id "0HMVF7KIJA68V", Request id "0HMVF7KIJA68V:00000005": started reading request body.
2023-11-27 11:37:02.336 +00:00 [DBG] Connection id "0HMVF7KIJA68V", Request id "0HMVF7KIJA68V:00000005": done reading request body.
2023-11-27 11:37:02.367 +00:00 [INF] Executed endpoint 'HTTP: POST register'
2023-11-27 11:37:02.369 +00:00 [ERR] HTTP POST /register responded 500 in 44.5670 ms
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`1[Application.Users.Create.CreateUserRequest]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Users.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Users.cs:line 19
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-27 11:37:02.383 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`1[Application.Users.Create.CreateUserRequest]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.Users.<>c.<<AddRoutes>b__0_0>d.MoveNext() in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Users.cs:line 19
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.ExecuteTaskResult[T](Task`1 task, HttpContext httpContext)
   at Microsoft.AspNetCore.Http.RequestDelegateFactory.<>c__DisplayClass102_2.<<HandleRequestBodyAndCompileRequestDelegateForJson>b__2>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-27 11:37:02.387 +00:00 [INF] Request finished HTTP/2 POST https://localhost:57777/register - 500 null text/plain; charset=utf-8 77.4798ms
2023-11-27 11:37:39.119 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 11:37:39.517 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 11:37:39.607 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:37:39.616 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:37:39.643 +00:00 [DBG] Created DbConnection. (25ms).
2023-11-27 11:37:39.648 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:39.784 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:39.787 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:39.793 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-27 11:37:39.800 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:37:39.804 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-27 11:37:39.805 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-11-27 11:37:39.805 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:39.891 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:39.896 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:37:39.942 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:37:39.943 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:39.945 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 11:37:39.953 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:39.954 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:39.954 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:37:39.955 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:37:39.955 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:37:39.956 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:37:39.960 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:37:39.965 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:39.966 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-27 11:37:39.967 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:39.967 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:37:39.968 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:39.969 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.018 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.019 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.019 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:37:40.020 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:37:40.020 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:37:40.021 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:37:40.021 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.021 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.022 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:37:40.023 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:37:40.023 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.024 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:37:40.024 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.084 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.084 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.084 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:37:40.085 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:37:40.085 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:37:40.085 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:37:40.086 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.086 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.086 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:37:40.087 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:37:40.088 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.088 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:37:40.089 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.089 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.089 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:37:40.090 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:37:40.090 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:37:40.090 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:37:40.091 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:37:40.092 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.092 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 11:37:40.092 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.093 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:37:40.101 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 11:37:40.102 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:37:40.104 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:40.105 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:37:40.121 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 11:37:40.121 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-27 11:37:40.132 +00:00 [DBG] Hosting starting
2023-11-27 11:37:40.259 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 11:37:40.376 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 11:37:40.376 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 11:37:40.377 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 11:37:40.378 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 11:37:40.378 +00:00 [INF] Hosting environment: Development
2023-11-27 11:37:40.379 +00:00 [INF] Content root path: /app
2023-11-27 11:37:40.379 +00:00 [DBG] Hosting started
2023-11-27 11:37:40.555 +00:00 [DBG] Connection id "0HMVF7L1M2FBN" accepted.
2023-11-27 11:37:40.556 +00:00 [DBG] Connection id "0HMVF7L1M2FBN" started.
2023-11-27 11:37:40.579 +00:00 [DBG] Connection 0HMVF7L1M2FBN established using the following protocol: "Tls13"
2023-11-27 11:37:40.626 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/index.html - null null
2023-11-27 11:37:40.627 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 11:37:40.696 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 11:37:40.697 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:37:40.774 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/index.html - 200 null text/html;charset=utf-8 148.3918ms
2023-11-27 11:37:41.091 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - null null
2023-11-27 11:37:41.092 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 11:37:41.093 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:37:41.102 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 11:37:41.198 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 106.1871ms
2023-11-27 11:37:45.581 +00:00 [INF] Request starting HTTP/2 POST https://localhost:57777/register - application/json 67
2023-11-27 11:37:45.606 +00:00 [DBG] 1 candidate(s) found for the request path '/register'
2023-11-27 11:37:45.607 +00:00 [DBG] Request matched endpoint 'HTTP: POST register'
2023-11-27 11:37:45.609 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 11:37:45.617 +00:00 [INF] Executing endpoint 'HTTP: POST register'
2023-11-27 11:37:45.621 +00:00 [DBG] Connection id "0HMVF7L1M2FBN", Request id "0HMVF7L1M2FBN:00000005": started reading request body.
2023-11-27 11:37:45.622 +00:00 [DBG] Connection id "0HMVF7L1M2FBN", Request id "0HMVF7L1M2FBN:00000005": done reading request body.
2023-11-27 11:37:45.642 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:37:45.687 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 11:37:45.692 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 11:37:45.701 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 11:37:45.704 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-27 11:37:45.705 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 11:37:45.706 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 11:37:45.742 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:37:45.742 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 11:37:45.744 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:45.746 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:45.750 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:37:45.751 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:37:45.754 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-11-27 11:37:45.757 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "Name", "Password", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 11:37:45.781 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "Name", "Password", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-27 11:37:45.808 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:45.808 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 26ms reading results.
2023-11-27 11:37:45.811 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:45.812 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:37:45.819 +00:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 11:37:45.821 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-11-27 11:37:45.824 +00:00 [INF] Setting HTTP status code 200.
2023-11-27 11:37:45.825 +00:00 [INF] Executed endpoint 'HTTP: POST register'
2023-11-27 11:37:45.827 +00:00 [INF] HTTP POST /register responded 200 in 215.7149 ms
2023-11-27 11:37:45.829 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:37:45.832 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:37:45.833 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 11:37:45.834 +00:00 [INF] Request finished HTTP/2 POST https://localhost:57777/register - 200 0 null 253.4051ms
2023-11-27 11:39:04.773 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-27 11:39:05.193 +00:00 [DBG] The property 'Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-27 11:39:05.285 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:39:05.294 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:39:05.325 +00:00 [DBG] Created DbConnection. (29ms).
2023-11-27 11:39:05.329 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.470 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.472 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.479 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-27 11:39:05.484 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:39:05.489 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-27 11:39:05.490 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-27 11:39:05.490 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.576 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.581 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:39:05.628 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:39:05.630 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.631 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 11:39:05.639 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.640 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.640 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:39:05.641 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:05.641 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:05.642 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:39:05.646 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:39:05.651 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.653 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-27 11:39:05.653 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.653 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:05.655 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.655 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.706 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.706 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.706 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:05.707 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:39:05.707 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:39:05.708 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:39:05.708 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.709 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.709 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:39:05.711 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:39:05.711 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.711 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:05.712 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.770 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.771 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.771 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:05.772 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-27 11:39:05.772 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:39:05.772 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-27 11:39:05.773 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.773 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.774 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:39:05.775 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-27 11:39:05.775 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.776 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:05.776 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.776 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.777 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:39:05.777 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:05.777 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:05.778 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:39:05.779 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-27 11:39:05.779 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.780 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 11:39:05.780 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.780 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:05.788 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-27 11:39:05.790 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:39:05.792 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:05.793 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:05.809 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-27 11:39:05.810 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-27 11:39:05.820 +00:00 [DBG] Hosting starting
2023-11-27 11:39:05.957 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-27 11:39:06.072 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-27 11:39:06.073 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-27 11:39:06.073 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-27 11:39:06.074 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-27 11:39:06.074 +00:00 [INF] Hosting environment: Development
2023-11-27 11:39:06.074 +00:00 [INF] Content root path: /app
2023-11-27 11:39:06.075 +00:00 [DBG] Hosting started
2023-11-27 11:39:06.232 +00:00 [DBG] Connection id "0HMVF7LR756BE" accepted.
2023-11-27 11:39:06.234 +00:00 [DBG] Connection id "0HMVF7LR756BE" started.
2023-11-27 11:39:06.258 +00:00 [DBG] Connection 0HMVF7LR756BE established using the following protocol: "Tls13"
2023-11-27 11:39:06.303 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/index.html - null null
2023-11-27 11:39:06.307 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-27 11:39:06.399 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-27 11:39:06.400 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:39:06.476 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/index.html - 200 null text/html;charset=utf-8 174.6426ms
2023-11-27 11:39:06.798 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - null null
2023-11-27 11:39:06.800 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-27 11:39:06.800 +00:00 [DBG] Request did not match any endpoints
2023-11-27 11:39:06.809 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-27 11:39:06.894 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.6211ms
2023-11-27 11:39:11.459 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/users - null null
2023-11-27 11:39:11.463 +00:00 [DBG] 1 candidate(s) found for the request path '/users'
2023-11-27 11:39:11.464 +00:00 [DBG] Request matched endpoint 'HTTP: GET users'
2023-11-27 11:39:11.466 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 11:39:11.475 +00:00 [INF] Executing endpoint 'HTTP: GET users'
2023-11-27 11:39:11.498 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:39:11.517 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Select(p => new UserResponse(
        p.Id.Value, 
        p.Email, 
        p.Name, 
        p.Role
    ))'
2023-11-27 11:39:11.635 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT u.Id, u.Email, u.Name, u.Role
        FROM Users AS u), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-27 11:39:11.653 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:39:11.654 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 11:39:11.657 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:11.659 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:11.660 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:39:11.660 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:11.661 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:11.661 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-27 11:39:11.671 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-27 11:39:11.682 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:11.682 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 10ms reading results.
2023-11-27 11:39:11.684 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:11.685 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:11.687 +00:00 [INF] Setting HTTP status code 200.
2023-11-27 11:39:11.697 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-11-27 11:39:11.700 +00:00 [INF] Executed endpoint 'HTTP: GET users'
2023-11-27 11:39:11.727 +00:00 [INF] HTTP GET /users responded 200 in 233.7356 ms
2023-11-27 11:39:11.729 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:39:11.731 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:11.733 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-27 11:39:11.734 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/users - 200 null application/json; charset=utf-8 274.6321ms
2023-11-27 11:39:19.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/users/48ec2673-7299-4a9e-b5f0-0f69d3010686 - null null
2023-11-27 11:39:19.983 +00:00 [DBG] 1 candidate(s) found for the request path '/users/48ec2673-7299-4a9e-b5f0-0f69d3010686'
2023-11-27 11:39:19.987 +00:00 [DBG] Endpoint 'HTTP: GET users/{id:guid}' with route pattern 'users/{id:guid}' is valid for the request path '/users/48ec2673-7299-4a9e-b5f0-0f69d3010686'
2023-11-27 11:39:19.987 +00:00 [DBG] Request matched endpoint 'HTTP: GET users/{id:guid}'
2023-11-27 11:39:19.988 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 11:39:19.988 +00:00 [INF] Executing endpoint 'HTTP: GET users/{id:guid}'
2023-11-27 11:39:20.031 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:39:20.037 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(p => p.Id == __request_UserId_0)
    .Select(p => new UserResponse(
        p.Id.Value, 
        p.Email, 
        p.Name, 
        p.Role
    ))
    .FirstOrDefault()'
2023-11-27 11:39:20.053 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<UserResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(1) u.Id, u.Email, u.Name, u.Role
            FROM Users AS u
            WHERE u.Id == @__request_UserId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserResponse>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-27 11:39:20.061 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:39:20.061 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 11:39:20.061 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:20.062 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:20.062 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:39:20.062 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:20.067 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-11-27 11:39:20.069 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__request_UserId_0
LIMIT 1
2023-11-27 11:39:20.080 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__request_UserId_0
LIMIT 1
2023-11-27 11:39:20.104 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:20.104 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 3ms reading results.
2023-11-27 11:39:20.104 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:20.105 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:20.105 +00:00 [INF] Setting HTTP status code 200.
2023-11-27 11:39:20.106 +00:00 [INF] Writing value of type 'UserResponse' as Json.
2023-11-27 11:39:20.107 +00:00 [INF] Executed endpoint 'HTTP: GET users/{id:guid}'
2023-11-27 11:39:20.107 +00:00 [INF] HTTP GET /users/48ec2673-7299-4a9e-b5f0-0f69d3010686 responded 200 in 118.6969 ms
2023-11-27 11:39:20.108 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:39:20.109 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:20.110 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:20.132 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/users/48ec2673-7299-4a9e-b5f0-0f69d3010686 - 200 null application/json; charset=utf-8 148.7815ms
2023-11-27 11:39:28.758 +00:00 [INF] Request starting HTTP/2 PUT https://localhost:57777/users/48ec2673-7299-4a9e-b5f0-0f69d3010686 - application/json 45
2023-11-27 11:39:28.759 +00:00 [DBG] 1 candidate(s) found for the request path '/users/48ec2673-7299-4a9e-b5f0-0f69d3010686'
2023-11-27 11:39:28.760 +00:00 [DBG] Endpoint 'HTTP: PUT users/{id:guid}' with route pattern 'users/{id:guid}' is valid for the request path '/users/48ec2673-7299-4a9e-b5f0-0f69d3010686'
2023-11-27 11:39:28.760 +00:00 [DBG] Request matched endpoint 'HTTP: PUT users/{id:guid}'
2023-11-27 11:39:28.761 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 11:39:28.762 +00:00 [INF] Executing endpoint 'HTTP: PUT users/{id:guid}'
2023-11-27 11:39:28.769 +00:00 [DBG] Connection id "0HMVF7LR756BE", Request id "0HMVF7LR756BE:00000009": started reading request body.
2023-11-27 11:39:28.769 +00:00 [DBG] Connection id "0HMVF7LR756BE", Request id "0HMVF7LR756BE:00000009": done reading request body.
2023-11-27 11:39:28.777 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:39:28.779 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(p => p.Id == __id_0)'
2023-11-27 11:39:28.805 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (UserId) Required PK AfterSave:Throw, 0], [Property: User.Email (string) Required, 1], [Property: User.Name (string) Required, 2], [Property: User.Password (string) Required, 3], [Property: User.Role (UserRole) Required, 4] }
            SELECT TOP(2) u.Id, u.Email, u.Name, u.Password, u.Role
            FROM Users AS u
            WHERE u.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-27 11:39:28.806 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:39:28.806 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 11:39:28.807 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:28.807 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:28.807 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:39:28.807 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:28.808 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:28.808 +00:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Password", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 2
2023-11-27 11:39:28.832 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Password", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 2
2023-11-27 11:39:28.855 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 11:39:28.869 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:28.870 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 37ms reading results.
2023-11-27 11:39:28.870 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:28.871 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:28.880 +00:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 11:39:28.884 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 11:39:28.890 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 11:39:28.893 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-27 11:39:28.894 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 11:39:28.894 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 11:39:28.927 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:28.928 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:28.931 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:39:28.932 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:28.933 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-11-27 11:39:28.934 +00:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?', @p1='?', @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Email" = @p0, "Name" = @p1, "Password" = @p2, "Role" = @p3
WHERE "Id" = @p4;
2023-11-27 11:39:28.942 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?', @p1='?', @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Email" = @p0, "Name" = @p1, "Password" = @p2, "Role" = @p3
WHERE "Id" = @p4;
2023-11-27 11:39:28.946 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:28.947 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 3ms reading results.
2023-11-27 11:39:28.948 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:28.948 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:28.952 +00:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 11:39:28.954 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-11-27 11:39:28.956 +00:00 [INF] Setting HTTP status code 204.
2023-11-27 11:39:28.956 +00:00 [INF] Executed endpoint 'HTTP: PUT users/{id:guid}'
2023-11-27 11:39:28.957 +00:00 [INF] HTTP PUT /users/48ec2673-7299-4a9e-b5f0-0f69d3010686 responded 204 in 194.8106 ms
2023-11-27 11:39:28.957 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:39:28.958 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:28.958 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:28.958 +00:00 [INF] Request finished HTTP/2 PUT https://localhost:57777/users/48ec2673-7299-4a9e-b5f0-0f69d3010686 - 204 null null 200.5859ms
2023-11-27 11:39:32.114 +00:00 [INF] Request starting HTTP/2 GET https://localhost:57777/users/48ec2673-7299-4a9e-b5f0-0f69d3010686 - null null
2023-11-27 11:39:32.114 +00:00 [DBG] 1 candidate(s) found for the request path '/users/48ec2673-7299-4a9e-b5f0-0f69d3010686'
2023-11-27 11:39:32.115 +00:00 [DBG] Endpoint 'HTTP: GET users/{id:guid}' with route pattern 'users/{id:guid}' is valid for the request path '/users/48ec2673-7299-4a9e-b5f0-0f69d3010686'
2023-11-27 11:39:32.115 +00:00 [DBG] Request matched endpoint 'HTTP: GET users/{id:guid}'
2023-11-27 11:39:32.116 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 11:39:32.116 +00:00 [INF] Executing endpoint 'HTTP: GET users/{id:guid}'
2023-11-27 11:39:32.118 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:39:32.121 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:39:32.122 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 11:39:32.122 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:32.123 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:32.124 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:39:32.124 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:32.125 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-27 11:39:32.125 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__request_UserId_0
LIMIT 1
2023-11-27 11:39:32.150 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__request_UserId_0
LIMIT 1
2023-11-27 11:39:32.152 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:32.153 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-11-27 11:39:32.153 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:32.153 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:32.154 +00:00 [INF] Setting HTTP status code 200.
2023-11-27 11:39:32.154 +00:00 [INF] Writing value of type 'UserResponse' as Json.
2023-11-27 11:39:32.154 +00:00 [INF] Executed endpoint 'HTTP: GET users/{id:guid}'
2023-11-27 11:39:32.155 +00:00 [INF] HTTP GET /users/48ec2673-7299-4a9e-b5f0-0f69d3010686 responded 200 in 38.7848 ms
2023-11-27 11:39:32.155 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:39:32.156 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:32.156 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:32.157 +00:00 [INF] Request finished HTTP/2 GET https://localhost:57777/users/48ec2673-7299-4a9e-b5f0-0f69d3010686 - 200 null application/json; charset=utf-8 43.1308ms
2023-11-27 11:39:37.721 +00:00 [INF] Request starting HTTP/2 DELETE https://localhost:57777/users/48ec2673-7299-4a9e-b5f0-0f69d3010686 - null null
2023-11-27 11:39:37.721 +00:00 [DBG] 1 candidate(s) found for the request path '/users/48ec2673-7299-4a9e-b5f0-0f69d3010686'
2023-11-27 11:39:37.722 +00:00 [DBG] Endpoint 'HTTP: DELETE users/{id:guid}' with route pattern 'users/{id:guid}' is valid for the request path '/users/48ec2673-7299-4a9e-b5f0-0f69d3010686'
2023-11-27 11:39:37.722 +00:00 [DBG] Request matched endpoint 'HTTP: DELETE users/{id:guid}'
2023-11-27 11:39:37.723 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-27 11:39:37.724 +00:00 [INF] Executing endpoint 'HTTP: DELETE users/{id:guid}'
2023-11-27 11:39:37.728 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-27 11:39:37.729 +00:00 [DBG] Creating DbConnection.
2023-11-27 11:39:37.729 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-27 11:39:37.730 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:37.730 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:37.730 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:39:37.731 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:37.731 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:37.732 +00:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Password", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 2
2023-11-27 11:39:37.757 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Password", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 2
2023-11-27 11:39:37.823 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 11:39:37.823 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:37.823 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 45ms reading results.
2023-11-27 11:39:37.824 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:37.824 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:37.825 +00:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 11:39:37.827 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 11:39:37.828 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 11:39:37.829 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-27 11:39:37.829 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-27 11:39:37.829 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-27 11:39:37.838 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:37.838 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:37.839 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-27 11:39:37.839 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:37.839 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-27 11:39:37.839 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Users"
WHERE "Id" = @p0;
2023-11-27 11:39:37.844 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Users"
WHERE "Id" = @p0;
2023-11-27 11:39:37.844 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:37.845 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-27 11:39:37.845 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:37.845 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:37.848 +00:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-27 11:39:37.849 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-11-27 11:39:37.850 +00:00 [INF] Setting HTTP status code 204.
2023-11-27 11:39:37.850 +00:00 [INF] Executed endpoint 'HTTP: DELETE users/{id:guid}'
2023-11-27 11:39:37.851 +00:00 [INF] HTTP DELETE /users/48ec2673-7299-4a9e-b5f0-0f69d3010686 responded 204 in 127.2147 ms
2023-11-27 11:39:37.852 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-27 11:39:37.852 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-27 11:39:37.853 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-27 11:39:37.853 +00:00 [INF] Request finished HTTP/2 DELETE https://localhost:57777/users/48ec2673-7299-4a9e-b5f0-0f69d3010686 - 204 null null 132.2401ms
2023-11-29 08:01:56.545 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-29 15:02:47.427 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-29 15:06:22.979 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-29 15:06:23.312 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 15:06:23.313 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 15:06:23.313 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 15:06:23.397 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-29 15:06:23.430 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 15:06:23.430 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 15:06:23.430 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 15:06:23.871 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-29 15:06:51.049 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-29 15:06:51.387 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 15:06:51.388 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 15:06:51.388 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 15:06:51.476 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-29 15:06:51.492 +07:00 [DBG] Creating DbConnection.
2023-11-29 15:06:51.515 +07:00 [DBG] Created DbConnection. (22ms).
2023-11-29 15:06:51.518 +07:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 15:06:51.567 +07:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 15:06:51.570 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-29 15:06:51.571 +07:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 15:06:51.574 +07:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-29 08:07:03.408 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-29 08:07:03.844 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 08:07:03.846 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 08:07:03.846 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 08:07:03.948 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-29 08:07:03.958 +00:00 [DBG] Creating DbConnection.
2023-11-29 08:07:03.999 +00:00 [DBG] Created DbConnection. (39ms).
2023-11-29 08:07:04.003 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.242 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.245 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.252 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-29 08:07:04.260 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-29 08:07:04.267 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2023-11-29 08:07:04.269 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2023-11-29 08:07:04.269 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.366 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.371 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-29 08:07:04.420 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-29 08:07:04.421 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.423 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-29 08:07:04.432 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.433 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.434 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-29 08:07:04.434 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-29 08:07:04.435 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-29 08:07:04.436 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-29 08:07:04.443 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-29 08:07:04.449 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.451 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-11-29 08:07:04.451 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.452 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-29 08:07:04.453 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.454 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.514 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.515 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.515 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-29 08:07:04.516 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-29 08:07:04.516 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-29 08:07:04.517 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-29 08:07:04.517 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.518 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.518 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-29 08:07:04.520 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-29 08:07:04.520 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.520 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-29 08:07:04.521 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.584 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.584 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.585 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-29 08:07:04.586 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-29 08:07:04.586 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-29 08:07:04.587 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-11-29 08:07:04.587 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.588 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.588 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-29 08:07:04.589 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-29 08:07:04.590 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.590 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-29 08:07:04.591 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.591 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.591 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-29 08:07:04.592 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-29 08:07:04.593 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-29 08:07:04.593 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-29 08:07:04.594 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-29 08:07:04.595 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.596 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-29 08:07:04.596 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.596 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-29 08:07:04.605 +00:00 [INF] Applying migration '20231129080623_AddPurchaseHistoryTable'.
2023-11-29 08:07:04.632 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.632 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.635 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-29 08:07:04.638 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-29 08:07:04.640 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-29 08:07:04.640 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-29 08:07:04.641 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-11-29 08:07:04.642 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PurchaseHistories" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "Amount_Currency" character varying(3) NOT NULL,
    "Amount_Amount" numeric NOT NULL,
    CONSTRAINT "PK_PurchaseHistories" PRIMARY KEY ("Id")
);
2023-11-29 08:07:04.679 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PurchaseHistories" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "Amount_Currency" character varying(3) NOT NULL,
    "Amount_Amount" numeric NOT NULL,
    CONSTRAINT "PK_PurchaseHistories" PRIMARY KEY ("Id")
);
2023-11-29 08:07:04.679 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-29 08:07:04.680 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-29 08:07:04.680 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-29 08:07:04.681 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PurchaseHistoryItems" (
    "Id" uuid NOT NULL,
    "PurchaseHistoryId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "Price_Currency" character varying(3) NOT NULL,
    "Price_Amount" numeric NOT NULL,
    "Quantity" numeric NOT NULL,
    CONSTRAINT "PK_PurchaseHistoryItems" PRIMARY KEY ("Id")
);
2023-11-29 08:07:04.700 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PurchaseHistoryItems" (
    "Id" uuid NOT NULL,
    "PurchaseHistoryId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "Price_Currency" character varying(3) NOT NULL,
    "Price_Amount" numeric NOT NULL,
    "Quantity" numeric NOT NULL,
    CONSTRAINT "PK_PurchaseHistoryItems" PRIMARY KEY ("Id")
);
2023-11-29 08:07:04.701 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-29 08:07:04.701 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-29 08:07:04.702 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-29 08:07:04.702 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231129080623_AddPurchaseHistoryTable', '8.0.0');
2023-11-29 08:07:04.705 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231129080623_AddPurchaseHistoryTable', '8.0.0');
2023-11-29 08:07:04.707 +00:00 [DBG] Committing transaction.
2023-11-29 08:07:04.719 +00:00 [DBG] Committed transaction.
2023-11-29 08:07:04.721 +00:00 [DBG] Disposing transaction.
2023-11-29 08:07:04.722 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.722 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-29 08:07:04.725 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-29 08:07:04.727 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 08:07:04.729 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-29 08:07:04.750 +00:00 [DBG] Found module Web.API.Endpoints.Carts
2023-11-29 08:07:04.750 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-29 08:07:04.751 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-29 08:07:04.766 +00:00 [DBG] Hosting starting
2023-11-29 08:07:04.916 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-29 08:07:05.156 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-29 08:07:05.157 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-29 08:07:05.158 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-29 08:07:05.158 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-29 08:07:05.159 +00:00 [INF] Hosting environment: Development
2023-11-29 08:07:05.159 +00:00 [INF] Content root path: /app
2023-11-29 08:07:05.160 +00:00 [DBG] Hosting started
2023-11-29 08:07:05.410 +00:00 [DBG] Connection id "0HMVGM8MH59IN" accepted.
2023-11-29 08:07:05.414 +00:00 [DBG] Connection id "0HMVGM8MH59IN" started.
2023-11-29 08:07:05.414 +00:00 [DBG] Connection id "0HMVGM8MH59IO" accepted.
2023-11-29 08:07:05.419 +00:00 [DBG] Connection id "0HMVGM8MH59IO" started.
2023-11-29 08:07:05.456 +00:00 [DBG] Connection id "0HMVGM8MH59IO" received FIN.
2023-11-29 08:07:05.464 +00:00 [DBG] Connection 0HMVGM8MH59IN established using the following protocol: "Tls13"
2023-11-29 08:07:05.464 +00:00 [DBG] Connection 0HMVGM8MH59IO established using the following protocol: "Tls13"
2023-11-29 08:07:05.479 +00:00 [DBG] Connection id "0HMVGM8MH59IO" is closed. The last processed stream ID was 0.
2023-11-29 08:07:05.481 +00:00 [DBG] Connection id "0HMVGM8MH59IO" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-29 08:07:05.486 +00:00 [DBG] The connection queue processing loop for 0HMVGM8MH59IO completed.
2023-11-29 08:07:05.492 +00:00 [DBG] Connection id "0HMVGM8MH59IO" stopped.
2023-11-29 08:07:05.534 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52868/swagger - null null
2023-11-29 08:07:05.537 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-29 08:07:05.654 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-11-29 08:07:05.655 +00:00 [DBG] Request did not match any endpoints
2023-11-29 08:07:05.682 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52868/swagger - 301 0 null 150.4785ms
2023-11-29 08:07:05.696 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52868/swagger/index.html - null null
2023-11-29 08:07:05.697 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-29 08:07:05.698 +00:00 [DBG] Request did not match any endpoints
2023-11-29 08:07:05.751 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52868/swagger/index.html - 200 null text/html;charset=utf-8 54.8093ms
2023-11-29 08:07:05.765 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52868/swagger/swagger-ui.css - null null
2023-11-29 08:07:05.786 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-11-29 08:07:05.787 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52868/swagger/swagger-ui-standalone-preset.js - null null
2023-11-29 08:07:05.787 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52868/swagger/swagger-ui-bundle.js - null null
2023-11-29 08:07:05.787 +00:00 [DBG] Request did not match any endpoints
2023-11-29 08:07:05.788 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-11-29 08:07:05.788 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-11-29 08:07:05.789 +00:00 [DBG] Request did not match any endpoints
2023-11-29 08:07:05.790 +00:00 [DBG] Request did not match any endpoints
2023-11-29 08:07:05.832 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-29 08:07:05.854 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52868/swagger/swagger-ui.css - 200 144929 text/css 68.1971ms
2023-11-29 08:07:05.882 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-29 08:07:05.883 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52868/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 96.5556ms
2023-11-29 08:07:06.040 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-29 08:07:06.040 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52868/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 253.674ms
2023-11-29 08:07:06.307 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52868/swagger/v1/swagger.json - null null
2023-11-29 08:07:06.308 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-29 08:07:06.308 +00:00 [DBG] Request did not match any endpoints
2023-11-29 08:07:06.316 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-29 08:07:06.349 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52868/swagger/favicon-32x32.png - null null
2023-11-29 08:07:06.349 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-11-29 08:07:06.350 +00:00 [DBG] Request did not match any endpoints
2023-11-29 08:07:06.351 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-29 08:07:06.352 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52868/swagger/favicon-32x32.png - 200 628 image/png 24.4876ms
2023-11-29 08:07:06.441 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52868/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 134.3785ms
2023-11-29 09:01:47.901 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-29 09:01:48.409 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 09:01:48.411 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 09:01:48.411 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-29 09:01:48.512 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-29 09:01:48.522 +00:00 [DBG] Creating DbConnection.
2023-11-29 09:01:48.555 +00:00 [DBG] Created DbConnection. (31ms).
2023-11-29 09:01:48.560 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:48.838 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:48.840 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:48.848 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-29 09:01:48.856 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-29 09:01:48.861 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-29 09:01:48.863 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-11-29 09:01:48.863 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:48.959 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:48.965 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-29 09:01:49.021 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-29 09:01:49.022 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.024 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-29 09:01:49.035 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.036 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.037 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-29 09:01:49.037 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-29 09:01:49.038 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-29 09:01:49.039 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-29 09:01:49.054 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-29 09:01:49.061 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.063 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-11-29 09:01:49.064 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.064 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-29 09:01:49.066 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.068 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.131 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.132 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.133 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-29 09:01:49.134 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-29 09:01:49.135 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-11-29 09:01:49.135 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-11-29 09:01:49.136 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.136 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.137 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-29 09:01:49.138 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-29 09:01:49.139 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.139 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-29 09:01:49.140 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.211 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.211 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.214 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-29 09:01:49.214 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-29 09:01:49.215 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-11-29 09:01:49.217 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-11-29 09:01:49.218 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.218 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.219 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-29 09:01:49.220 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-29 09:01:49.221 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.222 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-29 09:01:49.223 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.223 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.224 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-29 09:01:49.224 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-29 09:01:49.225 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-29 09:01:49.225 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-29 09:01:49.226 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-29 09:01:49.227 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.228 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-29 09:01:49.228 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.229 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-29 09:01:49.239 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-29 09:01:49.241 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-29 09:01:49.243 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-29 09:01:49.244 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-29 09:01:49.263 +00:00 [DBG] Found module Web.API.Endpoints.Carts
2023-11-29 09:01:49.264 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-29 09:01:49.264 +00:00 [DBG] Found module Web.API.Endpoints.PurchaseHistories
2023-11-29 09:01:49.265 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-29 09:01:49.278 +00:00 [DBG] Hosting starting
2023-11-29 09:01:49.419 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-29 09:01:49.541 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-29 09:01:49.541 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-29 09:01:49.542 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-29 09:01:49.543 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-29 09:01:49.543 +00:00 [INF] Hosting environment: Development
2023-11-29 09:01:49.544 +00:00 [INF] Content root path: /app
2023-11-29 09:01:49.545 +00:00 [DBG] Hosting started
2023-11-29 09:01:49.729 +00:00 [DBG] Connection id "0HMVGN79ARTT1" accepted.
2023-11-29 09:01:49.732 +00:00 [DBG] Connection id "0HMVGN79ARTT1" started.
2023-11-29 09:01:49.774 +00:00 [DBG] Connection 0HMVGN79ARTT1 established using the following protocol: "Tls13"
2023-11-29 09:01:49.832 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52868/swagger/index.html - null null
2023-11-29 09:01:49.834 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-29 09:01:49.939 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-29 09:01:49.940 +00:00 [DBG] Request did not match any endpoints
2023-11-29 09:01:50.028 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52868/swagger/index.html - 200 null text/html;charset=utf-8 197.2046ms
2023-11-29 09:01:50.470 +00:00 [INF] Request starting HTTP/2 GET https://localhost:52868/swagger/v1/swagger.json - null null
2023-11-29 09:01:50.471 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-29 09:01:50.472 +00:00 [DBG] Request did not match any endpoints
2023-11-29 09:01:50.478 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-29 09:01:50.567 +00:00 [INF] Request finished HTTP/2 GET https://localhost:52868/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 97.3786ms
2023-11-30 01:58:56.054 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 01:58:56.568 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 01:58:56.569 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 01:58:56.570 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 01:58:56.672 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 01:58:56.681 +00:00 [DBG] Creating DbConnection.
2023-11-30 01:58:56.720 +00:00 [DBG] Created DbConnection. (37ms).
2023-11-30 01:58:56.725 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:56.935 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:56.937 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:56.945 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-30 01:58:56.951 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 01:58:56.957 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-11-30 01:58:56.958 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2023-11-30 01:58:56.959 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.038 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.043 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 01:58:57.089 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 01:58:57.091 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.093 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-30 01:58:57.102 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.103 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.103 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 01:58:57.104 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 01:58:57.104 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 01:58:57.105 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 01:58:57.112 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 01:58:57.118 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.120 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-11-30 01:58:57.120 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.121 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 01:58:57.123 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.124 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.187 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.188 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.188 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 01:58:57.189 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 01:58:57.189 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 01:58:57.190 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 01:58:57.190 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.191 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.191 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 01:58:57.192 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 01:58:57.192 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.193 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 01:58:57.194 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.260 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.260 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.261 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 01:58:57.261 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 01:58:57.262 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 01:58:57.262 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-11-30 01:58:57.263 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.263 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.264 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 01:58:57.265 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 01:58:57.265 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.266 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 01:58:57.266 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.267 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.267 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 01:58:57.267 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 01:58:57.268 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 01:58:57.269 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 01:58:57.270 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 01:58:57.271 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.271 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 01:58:57.272 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.272 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 01:58:57.280 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 01:58:57.281 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 01:58:57.283 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 01:58:57.284 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 01:58:57.304 +00:00 [DBG] Found module Web.API.Endpoints.Carts
2023-11-30 01:58:57.304 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-30 01:58:57.305 +00:00 [DBG] Found module Web.API.Endpoints.PurchaseHistories
2023-11-30 01:58:57.305 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-30 01:58:57.322 +00:00 [DBG] Hosting starting
2023-11-30 01:58:57.488 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 01:58:57.676 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 01:58:57.677 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 01:58:57.677 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 01:58:57.678 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 01:58:57.679 +00:00 [INF] Hosting environment: Development
2023-11-30 01:58:57.680 +00:00 [INF] Content root path: /app
2023-11-30 01:58:57.680 +00:00 [DBG] Hosting started
2023-11-30 01:58:57.933 +00:00 [DBG] Connection id "0HMVH8VL54R88" accepted.
2023-11-30 01:58:57.935 +00:00 [DBG] Connection id "0HMVH8VL54R88" started.
2023-11-30 01:58:57.939 +00:00 [DBG] Connection id "0HMVH8VL54R89" accepted.
2023-11-30 01:58:57.942 +00:00 [DBG] Connection id "0HMVH8VL54R89" started.
2023-11-30 01:58:57.971 +00:00 [DBG] Connection id "0HMVH8VL54R88" received FIN.
2023-11-30 01:58:58.002 +00:00 [DBG] Connection 0HMVH8VL54R88 established using the following protocol: "Tls13"
2023-11-30 01:58:58.002 +00:00 [DBG] Connection 0HMVH8VL54R89 established using the following protocol: "Tls13"
2023-11-30 01:58:58.016 +00:00 [DBG] Connection id "0HMVH8VL54R88" is closed. The last processed stream ID was 0.
2023-11-30 01:58:58.017 +00:00 [DBG] Connection id "0HMVH8VL54R88" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-30 01:58:58.022 +00:00 [DBG] The connection queue processing loop for 0HMVH8VL54R88 completed.
2023-11-30 01:58:58.028 +00:00 [DBG] Connection id "0HMVH8VL54R88" stopped.
2023-11-30 01:58:58.061 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger - null null
2023-11-30 01:58:58.062 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 01:58:58.206 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-11-30 01:58:58.210 +00:00 [DBG] Request did not match any endpoints
2023-11-30 01:58:58.249 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger - 301 0 null 188.4245ms
2023-11-30 01:58:58.295 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 01:58:58.300 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 01:58:58.303 +00:00 [DBG] Request did not match any endpoints
2023-11-30 01:58:58.394 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 99.0961ms
2023-11-30 01:58:58.413 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/swagger-ui.css - null null
2023-11-30 01:58:58.455 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/swagger-ui-bundle.js - null null
2023-11-30 01:58:58.476 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-11-30 01:58:58.477 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-11-30 01:58:58.479 +00:00 [DBG] Request did not match any endpoints
2023-11-30 01:58:58.499 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/swagger-ui-standalone-preset.js - null null
2023-11-30 01:58:58.499 +00:00 [DBG] Request did not match any endpoints
2023-11-30 01:58:58.543 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-11-30 01:58:58.549 +00:00 [DBG] Request did not match any endpoints
2023-11-30 01:58:58.580 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-30 01:58:58.581 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/swagger-ui.css - 200 144929 text/css 167.1527ms
2023-11-30 01:58:58.653 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-30 01:58:58.656 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 177.0738ms
2023-11-30 01:58:58.768 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-30 01:58:58.769 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 314.2954ms
2023-11-30 01:58:59.112 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 01:58:59.114 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/favicon-32x32.png - null null
2023-11-30 01:58:59.117 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 01:58:59.124 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-11-30 01:58:59.138 +00:00 [DBG] Request did not match any endpoints
2023-11-30 01:58:59.146 +00:00 [DBG] Request did not match any endpoints
2023-11-30 01:58:59.154 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-30 01:58:59.160 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-30 01:58:59.166 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/favicon-32x32.png - 200 628 image/png 52.4613ms
2023-11-30 01:58:59.287 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 174.8625ms
2023-11-30 02:01:10.335 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 02:01:10.761 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:01:10.763 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:01:10.763 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:01:10.861 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 02:01:10.871 +00:00 [DBG] Creating DbConnection.
2023-11-30 02:01:10.900 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-30 02:01:10.905 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.042 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.044 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.052 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-30 02:01:11.057 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:01:11.062 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-30 02:01:11.063 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-30 02:01:11.064 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.154 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.158 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:01:11.202 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:01:11.203 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.205 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 02:01:11.212 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.213 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.214 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:01:11.214 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:01:11.214 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:01:11.215 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:01:11.219 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:01:11.225 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.226 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 02:01:11.226 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.226 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:01:11.228 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.229 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.288 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.288 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.289 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:01:11.289 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:01:11.289 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:01:11.290 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:01:11.290 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.290 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.291 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:01:11.292 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:01:11.292 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.293 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:01:11.293 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.353 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.354 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.354 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:01:11.355 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:01:11.355 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:01:11.356 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:01:11.356 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.357 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.357 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:01:11.358 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:01:11.359 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.359 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:01:11.360 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.360 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.360 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:01:11.361 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:01:11.361 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:01:11.361 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:01:11.362 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:01:11.363 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.363 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 02:01:11.364 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.364 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:01:11.371 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 02:01:11.373 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 02:01:11.374 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:01:11.375 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:01:11.392 +00:00 [DBG] Found module Web.API.Endpoints.Carts
2023-11-30 02:01:11.392 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-30 02:01:11.392 +00:00 [DBG] Found module Web.API.Endpoints.PurchaseHistories
2023-11-30 02:01:11.393 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-30 02:01:11.403 +00:00 [DBG] Hosting starting
2023-11-30 02:01:11.523 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 02:01:11.629 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 02:01:11.630 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 02:01:11.630 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 02:01:11.631 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 02:01:11.631 +00:00 [INF] Hosting environment: Development
2023-11-30 02:01:11.632 +00:00 [INF] Content root path: /app
2023-11-30 02:01:11.632 +00:00 [DBG] Hosting started
2023-11-30 02:01:11.772 +00:00 [DBG] Connection id "0HMVH90T1I6S4" accepted.
2023-11-30 02:01:11.774 +00:00 [DBG] Connection id "0HMVH90T1I6S4" started.
2023-11-30 02:01:11.801 +00:00 [DBG] Connection 0HMVH90T1I6S4 established using the following protocol: "Tls13"
2023-11-30 02:01:11.842 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 02:01:11.844 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 02:01:11.921 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 02:01:11.922 +00:00 [DBG] Request did not match any endpoints
2023-11-30 02:01:11.991 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 149.4777ms
2023-11-30 02:01:12.413 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 02:01:12.414 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 02:01:12.415 +00:00 [DBG] Request did not match any endpoints
2023-11-30 02:01:12.421 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-30 02:01:12.509 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 96.1624ms
2023-11-30 02:32:53.807 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 02:32:54.223 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:32:54.225 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:32:54.225 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:32:54.316 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 02:32:54.325 +00:00 [DBG] Creating DbConnection.
2023-11-30 02:32:54.354 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-30 02:32:54.358 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:54.629 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:54.631 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:54.638 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-30 02:32:54.643 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:32:54.647 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-30 02:32:54.649 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-30 02:32:54.649 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:54.821 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:54.832 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:32:54.901 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:32:54.902 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:54.904 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 02:32:54.915 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:54.916 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:54.916 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:32:54.916 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:32:54.917 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:32:54.917 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:32:54.929 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:32:54.934 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:54.936 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 02:32:54.936 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:54.937 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:32:54.939 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:54.939 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:54.997 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:54.998 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:54.998 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:32:54.999 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:32:54.999 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:32:55.000 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:32:55.000 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:55.001 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:55.001 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:32:55.003 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:32:55.003 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:55.004 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:32:55.004 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:55.065 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:55.066 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:55.066 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:32:55.067 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:32:55.067 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:32:55.067 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:32:55.068 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:55.068 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:55.069 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:32:55.070 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:32:55.070 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:55.071 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:32:55.071 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:55.071 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:55.072 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:32:55.072 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:32:55.072 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:32:55.073 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:32:55.074 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:32:55.074 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:55.074 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 02:32:55.075 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:55.075 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:32:55.083 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 02:32:55.085 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 02:32:55.086 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:32:55.087 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:33:34.797 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 02:33:35.246 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:33:35.247 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:33:35.247 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:33:35.363 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 02:33:35.372 +00:00 [DBG] Creating DbConnection.
2023-11-30 02:33:35.401 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-30 02:33:35.406 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.549 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.551 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.561 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-30 02:33:35.566 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:33:35.570 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-30 02:33:35.572 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-11-30 02:33:35.572 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.663 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.670 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:33:35.719 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:33:35.720 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.723 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-30 02:33:35.735 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.735 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.736 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:33:35.736 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:33:35.737 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 02:33:35.738 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:33:35.742 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:33:35.747 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.748 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-11-30 02:33:35.748 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.749 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:33:35.750 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.751 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.811 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.811 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.812 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:33:35.812 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:33:35.813 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:33:35.813 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:33:35.814 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.814 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.814 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:33:35.815 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:33:35.816 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.816 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:33:35.817 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.874 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.875 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.875 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:33:35.876 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:33:35.876 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:33:35.877 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-11-30 02:33:35.877 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.878 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.879 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:33:35.880 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:33:35.881 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.881 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:33:35.882 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.882 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.882 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:33:35.883 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:33:35.883 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:33:35.883 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:33:35.884 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:33:35.885 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.885 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 02:33:35.885 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.886 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:33:35.894 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 02:33:35.896 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 02:33:35.897 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:35.898 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:33:35.933 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 02:33:35.974 +00:00 [DBG] Found module Web.API.Endpoints.Carts
2023-11-30 02:33:35.975 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-30 02:33:35.975 +00:00 [DBG] Found module Web.API.Endpoints.PurchaseHistories
2023-11-30 02:33:35.981 +00:00 [DBG] Hosting starting
2023-11-30 02:33:36.165 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 02:33:36.284 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 02:33:36.284 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 02:33:36.285 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 02:33:36.286 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 02:33:36.286 +00:00 [INF] Hosting environment: Development
2023-11-30 02:33:36.286 +00:00 [INF] Content root path: /app
2023-11-30 02:33:36.287 +00:00 [DBG] Hosting started
2023-11-30 02:33:36.437 +00:00 [DBG] Connection id "0HMVH9J0JASTB" accepted.
2023-11-30 02:33:36.439 +00:00 [DBG] Connection id "0HMVH9J0JASTB" started.
2023-11-30 02:33:36.469 +00:00 [DBG] Connection 0HMVH9J0JASTB established using the following protocol: "Tls13"
2023-11-30 02:33:36.506 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 02:33:36.508 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 02:33:36.537 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 02:33:36.539 +00:00 [DBG] Request did not match any endpoints
2023-11-30 02:33:36.613 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 108.2641ms
2023-11-30 02:33:36.944 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 02:33:36.946 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 02:33:36.946 +00:00 [DBG] Request did not match any endpoints
2023-11-30 02:33:37.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.3421ms
2023-11-30 02:33:41.380 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Users - null null
2023-11-30 02:33:41.384 +00:00 [DBG] 1 candidate(s) found for the request path '/Users'
2023-11-30 02:33:41.387 +00:00 [DBG] Endpoint 'Web.API.Endpoints.Users.Get (WebApi)' with route pattern 'Users' is valid for the request path '/Users'
2023-11-30 02:33:41.399 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.Users.Get (WebApi)'
2023-11-30 02:33:41.402 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 02:33:41.404 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.Users.Get (WebApi)'
2023-11-30 02:33:41.418 +00:00 [INF] Route matched with {action = "Get", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Application.Users.Get.UserResponse]] Get(MediatR.ISender) on controller Web.API.Endpoints.Users (WebApi).
2023-11-30 02:33:41.420 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 02:33:41.420 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 02:33:41.421 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 02:33:41.422 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 02:33:41.422 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 02:33:41.425 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.Users (WebApi)
2023-11-30 02:33:41.426 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.Users (WebApi)
2023-11-30 02:33:41.429 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 02:33:41.431 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 02:33:41.431 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 02:33:41.433 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 02:33:41.453 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 02:33:41.472 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Select(p => new UserResponse(
        p.Id.Value, 
        p.Email, 
        p.Name, 
        p.Role
    ))'
2023-11-30 02:33:41.573 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT u.Id, u.Email, u.Name, u.Role
        FROM Users AS u), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-30 02:33:41.591 +00:00 [DBG] Creating DbConnection.
2023-11-30 02:33:41.592 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 02:33:41.594 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:41.596 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:41.596 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:33:41.596 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:33:41.597 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:33:41.598 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 02:33:41.615 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 02:33:41.620 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:41.622 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-11-30 02:33:41.646 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:41.647 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:33:41.651 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-30 02:33:41.653 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-11-30 02:33:41.654 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-11-30 02:33:41.655 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-30 02:33:41.655 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-30 02:33:41.656 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-30 02:33:41.658 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.Users.Get.UserResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-30 02:33:41.669 +00:00 [INF] Executed action Web.API.Endpoints.Users.Get (WebApi) in 242.9308ms
2023-11-30 02:33:41.669 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.Users.Get (WebApi)'
2023-11-30 02:33:41.672 +00:00 [INF] HTTP GET /Users responded 200 in 267.2714 ms
2023-11-30 02:33:41.673 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 02:33:41.677 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:33:41.679 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-30 02:33:41.679 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Users - 200 null application/json; charset=utf-8 299.5434ms
2023-11-30 02:34:38.766 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 02:34:39.185 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:34:39.186 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:34:39.187 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:34:39.278 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 02:34:39.288 +00:00 [DBG] Creating DbConnection.
2023-11-30 02:34:39.316 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-30 02:34:39.321 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.463 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.464 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.471 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-30 02:34:39.478 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:34:39.484 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-30 02:34:39.485 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-30 02:34:39.485 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.560 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.565 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:34:39.610 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:34:39.611 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.613 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 02:34:39.621 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.622 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.622 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:34:39.622 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:34:39.623 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:34:39.624 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:34:39.628 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:34:39.633 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.635 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 02:34:39.636 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.636 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:34:39.638 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.639 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.699 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.699 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.700 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:34:39.700 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:34:39.700 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:34:39.701 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:34:39.701 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.702 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.702 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:34:39.704 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:34:39.704 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.704 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:34:39.705 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.764 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.764 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.764 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:34:39.765 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:34:39.765 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:34:39.765 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:34:39.766 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.766 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.767 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:34:39.768 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:34:39.768 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.769 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:34:39.769 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.769 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.770 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:34:39.770 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:34:39.770 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:34:39.771 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:34:39.772 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:34:39.772 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.772 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 02:34:39.773 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.773 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:34:39.781 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 02:34:39.782 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 02:34:39.784 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:34:39.785 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:34:39.816 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 02:34:39.830 +00:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-11-30 02:34:39.840 +00:00 [DBG] Found module Web.API.Endpoints.Carts
2023-11-30 02:34:39.840 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-30 02:34:39.841 +00:00 [DBG] Found module Web.API.Endpoints.PurchaseHistories
2023-11-30 02:34:39.841 +00:00 [DBG] Found module Web.API.Endpoints.Users
2023-11-30 02:34:39.847 +00:00 [DBG] Hosting starting
2023-11-30 02:34:40.007 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 02:34:40.113 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 02:34:40.114 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 02:34:40.114 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 02:34:40.115 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 02:34:40.115 +00:00 [INF] Hosting environment: Development
2023-11-30 02:34:40.116 +00:00 [INF] Content root path: /app
2023-11-30 02:34:40.116 +00:00 [DBG] Hosting started
2023-11-30 02:34:40.259 +00:00 [DBG] Connection id "0HMVH9JJJVTDD" accepted.
2023-11-30 02:34:40.261 +00:00 [DBG] Connection id "0HMVH9JJJVTDD" started.
2023-11-30 02:34:40.285 +00:00 [DBG] Connection 0HMVH9JJJVTDD established using the following protocol: "Tls13"
2023-11-30 02:34:40.323 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 02:34:40.326 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 02:34:40.363 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 02:34:40.364 +00:00 [DBG] Request did not match any endpoints
2023-11-30 02:34:40.439 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 116.8092ms
2023-11-30 02:34:40.724 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 02:34:40.725 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 02:34:40.726 +00:00 [DBG] Request did not match any endpoints
2023-11-30 02:34:40.813 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.8202ms
2023-11-30 02:40:22.417 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/users - null null
2023-11-30 02:40:22.424 +00:00 [DBG] 1 candidate(s) found for the request path '/users'
2023-11-30 02:40:22.426 +00:00 [DBG] Request matched endpoint 'HTTP: GET users'
2023-11-30 02:40:22.430 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 02:40:22.431 +00:00 [INF] Executing endpoint 'HTTP: GET users'
2023-11-30 02:40:22.456 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 02:40:22.477 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Select(p => new UserResponse(
        p.Id.Value, 
        p.Email, 
        p.Name, 
        p.Role
    ))'
2023-11-30 02:40:22.582 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT u.Id, u.Email, u.Name, u.Role
        FROM Users AS u), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-30 02:40:22.599 +00:00 [DBG] Creating DbConnection.
2023-11-30 02:40:22.599 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 02:40:22.601 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:40:22.680 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:40:22.681 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:40:22.681 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:40:22.682 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 02:40:22.683 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 02:40:22.689 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 02:40:22.694 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:40:22.695 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 02:40:22.697 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:40:22.698 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:40:22.699 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 02:40:22.705 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-11-30 02:40:22.708 +00:00 [INF] Executed endpoint 'HTTP: GET users'
2023-11-30 02:40:22.711 +00:00 [INF] HTTP GET /users responded 200 in 278.3087 ms
2023-11-30 02:40:22.713 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 02:40:22.715 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:40:22.717 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 02:40:22.718 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/users - 200 null application/json; charset=utf-8 301.0942ms
2023-11-30 02:44:04.634 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62498/register - application/json 70
2023-11-30 02:44:04.660 +00:00 [DBG] 1 candidate(s) found for the request path '/register'
2023-11-30 02:44:04.662 +00:00 [DBG] Request matched endpoint 'HTTP: POST register'
2023-11-30 02:44:04.663 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 02:44:04.663 +00:00 [INF] Executing endpoint 'HTTP: POST register'
2023-11-30 02:44:04.668 +00:00 [DBG] Connection id "0HMVH9JJJVTDD", Request id "0HMVH9JJJVTDD:00000007": started reading request body.
2023-11-30 02:44:04.668 +00:00 [DBG] Connection id "0HMVH9JJJVTDD", Request id "0HMVH9JJJVTDD:00000007": done reading request body.
2023-11-30 02:44:04.712 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 02:44:04.755 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 02:44:04.759 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 02:44:04.768 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 02:44:04.770 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-30 02:44:04.771 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 02:44:04.772 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 02:44:04.812 +00:00 [DBG] Creating DbConnection.
2023-11-30 02:44:04.812 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 02:44:04.813 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:04.813 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:04.815 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:44:04.815 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:44:04.819 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-11-30 02:44:04.822 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "Name", "Password", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-30 02:44:04.864 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "Name", "Password", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-30 02:44:04.868 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:04.868 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 3ms reading results.
2023-11-30 02:44:04.869 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:04.869 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:44:04.876 +00:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 02:44:04.879 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-11-30 02:44:04.881 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 02:44:04.882 +00:00 [INF] Executed endpoint 'HTTP: POST register'
2023-11-30 02:44:04.882 +00:00 [INF] HTTP POST /register responded 200 in 219.0663 ms
2023-11-30 02:44:04.883 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 02:44:04.883 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:04.884 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:44:04.884 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62498/register - 200 0 null 255.2478ms
2023-11-30 02:44:08.201 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/users - null null
2023-11-30 02:44:08.201 +00:00 [DBG] 1 candidate(s) found for the request path '/users'
2023-11-30 02:44:08.202 +00:00 [DBG] Request matched endpoint 'HTTP: GET users'
2023-11-30 02:44:08.202 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 02:44:08.203 +00:00 [INF] Executing endpoint 'HTTP: GET users'
2023-11-30 02:44:08.205 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 02:44:08.208 +00:00 [DBG] Creating DbConnection.
2023-11-30 02:44:08.209 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 02:44:08.209 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:08.210 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:08.210 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:44:08.211 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:44:08.211 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 02:44:08.212 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 02:44:08.241 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 02:44:08.244 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:08.245 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 3ms reading results.
2023-11-30 02:44:08.245 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:08.246 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:44:08.247 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 02:44:08.248 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-11-30 02:44:08.251 +00:00 [INF] Executed endpoint 'HTTP: GET users'
2023-11-30 02:44:08.251 +00:00 [INF] HTTP GET /users responded 200 in 48.3911 ms
2023-11-30 02:44:08.251 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 02:44:08.252 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:08.252 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:44:08.253 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/users - 200 null application/json; charset=utf-8 52.347ms
2023-11-30 02:44:25.182 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 02:44:25.619 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:44:25.621 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:44:25.621 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:44:25.714 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 02:44:25.724 +00:00 [DBG] Creating DbConnection.
2023-11-30 02:44:25.752 +00:00 [DBG] Created DbConnection. (26ms).
2023-11-30 02:44:25.757 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:25.884 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:25.886 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:25.893 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-30 02:44:25.899 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:44:25.904 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-30 02:44:25.905 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-30 02:44:25.906 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:25.992 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:25.996 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:44:26.043 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:44:26.044 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.046 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 02:44:26.054 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.054 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.055 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:44:26.055 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:44:26.056 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:44:26.056 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:44:26.061 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:44:26.066 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.067 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 02:44:26.067 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.068 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:44:26.070 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.070 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.129 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.130 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.130 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:44:26.130 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:44:26.131 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:44:26.131 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:44:26.132 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.132 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.132 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:44:26.133 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:44:26.134 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.134 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:44:26.135 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.201 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.202 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.202 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:44:26.203 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:44:26.203 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:44:26.204 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-11-30 02:44:26.204 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.205 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.205 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:44:26.207 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:44:26.208 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.208 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:44:26.209 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.209 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.210 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:44:26.210 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:44:26.210 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:44:26.211 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:44:26.212 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:44:26.212 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.213 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 02:44:26.213 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.214 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:44:26.222 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 02:44:26.224 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 02:44:26.226 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:26.226 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:44:26.265 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 02:44:26.309 +00:00 [DBG] Found module Web.API.Endpoints.Carts
2023-11-30 02:44:26.310 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-30 02:44:26.310 +00:00 [DBG] Found module Web.API.Endpoints.PurchaseHistories
2023-11-30 02:44:26.316 +00:00 [DBG] Hosting starting
2023-11-30 02:44:26.483 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 02:44:26.600 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 02:44:26.600 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 02:44:26.601 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 02:44:26.601 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 02:44:26.602 +00:00 [INF] Hosting environment: Development
2023-11-30 02:44:26.602 +00:00 [INF] Content root path: /app
2023-11-30 02:44:26.602 +00:00 [DBG] Hosting started
2023-11-30 02:44:26.753 +00:00 [DBG] Connection id "0HMVH9P2D7LOO" accepted.
2023-11-30 02:44:26.756 +00:00 [DBG] Connection id "0HMVH9P2D7LOO" started.
2023-11-30 02:44:26.783 +00:00 [DBG] Connection 0HMVH9P2D7LOO established using the following protocol: "Tls13"
2023-11-30 02:44:26.827 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 02:44:26.829 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 02:44:26.865 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 02:44:26.866 +00:00 [DBG] Request did not match any endpoints
2023-11-30 02:44:26.942 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 117.6422ms
2023-11-30 02:44:27.243 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 02:44:27.245 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 02:44:27.245 +00:00 [DBG] Request did not match any endpoints
2023-11-30 02:44:27.329 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.0328ms
2023-11-30 02:44:32.715 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Users - null null
2023-11-30 02:44:32.718 +00:00 [DBG] 1 candidate(s) found for the request path '/Users'
2023-11-30 02:44:32.721 +00:00 [DBG] Endpoint 'Web.API.Endpoints.Users.Get (WebApi)' with route pattern 'Users' is valid for the request path '/Users'
2023-11-30 02:44:32.732 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.Users.Get (WebApi)'
2023-11-30 02:44:32.735 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 02:44:32.736 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.Users.Get (WebApi)'
2023-11-30 02:44:32.751 +00:00 [INF] Route matched with {action = "Get", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Application.Users.Get.UserResponse]] Get(MediatR.ISender) on controller Web.API.Endpoints.Users (WebApi).
2023-11-30 02:44:32.752 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 02:44:32.753 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 02:44:32.753 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 02:44:32.754 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 02:44:32.754 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 02:44:32.757 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.Users (WebApi)
2023-11-30 02:44:32.758 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.Users (WebApi)
2023-11-30 02:44:32.761 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 02:44:32.764 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 02:44:32.764 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 02:44:32.766 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 02:44:32.785 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 02:44:32.804 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Select(p => new UserResponse(
        p.Id.Value, 
        p.Email, 
        p.Name, 
        p.Role
    ))'
2023-11-30 02:44:32.909 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT u.Id, u.Email, u.Name, u.Role
        FROM Users AS u), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-30 02:44:32.927 +00:00 [DBG] Creating DbConnection.
2023-11-30 02:44:32.928 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 02:44:32.929 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:32.931 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:32.931 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:44:32.932 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:44:32.932 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:44:32.933 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 02:44:32.943 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 02:44:32.952 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:32.953 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 9ms reading results.
2023-11-30 02:44:32.977 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:32.978 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 02:44:32.983 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-30 02:44:32.985 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-11-30 02:44:32.986 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-11-30 02:44:32.986 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-30 02:44:32.987 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-30 02:44:32.988 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-30 02:44:32.989 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.Users.Get.UserResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-30 02:44:33.002 +00:00 [INF] Executed action Web.API.Endpoints.Users.Get (WebApi) in 243.4577ms
2023-11-30 02:44:33.002 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.Users.Get (WebApi)'
2023-11-30 02:44:33.004 +00:00 [INF] HTTP GET /Users responded 200 in 267.6371 ms
2023-11-30 02:44:33.006 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 02:44:33.010 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:44:33.011 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 02:44:33.012 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Users - 200 null application/json; charset=utf-8 297.2448ms
2023-11-30 02:58:14.926 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 02:58:15.341 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:58:15.342 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:58:15.343 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 02:58:15.437 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 02:58:15.447 +00:00 [DBG] Creating DbConnection.
2023-11-30 02:58:15.476 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-30 02:58:15.480 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.625 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.627 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.636 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-30 02:58:15.644 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:58:15.649 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-30 02:58:15.651 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-11-30 02:58:15.651 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.743 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.748 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:58:15.793 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:58:15.794 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.796 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 02:58:15.805 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.806 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.806 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:58:15.806 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:58:15.807 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:58:15.808 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:58:15.811 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:58:15.816 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.818 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 02:58:15.818 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.818 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:58:15.820 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.821 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.883 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.883 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.884 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:58:15.885 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:58:15.885 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:58:15.885 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:58:15.886 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.886 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.886 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:58:15.888 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:58:15.888 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.889 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:58:15.889 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.949 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.950 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.950 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:58:15.951 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 02:58:15.951 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 02:58:15.952 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-11-30 02:58:15.952 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.953 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.953 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:58:15.955 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 02:58:15.956 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.956 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:58:15.958 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.959 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.959 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:58:15.960 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:58:15.960 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:58:15.961 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:58:15.962 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 02:58:15.962 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.963 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 02:58:15.963 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.963 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:58:15.973 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 02:58:15.974 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 02:58:15.976 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:15.977 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:58:16.011 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 02:58:16.055 +00:00 [DBG] Found module Web.API.Endpoints.Carts
2023-11-30 02:58:16.055 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-30 02:58:16.055 +00:00 [DBG] Found module Web.API.Endpoints.PurchaseHistories
2023-11-30 02:58:16.061 +00:00 [DBG] Hosting starting
2023-11-30 02:58:16.215 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 02:58:16.320 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 02:58:16.320 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 02:58:16.321 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 02:58:16.321 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 02:58:16.321 +00:00 [INF] Hosting environment: Development
2023-11-30 02:58:16.322 +00:00 [INF] Content root path: /app
2023-11-30 02:58:16.322 +00:00 [DBG] Hosting started
2023-11-30 02:58:16.472 +00:00 [DBG] Connection id "0HMVHA0PM1F0F" accepted.
2023-11-30 02:58:16.474 +00:00 [DBG] Connection id "0HMVHA0PM1F0F" started.
2023-11-30 02:58:16.497 +00:00 [DBG] Connection 0HMVHA0PM1F0F established using the following protocol: "Tls13"
2023-11-30 02:58:16.537 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 02:58:16.539 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 02:58:16.572 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 02:58:16.576 +00:00 [DBG] Request did not match any endpoints
2023-11-30 02:58:16.652 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 115.782ms
2023-11-30 02:58:16.946 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 02:58:16.948 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 02:58:16.948 +00:00 [DBG] Request did not match any endpoints
2023-11-30 02:58:17.033 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.1614ms
2023-11-30 02:58:21.536 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62498/User - application/json 67
2023-11-30 02:58:21.541 +00:00 [DBG] 1 candidate(s) found for the request path '/User'
2023-11-30 02:58:21.544 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.Register (WebApi)' with route pattern 'User' is valid for the request path '/User'
2023-11-30 02:58:21.554 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.Register (WebApi)'
2023-11-30 02:58:21.557 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 02:58:21.559 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.Register (WebApi)'
2023-11-30 02:58:21.573 +00:00 [INF] Route matched with {action = "Register", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Register(Application.Users.Create.CreateUserCommand, MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-11-30 02:58:21.575 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 02:58:21.575 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 02:58:21.576 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 02:58:21.577 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 02:58:21.577 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 02:58:21.579 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 02:58:21.580 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 02:58:21.583 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Users.Create.CreateUserCommand' ...
2023-11-30 02:58:21.586 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Users.Create.CreateUserCommand' using the name '' in request data ...
2023-11-30 02:58:21.587 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-11-30 02:58:21.591 +00:00 [DBG] Connection id "0HMVHA0PM1F0F", Request id "0HMVHA0PM1F0F:00000005": started reading request body.
2023-11-30 02:58:21.592 +00:00 [DBG] Connection id "0HMVHA0PM1F0F", Request id "0HMVHA0PM1F0F:00000005": done reading request body.
2023-11-30 02:58:21.595 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Users.Create.CreateUserCommand'
2023-11-30 02:58:21.595 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Users.Create.CreateUserCommand'.
2023-11-30 02:58:21.596 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Users.Create.CreateUserCommand'.
2023-11-30 02:58:21.596 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Users.Create.CreateUserCommand' ...
2023-11-30 02:58:21.601 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Users.Create.CreateUserCommand'.
2023-11-30 02:58:21.603 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 02:58:21.604 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 02:58:21.605 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 02:58:21.606 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 02:58:21.626 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 02:58:21.669 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 02:58:21.674 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 02:58:21.682 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 02:58:21.685 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-30 02:58:21.687 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 02:58:21.688 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 02:58:21.725 +00:00 [DBG] Creating DbConnection.
2023-11-30 02:58:21.726 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 02:58:21.727 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:21.729 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:21.733 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:58:21.733 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:58:21.738 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-11-30 02:58:21.740 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "Name", "Password", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-30 02:58:21.762 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?', @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Id", "Email", "Name", "Password", "Role")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-11-30 02:58:21.768 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:21.770 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-11-30 02:58:21.773 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:21.775 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-30 02:58:21.782 +00:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 02:58:21.783 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-11-30 02:58:21.789 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 02:58:21.792 +00:00 [INF] Executed action Web.API.Endpoints.UserController.Register (WebApi) in 212.2914ms
2023-11-30 02:58:21.792 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.Register (WebApi)'
2023-11-30 02:58:21.794 +00:00 [INF] HTTP POST /User responded 200 in 235.0737 ms
2023-11-30 02:58:21.797 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 02:58:21.799 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:21.800 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 02:58:21.801 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62498/User - 200 0 null 265.1629ms
2023-11-30 02:58:32.649 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/User - null null
2023-11-30 02:58:32.650 +00:00 [DBG] 1 candidate(s) found for the request path '/User'
2023-11-30 02:58:32.651 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.Get (WebApi)' with route pattern 'User' is valid for the request path '/User'
2023-11-30 02:58:32.652 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 02:58:32.652 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 02:58:32.653 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 02:58:32.657 +00:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Application.Users.Get.UserResponse]] Get(MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-11-30 02:58:32.658 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 02:58:32.659 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 02:58:32.659 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 02:58:32.660 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 02:58:32.661 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 02:58:32.662 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 02:58:32.663 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 02:58:32.664 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 02:58:32.665 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 02:58:32.665 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 02:58:32.666 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 02:58:32.709 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 02:58:32.728 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Select(p => new UserResponse(
        p.Id.Value, 
        p.Email, 
        p.Name, 
        p.Role
    ))'
2023-11-30 02:58:32.830 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT u.Id, u.Email, u.Name, u.Role
        FROM Users AS u), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-30 02:58:32.845 +00:00 [DBG] Creating DbConnection.
2023-11-30 02:58:32.846 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 02:58:32.846 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:32.847 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:32.847 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:58:32.847 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:58:32.848 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:58:32.848 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 02:58:32.852 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 02:58:32.862 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:32.863 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 10ms reading results.
2023-11-30 02:58:32.863 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:32.863 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:58:32.866 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-30 02:58:32.867 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-11-30 02:58:32.868 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-11-30 02:58:32.869 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-30 02:58:32.869 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-30 02:58:32.870 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-30 02:58:32.870 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.Users.Get.UserResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-30 02:58:32.878 +00:00 [INF] Executed action Web.API.Endpoints.UserController.Get (WebApi) in 215.9585ms
2023-11-30 02:58:32.878 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 02:58:32.879 +00:00 [INF] HTTP GET /User responded 200 in 226.0624 ms
2023-11-30 02:58:32.879 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 02:58:32.881 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:32.881 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:58:32.882 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/User - 200 null application/json; charset=utf-8 233.07ms
2023-11-30 02:58:34.502 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/User - null null
2023-11-30 02:58:34.502 +00:00 [DBG] 1 candidate(s) found for the request path '/User'
2023-11-30 02:58:34.503 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.Get (WebApi)' with route pattern 'User' is valid for the request path '/User'
2023-11-30 02:58:34.503 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 02:58:34.504 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 02:58:34.504 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 02:58:34.505 +00:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Application.Users.Get.UserResponse]] Get(MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-11-30 02:58:34.505 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 02:58:34.505 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 02:58:34.506 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 02:58:34.507 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 02:58:34.508 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 02:58:34.509 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 02:58:34.510 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 02:58:34.510 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 02:58:34.511 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 02:58:34.512 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 02:58:34.512 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 02:58:34.514 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 02:58:34.517 +00:00 [DBG] Creating DbConnection.
2023-11-30 02:58:34.517 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 02:58:34.518 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:34.518 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:34.518 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 02:58:34.518 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:58:34.519 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 02:58:34.519 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 02:58:34.568 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 02:58:34.574 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:34.575 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 3ms reading results.
2023-11-30 02:58:34.576 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:34.576 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:58:34.577 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-30 02:58:34.577 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-11-30 02:58:34.577 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-11-30 02:58:34.578 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-30 02:58:34.578 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-30 02:58:34.578 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-30 02:58:34.578 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.Users.Get.UserResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-30 02:58:34.579 +00:00 [INF] Executed action Web.API.Endpoints.UserController.Get (WebApi) in 70.1936ms
2023-11-30 02:58:34.579 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 02:58:34.580 +00:00 [INF] HTTP GET /User responded 200 in 75.6551 ms
2023-11-30 02:58:34.580 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 02:58:34.581 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 02:58:34.581 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 02:58:34.581 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/User - 200 null application/json; charset=utf-8 79.7337ms
2023-11-30 03:20:08.142 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 03:20:08.575 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 03:20:08.576 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 03:20:08.577 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 03:20:08.668 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:20:08.678 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:20:08.708 +00:00 [DBG] Created DbConnection. (28ms).
2023-11-30 03:20:08.713 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:08.840 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:08.842 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:08.850 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-30 03:20:08.856 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 03:20:08.860 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-30 03:20:08.861 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-11-30 03:20:08.862 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:08.947 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:08.953 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:20:08.998 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:20:08.999 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.001 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 03:20:09.010 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.011 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.011 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:20:09.012 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:20:09.012 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:20:09.013 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:20:09.016 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:20:09.022 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.023 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 03:20:09.024 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.024 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:20:09.026 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.026 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.087 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.088 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.088 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:20:09.089 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 03:20:09.089 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:20:09.089 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:20:09.090 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.090 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.090 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:20:09.092 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:20:09.092 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.092 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:20:09.093 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.151 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.152 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.152 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:20:09.153 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 03:20:09.153 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:20:09.153 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:20:09.154 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.154 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.155 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:20:09.156 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:20:09.156 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.157 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:20:09.157 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.157 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.158 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:20:09.158 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:20:09.158 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:20:09.158 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:20:09.159 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:20:09.160 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.160 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 03:20:09.160 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.160 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:20:09.168 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 03:20:09.170 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:20:09.171 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:09.172 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:20:09.205 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 03:20:09.250 +00:00 [DBG] Found module Web.API.Endpoints.Carts
2023-11-30 03:20:09.251 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-30 03:20:09.251 +00:00 [DBG] Found module Web.API.Endpoints.PurchaseHistories
2023-11-30 03:20:09.255 +00:00 [DBG] Hosting starting
2023-11-30 03:20:09.405 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 03:20:09.510 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 03:20:09.510 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 03:20:09.511 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 03:20:09.511 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 03:20:09.512 +00:00 [INF] Hosting environment: Development
2023-11-30 03:20:09.512 +00:00 [INF] Content root path: /app
2023-11-30 03:20:09.513 +00:00 [DBG] Hosting started
2023-11-30 03:20:09.656 +00:00 [DBG] Connection id "0HMVHAD11HNSH" accepted.
2023-11-30 03:20:09.659 +00:00 [DBG] Connection id "0HMVHAD11HNSH" started.
2023-11-30 03:20:09.681 +00:00 [DBG] Connection 0HMVHAD11HNSH established using the following protocol: "Tls13"
2023-11-30 03:20:09.719 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 03:20:09.721 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 03:20:09.755 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 03:20:09.756 +00:00 [DBG] Request did not match any endpoints
2023-11-30 03:20:09.829 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 110.8956ms
2023-11-30 03:20:10.114 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 03:20:10.115 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 03:20:10.116 +00:00 [DBG] Request did not match any endpoints
2023-11-30 03:20:10.200 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.1818ms
2023-11-30 03:20:15.068 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/User - null null
2023-11-30 03:20:15.072 +00:00 [DBG] 1 candidate(s) found for the request path '/User'
2023-11-30 03:20:15.075 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.Get (WebApi)' with route pattern 'User' is valid for the request path '/User'
2023-11-30 03:20:15.086 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:20:15.090 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:20:15.092 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:20:15.108 +00:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Application.Users.Get.UserResponse]] Get(MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-11-30 03:20:15.110 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:20:15.110 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:20:15.111 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:20:15.112 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:20:15.112 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:20:15.114 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:20:15.115 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:20:15.118 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:20:15.120 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:20:15.120 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:20:15.123 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:20:15.143 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:20:15.163 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Select(p => new UserResponse(
        p.Id.Value, 
        p.Email, 
        p.Name, 
        p.Role
    ))'
2023-11-30 03:20:15.265 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT u.Id, u.Email, u.Name, u.Role
        FROM Users AS u), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-30 03:20:15.283 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:20:15.284 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:20:15.286 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:15.287 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:15.288 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:20:15.289 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:20:15.289 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 03:20:15.290 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 03:20:15.300 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 03:20:15.310 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:15.311 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 9ms reading results.
2023-11-30 03:20:15.314 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:15.315 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 03:20:15.319 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-30 03:20:15.321 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-11-30 03:20:15.323 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-11-30 03:20:15.324 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-30 03:20:15.324 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-30 03:20:15.325 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-30 03:20:15.326 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.Users.Get.UserResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-30 03:20:15.338 +00:00 [INF] Executed action Web.API.Endpoints.UserController.Get (WebApi) in 222.1389ms
2023-11-30 03:20:15.339 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:20:15.342 +00:00 [INF] HTTP GET /User responded 200 in 249.2977 ms
2023-11-30 03:20:15.343 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:20:15.346 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:15.347 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 03:20:15.348 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/User - 200 null application/json; charset=utf-8 281.2612ms
2023-11-30 03:20:24.409 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/User/498e1c77-6da5-4246-b40b-d0d92e1c880d - null null
2023-11-30 03:20:24.410 +00:00 [DBG] 1 candidate(s) found for the request path '/User/498e1c77-6da5-4246-b40b-d0d92e1c880d'
2023-11-30 03:20:24.411 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)' with route pattern 'User/{id:guid}' is valid for the request path '/User/498e1c77-6da5-4246-b40b-d0d92e1c880d'
2023-11-30 03:20:24.412 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)'
2023-11-30 03:20:24.413 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:20:24.414 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)'
2023-11-30 03:20:24.420 +00:00 [INF] Route matched with {action = "GetById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Application.Users.Get.UserResponse]] GetById(System.Guid, MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-11-30 03:20:24.421 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:20:24.421 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:20:24.422 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:20:24.422 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:20:24.422 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:20:24.423 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:20:24.423 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:20:24.424 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-11-30 03:20:24.425 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-11-30 03:20:24.427 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:20:24.427 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:20:24.427 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-11-30 03:20:24.430 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-11-30 03:20:24.430 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:20:24.431 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:20:24.431 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:20:24.432 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:20:24.476 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:20:24.483 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(p => p.Id == __request_UserId_0)
    .Select(p => new UserResponse(
        p.Id.Value, 
        p.Email, 
        p.Name, 
        p.Role
    ))
    .FirstOrDefault()'
2023-11-30 03:20:24.498 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<UserResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(1) u.Id, u.Email, u.Name, u.Role
            FROM Users AS u
            WHERE u.Id == @__request_UserId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserResponse>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-30 03:20:24.504 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:20:24.505 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:20:24.505 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:24.505 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:24.506 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:20:24.506 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:20:24.511 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-11-30 03:20:24.513 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__request_UserId_0
LIMIT 1
2023-11-30 03:20:24.537 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__request_UserId_0
LIMIT 1
2023-11-30 03:20:24.538 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:24.539 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-11-30 03:20:24.539 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:24.540 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:20:24.569 +00:00 [INF] Executed action Web.API.Endpoints.UserController.GetById (WebApi) in 145.8967ms
2023-11-30 03:20:24.569 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)'
2023-11-30 03:20:24.570 +00:00 [ERR] HTTP GET /User/498e1c77-6da5-4246-b40b-d0d92e1c880d responded 500 in 156.1974 ms
System.InvalidCastException: Unable to cast object of type 'Microsoft.AspNetCore.Http.HttpResults.Ok`1[Application.Users.Get.UserResponse]' to type 'Microsoft.AspNetCore.Mvc.ActionResult'.
   at Web.API.Endpoints.UserController.GetById(Guid id, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Users.cs:line 37
   at lambda_method56(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-30 03:20:24.584 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Unable to cast object of type 'Microsoft.AspNetCore.Http.HttpResults.Ok`1[Application.Users.Get.UserResponse]' to type 'Microsoft.AspNetCore.Mvc.ActionResult'.
   at Web.API.Endpoints.UserController.GetById(Guid id, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Endpoints\Users.cs:line 37
   at lambda_method56(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-30 03:20:24.589 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:20:24.590 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:20:24.590 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:20:24.591 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/User/498e1c77-6da5-4246-b40b-d0d92e1c880d - 500 null text/plain; charset=utf-8 182.2926ms
2023-11-30 03:21:10.658 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 03:21:11.072 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 03:21:11.073 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 03:21:11.074 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 03:21:11.169 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:21:11.178 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:21:11.207 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-30 03:21:11.211 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.350 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.352 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.359 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-30 03:21:11.364 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 03:21:11.369 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-30 03:21:11.370 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-30 03:21:11.370 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.455 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.460 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:21:11.506 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:21:11.507 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.509 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 03:21:11.516 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.517 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.518 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:21:11.518 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:21:11.518 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:21:11.519 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:21:11.523 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:21:11.528 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.529 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 03:21:11.529 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.530 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:21:11.531 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.532 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.593 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.593 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.594 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:21:11.594 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 03:21:11.595 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:21:11.595 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:21:11.595 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.596 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.596 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:21:11.597 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:21:11.598 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.598 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:21:11.599 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.657 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.657 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.658 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:21:11.658 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 03:21:11.659 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:21:11.659 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:21:11.660 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.660 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.661 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:21:11.662 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:21:11.662 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.662 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:21:11.663 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.663 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.663 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:21:11.664 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:21:11.664 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:21:11.664 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:21:11.673 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:21:11.673 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.673 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 03:21:11.674 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.674 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:21:11.683 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 03:21:11.684 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:21:11.686 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:11.687 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:21:11.720 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 03:21:11.765 +00:00 [DBG] Found module Web.API.Endpoints.Carts
2023-11-30 03:21:11.766 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-30 03:21:11.766 +00:00 [DBG] Found module Web.API.Endpoints.PurchaseHistories
2023-11-30 03:21:11.770 +00:00 [DBG] Hosting starting
2023-11-30 03:21:11.924 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 03:21:12.031 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 03:21:12.032 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 03:21:12.032 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 03:21:12.033 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 03:21:12.033 +00:00 [INF] Hosting environment: Development
2023-11-30 03:21:12.033 +00:00 [INF] Content root path: /app
2023-11-30 03:21:12.034 +00:00 [DBG] Hosting started
2023-11-30 03:21:12.182 +00:00 [DBG] Connection id "0HMVHADJLQVI2" accepted.
2023-11-30 03:21:12.185 +00:00 [DBG] Connection id "0HMVHADJLQVI2" started.
2023-11-30 03:21:12.215 +00:00 [DBG] Connection 0HMVHADJLQVI2 established using the following protocol: "Tls13"
2023-11-30 03:21:12.261 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 03:21:12.263 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 03:21:12.296 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 03:21:12.297 +00:00 [DBG] Request did not match any endpoints
2023-11-30 03:21:12.372 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 111.5459ms
2023-11-30 03:21:12.651 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 03:21:12.653 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 03:21:12.653 +00:00 [DBG] Request did not match any endpoints
2023-11-30 03:21:12.740 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.673ms
2023-11-30 03:21:21.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/User - null null
2023-11-30 03:21:21.017 +00:00 [DBG] 1 candidate(s) found for the request path '/User'
2023-11-30 03:21:21.022 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.Get (WebApi)' with route pattern 'User' is valid for the request path '/User'
2023-11-30 03:21:21.032 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:21:21.034 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:21:21.038 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:21:21.053 +00:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Application.Users.Get.UserResponse]] Get(MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-11-30 03:21:21.055 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:21:21.056 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:21:21.057 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:21:21.057 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:21:21.057 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:21:21.059 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:21:21.060 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:21:21.063 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:21:21.065 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:21:21.065 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:21:21.067 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:21:21.087 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:21:21.106 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Select(p => new UserResponse(
        p.Id.Value, 
        p.Email, 
        p.Name, 
        p.Role
    ))'
2023-11-30 03:21:21.222 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT u.Id, u.Email, u.Name, u.Role
        FROM Users AS u), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-30 03:21:21.239 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:21:21.240 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:21:21.242 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:21.243 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:21.243 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:21:21.244 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:21:21.244 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:21:21.245 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 03:21:21.256 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 03:21:21.290 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:21.291 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 13ms reading results.
2023-11-30 03:21:21.294 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:21.294 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:21:21.322 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-30 03:21:21.324 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-11-30 03:21:21.325 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-11-30 03:21:21.326 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-30 03:21:21.326 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-30 03:21:21.328 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-30 03:21:21.329 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.Users.Get.UserResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-30 03:21:21.343 +00:00 [INF] Executed action Web.API.Endpoints.UserController.Get (WebApi) in 281.2005ms
2023-11-30 03:21:21.344 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:21:21.346 +00:00 [INF] HTTP GET /User responded 200 in 309.0889 ms
2023-11-30 03:21:21.348 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:21:21.351 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:21.353 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 03:21:21.355 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/User - 200 null application/json; charset=utf-8 340.892ms
2023-11-30 03:21:27.418 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/User/498e1c77-6da5-4246-b40b-d0d92e1c880d - null null
2023-11-30 03:21:27.419 +00:00 [DBG] 1 candidate(s) found for the request path '/User/498e1c77-6da5-4246-b40b-d0d92e1c880d'
2023-11-30 03:21:27.420 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)' with route pattern 'User/{id:guid}' is valid for the request path '/User/498e1c77-6da5-4246-b40b-d0d92e1c880d'
2023-11-30 03:21:27.420 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)'
2023-11-30 03:21:27.421 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:21:27.421 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)'
2023-11-30 03:21:27.427 +00:00 [INF] Route matched with {action = "GetById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] GetById(System.Guid, MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-11-30 03:21:27.428 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:21:27.428 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:21:27.428 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:21:27.429 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:21:27.429 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:21:27.429 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:21:27.429 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:21:27.430 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-11-30 03:21:27.432 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-11-30 03:21:27.433 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:21:27.433 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:21:27.433 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-11-30 03:21:27.434 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-11-30 03:21:27.435 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:21:27.435 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:21:27.435 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:21:27.436 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:21:27.478 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:21:27.484 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(p => p.Id == __request_UserId_0)
    .Select(p => new UserResponse(
        p.Id.Value, 
        p.Email, 
        p.Name, 
        p.Role
    ))
    .FirstOrDefault()'
2023-11-30 03:21:27.498 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<UserResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(1) u.Id, u.Email, u.Name, u.Role
            FROM Users AS u
            WHERE u.Id == @__request_UserId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserResponse>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-30 03:21:27.506 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:21:27.507 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:21:27.507 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:27.508 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:27.508 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:21:27.508 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:21:27.512 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-11-30 03:21:27.514 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__request_UserId_0
LIMIT 1
2023-11-30 03:21:27.524 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__request_UserId_0
LIMIT 1
2023-11-30 03:21:27.549 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:27.550 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 25ms reading results.
2023-11-30 03:21:27.550 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:27.551 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:21:27.552 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 03:21:27.553 +00:00 [INF] Writing value of type 'UserResponse' as Json.
2023-11-30 03:21:27.556 +00:00 [INF] Executed action Web.API.Endpoints.UserController.GetById (WebApi) in 126.3746ms
2023-11-30 03:21:27.556 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)'
2023-11-30 03:21:27.557 +00:00 [INF] HTTP GET /User/498e1c77-6da5-4246-b40b-d0d92e1c880d responded 200 in 135.6706 ms
2023-11-30 03:21:27.558 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:21:27.558 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:27.560 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:21:27.560 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/User/498e1c77-6da5-4246-b40b-d0d92e1c880d - 200 null application/json; charset=utf-8 142.3312ms
2023-11-30 03:21:41.102 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/User/498e1c77-6da5-4246-b40b-d0d92e1c880a - null null
2023-11-30 03:21:41.103 +00:00 [DBG] 1 candidate(s) found for the request path '/User/498e1c77-6da5-4246-b40b-d0d92e1c880a'
2023-11-30 03:21:41.104 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)' with route pattern 'User/{id:guid}' is valid for the request path '/User/498e1c77-6da5-4246-b40b-d0d92e1c880a'
2023-11-30 03:21:41.104 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)'
2023-11-30 03:21:41.105 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:21:41.105 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)'
2023-11-30 03:21:41.106 +00:00 [INF] Route matched with {action = "GetById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] GetById(System.Guid, MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-11-30 03:21:41.106 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:21:41.107 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:21:41.107 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:21:41.107 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:21:41.108 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:21:41.108 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:21:41.109 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:21:41.109 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-11-30 03:21:41.111 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-11-30 03:21:41.112 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:21:41.112 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:21:41.113 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-11-30 03:21:41.114 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-11-30 03:21:41.114 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:21:41.115 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:21:41.115 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:21:41.115 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:21:41.117 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:21:41.121 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:21:41.121 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:21:41.122 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:41.122 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:41.122 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:21:41.123 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:21:41.123 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:21:41.123 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__request_UserId_0
LIMIT 1
2023-11-30 03:21:41.147 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__request_UserId_0
LIMIT 1
2023-11-30 03:21:41.151 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:41.153 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-11-30 03:21:41.154 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:41.155 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:21:41.209 +00:00 [INF] Setting HTTP status code 404.
2023-11-30 03:21:41.210 +00:00 [INF] Writing value of type 'String' as Json.
2023-11-30 03:21:41.210 +00:00 [INF] Executed action Web.API.Endpoints.UserController.GetById (WebApi) in 102.349ms
2023-11-30 03:21:41.211 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)'
2023-11-30 03:21:41.211 +00:00 [INF] HTTP GET /User/498e1c77-6da5-4246-b40b-d0d92e1c880a responded 404 in 106.3404 ms
2023-11-30 03:21:41.212 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:21:41.213 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:21:41.214 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:21:41.215 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/User/498e1c77-6da5-4246-b40b-d0d92e1c880a - 404 null application/json; charset=utf-8 112.1865ms
2023-11-30 03:29:05.673 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 03:29:06.097 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 03:29:06.098 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 03:29:06.099 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 03:29:06.190 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:29:06.200 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:29:06.229 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-30 03:29:06.233 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.371 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.373 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.379 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-30 03:29:06.385 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 03:29:06.389 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-30 03:29:06.391 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-11-30 03:29:06.391 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.482 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.488 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:29:06.533 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:29:06.534 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.536 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 03:29:06.544 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.544 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.545 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:29:06.545 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:06.545 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:06.546 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:29:06.550 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:29:06.555 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.557 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 03:29:06.557 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.557 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:06.559 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.560 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.605 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.606 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.606 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:06.607 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 03:29:06.607 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:29:06.607 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:29:06.608 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.608 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.608 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:29:06.610 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:29:06.610 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.610 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:06.611 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.674 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.674 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.675 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:06.675 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 03:29:06.675 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:29:06.676 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:29:06.676 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.677 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.677 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:29:06.678 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:29:06.678 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.679 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:06.679 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.680 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.680 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:29:06.680 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:06.680 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:06.681 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:29:06.682 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:29:06.682 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.683 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 03:29:06.683 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.683 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:06.691 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 03:29:06.693 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:29:06.694 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:06.695 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:06.730 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 03:29:06.775 +00:00 [DBG] Found module Web.API.Endpoints.Carts
2023-11-30 03:29:06.776 +00:00 [DBG] Found module Web.API.Endpoints.Products
2023-11-30 03:29:06.776 +00:00 [DBG] Found module Web.API.Endpoints.PurchaseHistories
2023-11-30 03:29:06.780 +00:00 [DBG] Hosting starting
2023-11-30 03:29:06.929 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 03:29:07.047 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 03:29:07.048 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 03:29:07.048 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 03:29:07.049 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 03:29:07.050 +00:00 [INF] Hosting environment: Development
2023-11-30 03:29:07.051 +00:00 [INF] Content root path: /app
2023-11-30 03:29:07.051 +00:00 [DBG] Hosting started
2023-11-30 03:29:07.226 +00:00 [DBG] Connection id "0HMVHAI1875NB" accepted.
2023-11-30 03:29:07.228 +00:00 [DBG] Connection id "0HMVHAI1875NB" started.
2023-11-30 03:29:07.250 +00:00 [DBG] Connection 0HMVHAI1875NB established using the following protocol: "Tls13"
2023-11-30 03:29:07.289 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 03:29:07.290 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 03:29:07.326 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 03:29:07.327 +00:00 [DBG] Request did not match any endpoints
2023-11-30 03:29:07.405 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 115.0305ms
2023-11-30 03:29:07.697 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 03:29:07.698 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 03:29:07.699 +00:00 [DBG] Request did not match any endpoints
2023-11-30 03:29:07.793 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.8886ms
2023-11-30 03:29:14.181 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/User - null null
2023-11-30 03:29:14.185 +00:00 [DBG] 1 candidate(s) found for the request path '/User'
2023-11-30 03:29:14.188 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.Get (WebApi)' with route pattern 'User' is valid for the request path '/User'
2023-11-30 03:29:14.199 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:29:14.201 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:29:14.205 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:29:14.218 +00:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Application.Users.Get.UserResponse]] Get(MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-11-30 03:29:14.220 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:29:14.221 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:29:14.222 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:29:14.222 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:29:14.223 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:29:14.225 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:29:14.225 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:29:14.228 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:29:14.230 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:29:14.231 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:29:14.232 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:29:14.254 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:29:14.273 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Select(p => new UserResponse(
        p.Id.Value, 
        p.Email, 
        p.Name, 
        p.Role
    ))'
2023-11-30 03:29:14.379 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<UserResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT u.Id, u.Email, u.Name, u.Role
        FROM Users AS u), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-30 03:29:14.396 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:29:14.397 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:29:14.399 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:14.401 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:14.401 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:29:14.402 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:14.402 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 03:29:14.404 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 03:29:14.413 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 03:29:14.423 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:14.424 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 9ms reading results.
2023-11-30 03:29:14.426 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:14.428 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-30 03:29:14.432 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-30 03:29:14.434 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-11-30 03:29:14.435 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-11-30 03:29:14.436 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-30 03:29:14.437 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-30 03:29:14.438 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-30 03:29:14.439 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.Users.Get.UserResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-30 03:29:14.450 +00:00 [INF] Executed action Web.API.Endpoints.UserController.Get (WebApi) in 224.3501ms
2023-11-30 03:29:14.451 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:29:14.454 +00:00 [INF] HTTP GET /User responded 200 in 248.9299 ms
2023-11-30 03:29:14.456 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:29:14.459 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:14.461 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 03:29:14.462 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/User - 200 null application/json; charset=utf-8 280.2048ms
2023-11-30 03:29:22.834 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12 - null null
2023-11-30 03:29:22.835 +00:00 [DBG] 1 candidate(s) found for the request path '/User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12'
2023-11-30 03:29:22.836 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)' with route pattern 'User/{id:guid}' is valid for the request path '/User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12'
2023-11-30 03:29:22.837 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)'
2023-11-30 03:29:22.838 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:29:22.838 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)'
2023-11-30 03:29:22.845 +00:00 [INF] Route matched with {action = "GetById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] GetById(System.Guid, MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-11-30 03:29:22.846 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:29:22.846 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:29:22.847 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:29:22.847 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:29:22.847 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:29:22.848 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:29:22.848 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:29:22.849 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-11-30 03:29:22.850 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-11-30 03:29:22.851 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:29:22.852 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:29:22.852 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-11-30 03:29:22.853 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-11-30 03:29:22.853 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:29:22.854 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:29:22.854 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:29:22.854 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:29:22.898 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:29:22.903 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(p => p.Id == __request_UserId_0)
    .Select(p => new UserResponse(
        p.Id.Value, 
        p.Email, 
        p.Name, 
        p.Role
    ))
    .FirstOrDefault()'
2023-11-30 03:29:22.919 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<UserResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(1) u.Id, u.Email, u.Name, u.Role
            FROM Users AS u
            WHERE u.Id == @__request_UserId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserResponse>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-30 03:29:22.927 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:29:22.927 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:29:22.928 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:22.928 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:22.929 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:29:22.929 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:22.933 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-11-30 03:29:22.935 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__request_UserId_0
LIMIT 1
2023-11-30 03:29:22.986 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__request_UserId_0
LIMIT 1
2023-11-30 03:29:23.013 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:23.034 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 47ms reading results.
2023-11-30 03:29:23.034 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:23.035 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:23.036 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 03:29:23.037 +00:00 [INF] Writing value of type 'UserResponse' as Json.
2023-11-30 03:29:23.039 +00:00 [INF] Executed action Web.API.Endpoints.UserController.GetById (WebApi) in 191.635ms
2023-11-30 03:29:23.040 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.GetById (WebApi)'
2023-11-30 03:29:23.040 +00:00 [INF] HTTP GET /User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12 responded 200 in 202.1848 ms
2023-11-30 03:29:23.041 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:29:23.063 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:23.070 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (27ms).
2023-11-30 03:29:23.071 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12 - 200 null application/json; charset=utf-8 237.09ms
2023-11-30 03:29:39.040 +00:00 [INF] Request starting HTTP/2 PUT https://localhost:62498/User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12 - application/json 44
2023-11-30 03:29:39.041 +00:00 [DBG] 1 candidate(s) found for the request path '/User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12'
2023-11-30 03:29:39.042 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.UpdateById (WebApi)' with route pattern 'User/{id:guid}' is valid for the request path '/User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12'
2023-11-30 03:29:39.042 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.UpdateById (WebApi)'
2023-11-30 03:29:39.043 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:29:39.043 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.UpdateById (WebApi)'
2023-11-30 03:29:39.047 +00:00 [INF] Route matched with {action = "UpdateById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] UpdateById(System.Guid, Application.Users.Update.UpdateUserRequest, MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-11-30 03:29:39.048 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:29:39.048 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:29:39.049 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:29:39.050 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:29:39.050 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:29:39.051 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:29:39.051 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:29:39.052 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-11-30 03:29:39.052 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-11-30 03:29:39.053 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:29:39.053 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:29:39.053 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-11-30 03:29:39.054 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-11-30 03:29:39.054 +00:00 [DBG] Attempting to bind parameter 'request' of type 'Application.Users.Update.UpdateUserRequest' ...
2023-11-30 03:29:39.055 +00:00 [DBG] Attempting to bind parameter 'request' of type 'Application.Users.Update.UpdateUserRequest' using the name '' in request data ...
2023-11-30 03:29:39.057 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-11-30 03:29:39.060 +00:00 [DBG] Connection id "0HMVHAI1875NB", Request id "0HMVHAI1875NB:00000009": started reading request body.
2023-11-30 03:29:39.061 +00:00 [DBG] Connection id "0HMVHAI1875NB", Request id "0HMVHAI1875NB:00000009": done reading request body.
2023-11-30 03:29:39.064 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Users.Update.UpdateUserRequest'
2023-11-30 03:29:39.066 +00:00 [DBG] Done attempting to bind parameter 'request' of type 'Application.Users.Update.UpdateUserRequest'.
2023-11-30 03:29:39.066 +00:00 [DBG] Done attempting to bind parameter 'request' of type 'Application.Users.Update.UpdateUserRequest'.
2023-11-30 03:29:39.067 +00:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Application.Users.Update.UpdateUserRequest' ...
2023-11-30 03:29:39.073 +00:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Application.Users.Update.UpdateUserRequest'.
2023-11-30 03:29:39.073 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:29:39.074 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:29:39.074 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:29:39.074 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:29:39.080 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:29:39.083 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(p => p.Id == __id_0)'
2023-11-30 03:29:39.108 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (UserId) Required PK AfterSave:Throw, 0], [Property: User.Email (string) Required, 1], [Property: User.Name (string) Required, 2], [Property: User.Password (string) Required, 3], [Property: User.Role (UserRole) Required, 4] }
            SELECT TOP(2) u.Id, u.Email, u.Name, u.Password, u.Role
            FROM Users AS u
            WHERE u.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-30 03:29:39.109 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:29:39.109 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:29:39.109 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:39.110 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:39.110 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:29:39.110 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:39.111 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:39.111 +00:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Password", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 2
2023-11-30 03:29:39.115 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Password", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 2
2023-11-30 03:29:39.138 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:29:39.150 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:39.151 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 34ms reading results.
2023-11-30 03:29:39.151 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:39.151 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:39.158 +00:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:29:39.161 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 03:29:39.168 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 03:29:39.171 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-30 03:29:39.172 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 03:29:39.172 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 03:29:39.205 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:39.205 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:39.207 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:29:39.207 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:39.209 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 03:29:39.210 +00:00 [DBG] Executing DbCommand [Parameters=[@p4='?' (DbType = Guid), @p0='?', @p1='?', @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Email" = @p0, "Name" = @p1, "Password" = @p2, "Role" = @p3
WHERE "Id" = @p4;
2023-11-30 03:29:39.230 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?', @p1='?', @p2='?', @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "Email" = @p0, "Name" = @p1, "Password" = @p2, "Role" = @p3
WHERE "Id" = @p4;
2023-11-30 03:29:39.234 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:39.234 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 3ms reading results.
2023-11-30 03:29:39.235 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:39.235 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:39.239 +00:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:29:39.240 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-11-30 03:29:39.242 +00:00 [INF] Setting HTTP status code 204.
2023-11-30 03:29:39.243 +00:00 [INF] Executed action Web.API.Endpoints.UserController.UpdateById (WebApi) in 191.8539ms
2023-11-30 03:29:39.243 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.UpdateById (WebApi)'
2023-11-30 03:29:39.243 +00:00 [INF] HTTP PUT /User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12 responded 204 in 200.3604 ms
2023-11-30 03:29:39.244 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:29:39.244 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:39.244 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:39.245 +00:00 [INF] Request finished HTTP/2 PUT https://localhost:62498/User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12 - 204 null null 205.1629ms
2023-11-30 03:29:47.606 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/User - null null
2023-11-30 03:29:47.607 +00:00 [DBG] 1 candidate(s) found for the request path '/User'
2023-11-30 03:29:47.607 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.Get (WebApi)' with route pattern 'User' is valid for the request path '/User'
2023-11-30 03:29:47.608 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:29:47.609 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:29:47.609 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:29:47.610 +00:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Application.Users.Get.UserResponse]] Get(MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-11-30 03:29:47.610 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:29:47.610 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:29:47.611 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:29:47.611 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:29:47.611 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:29:47.612 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:29:47.612 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:29:47.613 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:29:47.613 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:29:47.613 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:29:47.614 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:29:47.615 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:29:47.621 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:29:47.621 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:29:47.622 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:47.622 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:47.623 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:29:47.623 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:47.623 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:47.623 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 03:29:47.630 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 03:29:47.675 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:47.697 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 45ms reading results.
2023-11-30 03:29:47.698 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:47.698 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:47.699 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-30 03:29:47.699 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-11-30 03:29:47.699 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-11-30 03:29:47.700 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-30 03:29:47.700 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-30 03:29:47.701 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-30 03:29:47.701 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.Users.Get.UserResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-30 03:29:47.703 +00:00 [INF] Executed action Web.API.Endpoints.UserController.Get (WebApi) in 90.9241ms
2023-11-30 03:29:47.703 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:29:47.704 +00:00 [INF] HTTP GET /User responded 200 in 94.6837 ms
2023-11-30 03:29:47.704 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:29:47.705 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:47.706 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:47.707 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/User - 200 null application/json; charset=utf-8 100.1255ms
2023-11-30 03:29:56.853 +00:00 [INF] Request starting HTTP/2 DELETE https://localhost:62498/User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12 - null null
2023-11-30 03:29:56.854 +00:00 [DBG] 1 candidate(s) found for the request path '/User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12'
2023-11-30 03:29:56.854 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.DeleteById (WebApi)' with route pattern 'User/{id:guid}' is valid for the request path '/User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12'
2023-11-30 03:29:56.854 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.DeleteById (WebApi)'
2023-11-30 03:29:56.855 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:29:56.856 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.DeleteById (WebApi)'
2023-11-30 03:29:56.861 +00:00 [INF] Route matched with {action = "DeleteById", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] DeleteById(System.Guid, MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-11-30 03:29:56.862 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:29:56.863 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:29:56.863 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:29:56.863 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:29:56.864 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:29:56.864 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:29:56.864 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:29:56.865 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-11-30 03:29:56.865 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-11-30 03:29:56.865 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:29:56.866 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:29:56.866 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-11-30 03:29:56.866 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-11-30 03:29:56.867 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:29:56.867 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:29:56.867 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:29:56.868 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:29:56.871 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:29:56.872 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:29:56.872 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:29:56.873 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:56.874 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:56.875 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:29:56.876 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:56.876 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:56.877 +00:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Password", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 2
2023-11-30 03:29:56.948 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Password", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__id_0
LIMIT 2
2023-11-30 03:29:56.994 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:29:57.017 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:57.018 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 68ms reading results.
2023-11-30 03:29:57.019 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:57.019 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:57.021 +00:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:29:57.022 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 03:29:57.025 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 03:29:57.025 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-30 03:29:57.025 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 03:29:57.026 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 03:29:57.034 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:57.035 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:57.035 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:29:57.036 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:57.036 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:29:57.036 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Users"
WHERE "Id" = @p0;
2023-11-30 03:29:57.044 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Users"
WHERE "Id" = @p0;
2023-11-30 03:29:57.044 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:57.044 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 03:29:57.045 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:57.045 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:57.049 +00:00 [DBG] An entity of type 'User' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:29:57.049 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-11-30 03:29:57.050 +00:00 [INF] Setting HTTP status code 204.
2023-11-30 03:29:57.050 +00:00 [INF] Executed action Web.API.Endpoints.UserController.DeleteById (WebApi) in 186.1129ms
2023-11-30 03:29:57.051 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.DeleteById (WebApi)'
2023-11-30 03:29:57.051 +00:00 [INF] HTTP DELETE /User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12 responded 204 in 194.9195 ms
2023-11-30 03:29:57.051 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:29:57.052 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:29:57.052 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:29:57.052 +00:00 [INF] Request finished HTTP/2 DELETE https://localhost:62498/User/ffb4fab3-d6f5-4490-b8e0-25e14230fc12 - 204 null null 199.8911ms
2023-11-30 03:30:02.718 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/User - null null
2023-11-30 03:30:02.719 +00:00 [DBG] 1 candidate(s) found for the request path '/User'
2023-11-30 03:30:02.719 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.Get (WebApi)' with route pattern 'User' is valid for the request path '/User'
2023-11-30 03:30:02.720 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:30:02.720 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:30:02.720 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:30:02.721 +00:00 [INF] Route matched with {action = "Get", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.List`1[Application.Users.Get.UserResponse]] Get(MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-11-30 03:30:02.721 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:30:02.722 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:30:02.722 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:30:02.722 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:30:02.723 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:30:02.723 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:30:02.724 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-11-30 03:30:02.724 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:30:02.725 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:30:02.725 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:30:02.726 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:30:02.729 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:30:02.731 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:30:02.731 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:30:02.731 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:30:02.732 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:30:02.732 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:30:02.732 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:30:02.732 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:30:02.733 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 03:30:02.738 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
2023-11-30 03:30:02.740 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:30:02.763 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 3ms reading results.
2023-11-30 03:30:02.765 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:30:02.765 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:30:02.765 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-30 03:30:02.766 +00:00 [DBG] Attempting to select an output formatter based on Accept header '["text/plain"]'.
2023-11-30 03:30:02.766 +00:00 [DBG] Could not find an output formatter based on content negotiation. Accepted types were (["text/plain"])
2023-11-30 03:30:02.766 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-30 03:30:02.767 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-30 03:30:02.767 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-30 03:30:02.767 +00:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[Application.Users.Get.UserResponse, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-11-30 03:30:02.768 +00:00 [INF] Executed action Web.API.Endpoints.UserController.Get (WebApi) in 44.6998ms
2023-11-30 03:30:02.768 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.Get (WebApi)'
2023-11-30 03:30:02.769 +00:00 [INF] HTTP GET /User responded 200 in 48.3510 ms
2023-11-30 03:30:02.769 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:30:02.769 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:30:02.770 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:30:02.772 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/User - 200 null application/json; charset=utf-8 53.4128ms
2023-11-30 03:43:08.157 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 03:43:08.583 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 03:43:08.585 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 03:43:08.585 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 03:43:08.677 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:43:08.686 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:43:08.715 +00:00 [DBG] Created DbConnection. (27ms).
2023-11-30 03:43:08.720 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:08.864 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:08.866 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:08.874 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-30 03:43:08.880 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 03:43:08.884 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-30 03:43:08.885 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-30 03:43:08.886 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:08.972 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:08.977 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:43:09.022 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:43:09.024 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.026 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 03:43:09.034 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.034 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.035 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:43:09.035 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:43:09.036 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:43:09.036 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:43:09.040 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:43:09.045 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.047 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 03:43:09.047 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.047 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:43:09.049 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.050 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.100 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.100 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.101 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:43:09.101 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 03:43:09.101 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:43:09.102 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:43:09.102 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.103 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.103 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:43:09.104 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:43:09.105 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.105 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:43:09.106 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.163 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.164 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.164 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:43:09.164 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 03:43:09.165 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:43:09.165 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 03:43:09.166 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.166 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.166 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:43:09.167 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 03:43:09.168 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.168 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:43:09.169 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.169 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.169 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:43:09.170 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:43:09.170 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:43:09.170 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:43:09.171 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 03:43:09.172 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.172 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 03:43:09.172 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.173 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:43:09.180 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 03:43:09.182 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:43:09.183 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:09.184 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:43:09.217 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 03:43:09.266 +00:00 [DBG] Found module Web.API.Endpoints.Carts
2023-11-30 03:43:09.267 +00:00 [DBG] Found module Web.API.Endpoints.PurchaseHistories
2023-11-30 03:43:09.271 +00:00 [DBG] Hosting starting
2023-11-30 03:43:09.420 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 03:43:09.526 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 03:43:09.527 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 03:43:09.527 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 03:43:09.528 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 03:43:09.528 +00:00 [INF] Hosting environment: Development
2023-11-30 03:43:09.528 +00:00 [INF] Content root path: /app
2023-11-30 03:43:09.529 +00:00 [DBG] Hosting started
2023-11-30 03:43:09.681 +00:00 [DBG] Connection id "0HMVHAPSAFQON" accepted.
2023-11-30 03:43:09.683 +00:00 [DBG] Connection id "0HMVHAPSAFQON" started.
2023-11-30 03:43:09.711 +00:00 [DBG] Connection 0HMVHAPSAFQON established using the following protocol: "Tls13"
2023-11-30 03:43:09.753 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 03:43:09.755 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 03:43:09.789 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 03:43:09.790 +00:00 [DBG] Request did not match any endpoints
2023-11-30 03:43:09.867 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 115.3634ms
2023-11-30 03:43:10.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 03:43:10.155 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 03:43:10.155 +00:00 [DBG] Request did not match any endpoints
2023-11-30 03:43:10.244 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 90.4454ms
2023-11-30 03:43:40.344 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Product - null null
2023-11-30 03:43:40.347 +00:00 [DBG] 1 candidate(s) found for the request path '/Product'
2023-11-30 03:43:40.350 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)' with route pattern 'Product' is valid for the request path '/Product'
2023-11-30 03:43:40.360 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-11-30 03:43:40.362 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:43:40.364 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-11-30 03:43:40.379 +00:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(MediatR.ISender) on controller Web.API.Endpoints.ProductController (WebApi).
2023-11-30 03:43:40.381 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:43:40.382 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:43:40.384 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:43:40.385 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:43:40.385 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:43:40.387 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 03:43:40.388 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 03:43:40.391 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:43:40.393 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:43:40.393 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:43:40.395 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:43:40.420 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:43:40.444 +00:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Select(p => new ProductResponse(
        p.Id.Value, 
        p.Name, 
        p.Sku.Value, 
        p.Price.Currency, 
        p.Price.Amount
    ))'
2023-11-30 03:43:40.572 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
        SELECT p.Id, p.Name, p.Sku, p.Price_Currency, p.Price_Amount
        FROM Products AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-30 03:43:40.589 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:43:40.589 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:43:40.591 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:40.593 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:40.593 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:43:40.593 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:43:40.594 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:43:40.595 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-11-30 03:43:40.612 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-11-30 03:43:40.625 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:40.626 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 12ms reading results.
2023-11-30 03:43:40.628 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:40.629 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:43:40.633 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 03:43:40.637 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-11-30 03:43:40.645 +00:00 [INF] Executed action Web.API.Endpoints.ProductController.Get (WebApi) in 256.3296ms
2023-11-30 03:43:40.646 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-11-30 03:43:40.648 +00:00 [INF] HTTP GET /Product responded 200 in 283.1518 ms
2023-11-30 03:43:40.649 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:43:40.652 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:40.654 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 03:43:40.655 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Product - 200 null application/json; charset=utf-8 314.4686ms
2023-11-30 03:43:49.836 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 - null null
2023-11-30 03:43:49.837 +00:00 [DBG] 1 candidate(s) found for the request path '/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646'
2023-11-30 03:43:49.839 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.GetById (WebApi)' with route pattern 'Product/{id:guid}' is valid for the request path '/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646'
2023-11-30 03:43:49.840 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.GetById (WebApi)'
2023-11-30 03:43:49.840 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:43:49.841 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.ProductController.GetById (WebApi)'
2023-11-30 03:43:49.845 +00:00 [INF] Route matched with {action = "GetById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] GetById(System.Guid, MediatR.ISender) on controller Web.API.Endpoints.ProductController (WebApi).
2023-11-30 03:43:49.845 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:43:49.846 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:43:49.846 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:43:49.846 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:43:49.847 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:43:49.847 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 03:43:49.847 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 03:43:49.848 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-11-30 03:43:49.850 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-11-30 03:43:49.851 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:43:49.851 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:43:49.852 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-11-30 03:43:49.853 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-11-30 03:43:49.854 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:43:49.855 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:43:49.855 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:43:49.856 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:43:49.894 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:43:49.900 +00:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Where(p => p.Id == __request_ProductId_0)
    .Select(p => new ProductResponse(
        p.Id.Value, 
        p.Name, 
        p.Sku.Value, 
        p.Price.Currency, 
        p.Price.Amount
    ))
    .FirstOrDefault()'
2023-11-30 03:43:49.916 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<ProductResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<ProductResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
                4 -> 4
            SELECT TOP(1) p.Id, p.Name, p.Sku, p.Price_Currency, p.Price_Amount
            FROM Products AS p
            WHERE p.Id == @__request_ProductId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductResponse>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-30 03:43:49.924 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:43:49.925 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:43:49.925 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:49.926 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:49.926 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:43:49.926 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:43:49.931 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-11-30 03:43:49.933 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
WHERE p."Id" = @__request_ProductId_0
LIMIT 1
2023-11-30 03:43:49.945 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
WHERE p."Id" = @__request_ProductId_0
LIMIT 1
2023-11-30 03:43:49.948 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:49.969 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 23ms reading results.
2023-11-30 03:43:49.971 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:49.973 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-30 03:43:49.974 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 03:43:49.974 +00:00 [INF] Writing value of type 'ProductResponse' as Json.
2023-11-30 03:43:49.975 +00:00 [INF] Executed action Web.API.Endpoints.ProductController.GetById (WebApi) in 127.7805ms
2023-11-30 03:43:49.975 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.ProductController.GetById (WebApi)'
2023-11-30 03:43:49.976 +00:00 [INF] HTTP GET /Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 responded 200 in 134.8083 ms
2023-11-30 03:43:49.976 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:43:49.976 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:43:49.977 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:43:49.978 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 - 200 null application/json; charset=utf-8 141.5095ms
2023-11-30 03:44:16.018 +00:00 [INF] Request starting HTTP/2 PUT https://localhost:62498/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 - application/json 117
2023-11-30 03:44:16.022 +00:00 [DBG] 1 candidate(s) found for the request path '/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646'
2023-11-30 03:44:16.022 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.UpdateById (WebApi)' with route pattern 'Product/{id:guid}' is valid for the request path '/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646'
2023-11-30 03:44:16.023 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.UpdateById (WebApi)'
2023-11-30 03:44:16.023 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:44:16.023 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.ProductController.UpdateById (WebApi)'
2023-11-30 03:44:16.027 +00:00 [INF] Route matched with {action = "UpdateById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] UpdateById(System.Guid, Application.Products.Update.UpdateProductRequest, MediatR.ISender) on controller Web.API.Endpoints.ProductController (WebApi).
2023-11-30 03:44:16.028 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:44:16.028 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:44:16.028 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:44:16.029 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:44:16.029 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:44:16.029 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 03:44:16.030 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 03:44:16.030 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-11-30 03:44:16.031 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-11-30 03:44:16.031 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:44:16.032 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:44:16.033 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-11-30 03:44:16.034 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-11-30 03:44:16.034 +00:00 [DBG] Attempting to bind parameter 'request' of type 'Application.Products.Update.UpdateProductRequest' ...
2023-11-30 03:44:16.035 +00:00 [DBG] Attempting to bind parameter 'request' of type 'Application.Products.Update.UpdateProductRequest' using the name '' in request data ...
2023-11-30 03:44:16.037 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-11-30 03:44:16.041 +00:00 [DBG] Connection id "0HMVHAPSAFQON", Request id "0HMVHAPSAFQON:00000009": started reading request body.
2023-11-30 03:44:16.042 +00:00 [DBG] Connection id "0HMVHAPSAFQON", Request id "0HMVHAPSAFQON:00000009": done reading request body.
2023-11-30 03:44:16.048 +00:00 [DBG] JSON input formatter threw an exception: The JSON object contains a trailing comma at the end which is not supported in this mode. Change the reader options. Path: $ | LineNumber: 5 | BytePositionInLine: 0.
2023-11-30 03:44:16.049 +00:00 [DBG] Done attempting to bind parameter 'request' of type 'Application.Products.Update.UpdateProductRequest'.
2023-11-30 03:44:16.050 +00:00 [DBG] Done attempting to bind parameter 'request' of type 'Application.Products.Update.UpdateProductRequest'.
2023-11-30 03:44:16.051 +00:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Application.Products.Update.UpdateProductRequest' ...
2023-11-30 03:44:16.055 +00:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Application.Products.Update.UpdateProductRequest'.
2023-11-30 03:44:16.055 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:44:16.056 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:44:16.056 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:44:16.056 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:44:16.057 +00:00 [DBG] The request has model state errors, returning an error response.
2023-11-30 03:44:16.059 +00:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-11-30 03:44:16.061 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-30 03:44:16.062 +00:00 [DBG] No information found on request to perform content negotiation.
2023-11-30 03:44:16.063 +00:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-11-30 03:44:16.064 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-11-30 03:44:16.064 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-11-30 03:44:16.075 +00:00 [INF] Executed action Web.API.Endpoints.ProductController.UpdateById (WebApi) in 46.0296ms
2023-11-30 03:44:16.076 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.ProductController.UpdateById (WebApi)'
2023-11-30 03:44:16.076 +00:00 [INF] HTTP PUT /Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 responded 400 in 52.6274 ms
2023-11-30 03:44:16.077 +00:00 [INF] Request finished HTTP/2 PUT https://localhost:62498/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 - 400 null application/problem+json; charset=utf-8 79.9996ms
2023-11-30 03:44:26.252 +00:00 [INF] Request starting HTTP/2 PUT https://localhost:62498/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 - application/json 116
2023-11-30 03:44:26.252 +00:00 [DBG] 1 candidate(s) found for the request path '/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646'
2023-11-30 03:44:26.253 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.UpdateById (WebApi)' with route pattern 'Product/{id:guid}' is valid for the request path '/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646'
2023-11-30 03:44:26.254 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.UpdateById (WebApi)'
2023-11-30 03:44:26.256 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:44:26.256 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.ProductController.UpdateById (WebApi)'
2023-11-30 03:44:26.257 +00:00 [INF] Route matched with {action = "UpdateById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] UpdateById(System.Guid, Application.Products.Update.UpdateProductRequest, MediatR.ISender) on controller Web.API.Endpoints.ProductController (WebApi).
2023-11-30 03:44:26.257 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:44:26.258 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:44:26.258 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:44:26.259 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:44:26.259 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:44:26.259 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 03:44:26.260 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 03:44:26.260 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-11-30 03:44:26.261 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-11-30 03:44:26.261 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:44:26.261 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:44:26.262 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-11-30 03:44:26.262 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-11-30 03:44:26.263 +00:00 [DBG] Attempting to bind parameter 'request' of type 'Application.Products.Update.UpdateProductRequest' ...
2023-11-30 03:44:26.264 +00:00 [DBG] Attempting to bind parameter 'request' of type 'Application.Products.Update.UpdateProductRequest' using the name '' in request data ...
2023-11-30 03:44:26.264 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-11-30 03:44:26.265 +00:00 [DBG] Connection id "0HMVHAPSAFQON", Request id "0HMVHAPSAFQON:0000000B": started reading request body.
2023-11-30 03:44:26.300 +00:00 [DBG] Connection id "0HMVHAPSAFQON", Request id "0HMVHAPSAFQON:0000000B": done reading request body.
2023-11-30 03:44:26.303 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Products.Update.UpdateProductRequest'
2023-11-30 03:44:26.304 +00:00 [DBG] Done attempting to bind parameter 'request' of type 'Application.Products.Update.UpdateProductRequest'.
2023-11-30 03:44:26.306 +00:00 [DBG] Done attempting to bind parameter 'request' of type 'Application.Products.Update.UpdateProductRequest'.
2023-11-30 03:44:26.306 +00:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Application.Products.Update.UpdateProductRequest' ...
2023-11-30 03:44:26.310 +00:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Application.Products.Update.UpdateProductRequest'.
2023-11-30 03:44:26.311 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:44:26.312 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:44:26.312 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:44:26.312 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:44:26.317 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:44:26.319 +00:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .SingleOrDefault(p => p.Id == __id_0)'
2023-11-30 03:44:26.323 +00:00 [DBG] Including navigation: 'Product.Price'.
2023-11-30 03:44:26.349 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Product.Id (ProductId) Required PK AfterSave:Throw, 0], [Property: Product.Name (string) Required, 1], [Property: Product.Sku (Sku) Required, 2] }
                1 -> Dictionary<IProperty, int> { [Property: Product.Price#Money.ProductId (no field, ProductId) Shadow Required PK FK AfterSave:Throw, 0], [Property: Product.Price#Money.Amount (decimal) Required, 3], [Property: Product.Price#Money.Currency (string) Required MaxLength(3), 4] }
            SELECT TOP(2) p.Id, p.Name, p.Sku, p.Price_Amount, p.Price_Currency
            FROM Products AS p
            WHERE p.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-30 03:44:26.350 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:44:26.351 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:44:26.351 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:26.351 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:26.352 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:44:26.352 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:44:26.352 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:44:26.353 +00:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Amount", p."Price_Currency"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 2
2023-11-30 03:44:26.419 +00:00 [INF] Executed DbCommand (66ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Amount", p."Price_Currency"
FROM "Products" AS p
WHERE p."Id" = @__id_0
LIMIT 2
2023-11-30 03:44:26.463 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:44:26.484 +00:00 [DBG] The navigation 'Product.Price' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:44:26.485 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:44:26.493 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:26.493 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 73ms reading results.
2023-11-30 03:44:26.493 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:26.494 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:44:26.501 +00:00 [DBG] An entity of type 'Product' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:44:26.505 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 03:44:26.512 +00:00 [DBG] The navigation 'Product.Price' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:44:26.514 +00:00 [DBG] An entity of type 'Money' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:44:26.523 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:44:26.526 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 03:44:26.529 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-30 03:44:26.530 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 03:44:26.534 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 03:44:26.579 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:26.580 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:26.581 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:44:26.582 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:44:26.584 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-11-30 03:44:26.584 +00:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Guid), @p0='?', @p1='?', @p2='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Name" = @p0, "Sku" = @p1, "Price_Amount" = @p2
WHERE "Id" = @p3;
2023-11-30 03:44:26.592 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?', @p1='?', @p2='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Products" SET "Name" = @p0, "Sku" = @p1, "Price_Amount" = @p2
WHERE "Id" = @p3;
2023-11-30 03:44:26.597 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:26.597 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 3ms reading results.
2023-11-30 03:44:26.598 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:26.599 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:44:26.601 +00:00 [DBG] An entity of type 'Product' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:44:26.604 +00:00 [DBG] An entity of type 'Money' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:44:26.604 +00:00 [DBG] An entity of type 'Money' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 03:44:26.607 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-11-30 03:44:26.611 +00:00 [INF] Setting HTTP status code 204.
2023-11-30 03:44:26.612 +00:00 [INF] Executed action Web.API.Endpoints.ProductController.UpdateById (WebApi) in 352.3267ms
2023-11-30 03:44:26.612 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.ProductController.UpdateById (WebApi)'
2023-11-30 03:44:26.612 +00:00 [INF] HTTP PUT /Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 responded 204 in 355.7895 ms
2023-11-30 03:44:26.613 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:44:26.613 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:26.613 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:44:26.614 +00:00 [INF] Request finished HTTP/2 PUT https://localhost:62498/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 - 204 null null 362.089ms
2023-11-30 03:44:30.569 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 - null null
2023-11-30 03:44:30.569 +00:00 [DBG] 1 candidate(s) found for the request path '/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646'
2023-11-30 03:44:30.570 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.GetById (WebApi)' with route pattern 'Product/{id:guid}' is valid for the request path '/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646'
2023-11-30 03:44:30.570 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.GetById (WebApi)'
2023-11-30 03:44:30.571 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:44:30.571 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.ProductController.GetById (WebApi)'
2023-11-30 03:44:30.571 +00:00 [INF] Route matched with {action = "GetById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] GetById(System.Guid, MediatR.ISender) on controller Web.API.Endpoints.ProductController (WebApi).
2023-11-30 03:44:30.572 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:44:30.572 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:44:30.573 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:44:30.573 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:44:30.574 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:44:30.574 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 03:44:30.574 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 03:44:30.575 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-11-30 03:44:30.575 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-11-30 03:44:30.575 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:44:30.576 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:44:30.576 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-11-30 03:44:30.576 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-11-30 03:44:30.577 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:44:30.577 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:44:30.578 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:44:30.578 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:44:30.580 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:44:30.586 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:44:30.587 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:44:30.587 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:30.588 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:30.588 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:44:30.588 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:44:30.589 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:44:30.590 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
WHERE p."Id" = @__request_ProductId_0
LIMIT 1
2023-11-30 03:44:30.618 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__request_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
WHERE p."Id" = @__request_ProductId_0
LIMIT 1
2023-11-30 03:44:30.644 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:30.644 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 22ms reading results.
2023-11-30 03:44:30.645 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:30.645 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:44:30.645 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 03:44:30.646 +00:00 [INF] Writing value of type 'ProductResponse' as Json.
2023-11-30 03:44:30.646 +00:00 [INF] Executed action Web.API.Endpoints.ProductController.GetById (WebApi) in 72.2076ms
2023-11-30 03:44:30.647 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.ProductController.GetById (WebApi)'
2023-11-30 03:44:30.647 +00:00 [INF] HTTP GET /Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 responded 200 in 76.2435 ms
2023-11-30 03:44:30.647 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:44:30.648 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:30.648 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:44:30.670 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 - 200 null application/json; charset=utf-8 80.7451ms
2023-11-30 03:44:32.792 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 - null null
2023-11-30 03:44:32.793 +00:00 [DBG] 1 candidate(s) found for the request path '/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646'
2023-11-30 03:44:32.794 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.GetById (WebApi)' with route pattern 'Product/{id:guid}' is valid for the request path '/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646'
2023-11-30 03:44:32.794 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.GetById (WebApi)'
2023-11-30 03:44:32.795 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 03:44:32.795 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.ProductController.GetById (WebApi)'
2023-11-30 03:44:32.796 +00:00 [INF] Route matched with {action = "GetById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] GetById(System.Guid, MediatR.ISender) on controller Web.API.Endpoints.ProductController (WebApi).
2023-11-30 03:44:32.796 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 03:44:32.796 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 03:44:32.797 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:44:32.797 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 03:44:32.798 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 03:44:32.798 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 03:44:32.799 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 03:44:32.799 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-11-30 03:44:32.799 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-11-30 03:44:32.800 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:44:32.801 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-11-30 03:44:32.801 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-11-30 03:44:32.803 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-11-30 03:44:32.803 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:44:32.803 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:44:32.804 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 03:44:32.804 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 03:44:32.806 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 03:44:32.807 +00:00 [DBG] Creating DbConnection.
2023-11-30 03:44:32.808 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 03:44:32.809 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:32.809 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:32.809 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 03:44:32.810 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:44:32.810 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 03:44:32.810 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
WHERE p."Id" = @__request_ProductId_0
LIMIT 1
2023-11-30 03:44:32.817 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_ProductId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
WHERE p."Id" = @__request_ProductId_0
LIMIT 1
2023-11-30 03:44:32.839 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:32.840 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 22ms reading results.
2023-11-30 03:44:32.842 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:32.843 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 03:44:32.865 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 03:44:32.865 +00:00 [INF] Writing value of type 'ProductResponse' as Json.
2023-11-30 03:44:32.866 +00:00 [INF] Executed action Web.API.Endpoints.ProductController.GetById (WebApi) in 67.5062ms
2023-11-30 03:44:32.866 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.ProductController.GetById (WebApi)'
2023-11-30 03:44:32.866 +00:00 [INF] HTTP GET /Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 responded 200 in 71.3732 ms
2023-11-30 03:44:32.867 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 03:44:32.867 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 03:44:32.868 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 03:44:32.869 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Product/35ae16cf-ba96-4f21-98af-2d6e5d71d646 - 200 null application/json; charset=utf-8 76.4427ms
2023-11-30 04:04:00.245 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 04:04:00.731 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 04:04:00.733 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 04:04:00.733 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 04:04:00.827 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 04:04:00.840 +00:00 [DBG] Creating DbConnection.
2023-11-30 04:04:00.870 +00:00 [DBG] Created DbConnection. (29ms).
2023-11-30 04:04:00.875 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.002 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.004 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.012 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-30 04:04:01.018 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 04:04:01.022 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-11-30 04:04:01.023 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (6ms).
2023-11-30 04:04:01.024 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.107 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.112 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 04:04:01.160 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 04:04:01.161 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.163 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 04:04:01.171 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.172 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.172 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 04:04:01.173 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:04:01.173 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:04:01.174 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 04:04:01.177 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 04:04:01.182 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.184 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 04:04:01.184 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.185 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:04:01.186 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.187 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.245 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.245 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.246 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:04:01.246 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 04:04:01.247 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 04:04:01.247 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 04:04:01.248 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.248 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.249 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 04:04:01.250 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 04:04:01.251 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.251 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:04:01.252 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.307 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.308 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.308 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:04:01.308 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 04:04:01.309 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 04:04:01.309 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 04:04:01.309 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.310 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.310 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 04:04:01.312 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 04:04:01.312 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.312 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:04:01.313 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.313 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.314 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 04:04:01.314 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:04:01.314 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:04:01.315 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 04:04:01.316 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 04:04:01.316 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.317 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 04:04:01.317 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.317 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:04:01.325 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 04:04:01.326 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 04:04:01.328 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:04:01.329 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:04:01.363 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 04:04:01.417 +00:00 [DBG] Found module Web.API.Endpoints.PurchaseHistories
2023-11-30 04:04:01.420 +00:00 [DBG] Hosting starting
2023-11-30 04:04:01.558 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 04:04:01.663 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 04:04:01.663 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 04:04:01.664 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 04:04:01.664 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 04:04:01.665 +00:00 [INF] Hosting environment: Development
2023-11-30 04:04:01.665 +00:00 [INF] Content root path: /app
2023-11-30 04:04:01.666 +00:00 [DBG] Hosting started
2023-11-30 04:04:01.818 +00:00 [DBG] Connection id "0HMVHB5HFPNFE" accepted.
2023-11-30 04:04:01.820 +00:00 [DBG] Connection id "0HMVHB5HFPNFE" started.
2023-11-30 04:04:01.847 +00:00 [DBG] Connection 0HMVHB5HFPNFE established using the following protocol: "Tls13"
2023-11-30 04:04:01.887 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 04:04:01.890 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 04:04:01.914 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 04:04:01.915 +00:00 [DBG] Request did not match any endpoints
2023-11-30 04:04:02.014 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 128.4339ms
2023-11-30 04:04:02.318 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 04:04:02.320 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 04:04:02.320 +00:00 [DBG] Request did not match any endpoints
2023-11-30 04:04:02.408 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.3608ms
2023-11-30 04:05:12.717 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 04:05:13.137 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 04:05:13.138 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 04:05:13.138 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 04:05:13.230 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 04:05:13.239 +00:00 [DBG] Creating DbConnection.
2023-11-30 04:05:13.266 +00:00 [DBG] Created DbConnection. (25ms).
2023-11-30 04:05:13.271 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.399 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.401 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.409 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-30 04:05:13.414 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 04:05:13.419 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-30 04:05:13.420 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-30 04:05:13.421 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.510 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.515 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 04:05:13.561 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 04:05:13.562 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.564 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 04:05:13.572 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.573 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.573 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 04:05:13.574 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:05:13.574 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:05:13.575 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 04:05:13.578 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 04:05:13.583 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.585 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 04:05:13.585 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.586 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:05:13.587 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.588 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.643 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.644 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.644 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:05:13.645 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 04:05:13.645 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 04:05:13.646 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 04:05:13.646 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.646 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.647 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 04:05:13.648 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 04:05:13.648 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.649 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:05:13.649 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.710 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.711 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.711 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:05:13.712 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 04:05:13.712 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 04:05:13.713 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 04:05:13.713 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.713 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.714 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 04:05:13.715 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 04:05:13.716 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.716 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:05:13.717 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.717 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.718 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 04:05:13.718 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:05:13.718 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:05:13.719 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 04:05:13.721 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 04:05:13.721 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.722 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 04:05:13.722 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.722 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:05:13.730 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 04:05:13.732 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 04:05:13.734 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:13.735 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:05:13.772 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 04:05:13.826 +00:00 [DBG] Found module Web.API.Endpoints.PurchaseHistories
2023-11-30 04:05:13.829 +00:00 [DBG] Hosting starting
2023-11-30 04:05:13.977 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 04:05:14.088 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 04:05:14.089 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 04:05:14.089 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 04:05:14.090 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 04:05:14.090 +00:00 [INF] Hosting environment: Development
2023-11-30 04:05:14.091 +00:00 [INF] Content root path: /app
2023-11-30 04:05:14.091 +00:00 [DBG] Hosting started
2023-11-30 04:05:14.226 +00:00 [DBG] Connection id "0HMVHB672B170" accepted.
2023-11-30 04:05:14.228 +00:00 [DBG] Connection id "0HMVHB672B170" started.
2023-11-30 04:05:14.252 +00:00 [DBG] Connection 0HMVHB672B170 established using the following protocol: "Tls13"
2023-11-30 04:05:14.315 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 04:05:14.318 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 04:05:14.343 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 04:05:14.344 +00:00 [DBG] Request did not match any endpoints
2023-11-30 04:05:14.416 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 101.523ms
2023-11-30 04:05:14.726 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 04:05:14.728 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 04:05:14.728 +00:00 [DBG] Request did not match any endpoints
2023-11-30 04:05:14.822 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.9381ms
2023-11-30 04:05:19.781 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Cart - null null
2023-11-30 04:05:19.785 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-11-30 04:05:19.789 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Get (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-11-30 04:05:19.798 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:05:19.801 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 04:05:19.805 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:05:19.822 +00:00 [INF] Route matched with {action = "Get", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(Application.Carts.List.ListCartQuery, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-11-30 04:05:19.823 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 04:05:19.824 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 04:05:19.824 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:05:19.825 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 04:05:19.825 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:05:19.827 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:05:19.828 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:05:19.831 +00:00 [DBG] Attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery' ...
2023-11-30 04:05:19.833 +00:00 [DBG] Attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery' using the name '' in request data ...
2023-11-30 04:05:19.835 +00:00 [DBG] Attempting to bind parameter 'UserId' of type 'Domain.Users.UserId' using the name 'UserId' in request data ...
2023-11-30 04:05:19.837 +00:00 [DBG] Could not bind to model of type 'Domain.Users.UserId' as there were no values in the request for any of the properties.
2023-11-30 04:05:19.839 +00:00 [DBG] Done attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:05:19.839 +00:00 [DBG] Done attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:05:19.840 +00:00 [DBG] Attempting to validate the bound parameter 'query' of type 'Application.Carts.List.ListCartQuery' ...
2023-11-30 04:05:19.845 +00:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:05:19.845 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:05:19.847 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:05:19.847 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:05:19.848 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:05:19.849 +00:00 [DBG] The request has model state errors, returning an error response.
2023-11-30 04:05:19.850 +00:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-11-30 04:05:19.853 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-30 04:05:19.855 +00:00 [DBG] No information found on request to perform content negotiation.
2023-11-30 04:05:19.855 +00:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-11-30 04:05:19.857 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-11-30 04:05:19.857 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-11-30 04:05:19.873 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Get (WebApi) in 44.1862ms
2023-11-30 04:05:19.873 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:05:19.875 +00:00 [INF] HTTP GET /Cart responded 400 in 70.3142 ms
2023-11-30 04:05:19.876 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Cart - 400 null application/problem+json; charset=utf-8 94.7874ms
2023-11-30 04:05:35.272 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Cart?UserId.Value=3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2023-11-30 04:05:35.273 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-11-30 04:05:35.273 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Get (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-11-30 04:05:35.278 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:05:35.280 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 04:05:35.281 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:05:35.281 +00:00 [INF] Route matched with {action = "Get", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(Application.Carts.List.ListCartQuery, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-11-30 04:05:35.282 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 04:05:35.282 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 04:05:35.282 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:05:35.283 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 04:05:35.283 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:05:35.283 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:05:35.284 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:05:35.285 +00:00 [DBG] Attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery' ...
2023-11-30 04:05:35.286 +00:00 [DBG] Attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery' using the name '' in request data ...
2023-11-30 04:05:35.286 +00:00 [DBG] Attempting to bind parameter 'UserId' of type 'Domain.Users.UserId' using the name 'UserId' in request data ...
2023-11-30 04:05:35.287 +00:00 [DBG] Attempting to bind parameter 'Value' of type 'System.Guid' using the name 'UserId.Value' in request data ...
2023-11-30 04:05:35.288 +00:00 [DBG] Done attempting to bind parameter 'Value' of type 'System.Guid'.
2023-11-30 04:05:35.288 +00:00 [DBG] Done attempting to bind parameter 'UserId' of type 'Domain.Users.UserId'.
2023-11-30 04:05:35.289 +00:00 [DBG] Done attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:05:35.289 +00:00 [DBG] Done attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:05:35.289 +00:00 [DBG] Attempting to validate the bound parameter 'query' of type 'Application.Carts.List.ListCartQuery' ...
2023-11-30 04:05:35.291 +00:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:05:35.291 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:05:35.292 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:05:35.292 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:05:35.293 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:05:35.320 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 04:05:35.342 +00:00 [DBG] Compiling query expression: 
'DbSet<Cart>()
    .Where(c => c.UserId == __request_UserId_0)
    .Select(c => new CartResponse(
        c.UserId.Value, 
        c.ProductId.Value, 
        c.Quantity
    ))'
2023-11-30 04:05:35.464 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CartResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
        SELECT c.UserId, c.ProductId, c.Quantity
        FROM Carts AS c
        WHERE c.UserId == @__request_UserId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CartResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-30 04:05:35.486 +00:00 [DBG] Creating DbConnection.
2023-11-30 04:05:35.487 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 04:05:35.489 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:35.490 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:35.490 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 04:05:35.491 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:05:35.496 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-11-30 04:05:35.499 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__request_UserId_0
2023-11-30 04:05:35.523 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__request_UserId_0
2023-11-30 04:05:35.536 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:35.536 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 12ms reading results.
2023-11-30 04:05:35.538 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:35.539 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:05:35.542 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 04:05:35.545 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-11-30 04:05:35.550 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Get (WebApi) in 266.1752ms
2023-11-30 04:05:35.550 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:05:35.551 +00:00 [INF] HTTP GET /Cart responded 200 in 270.2928 ms
2023-11-30 04:05:35.553 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 04:05:35.556 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:35.557 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 04:05:35.557 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Cart?UserId.Value=3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 285.4742ms
2023-11-30 04:05:42.201 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Cart?UserId.Value=3fa85f64-5717-4562-b3fc-2c963f66afaa - null null
2023-11-30 04:05:42.201 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-11-30 04:05:42.202 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Get (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-11-30 04:05:42.202 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:05:42.203 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 04:05:42.203 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:05:42.204 +00:00 [INF] Route matched with {action = "Get", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(Application.Carts.List.ListCartQuery, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-11-30 04:05:42.205 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 04:05:42.205 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 04:05:42.205 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:05:42.206 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 04:05:42.206 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:05:42.207 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:05:42.207 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:05:42.208 +00:00 [DBG] Attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery' ...
2023-11-30 04:05:42.209 +00:00 [DBG] Attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery' using the name '' in request data ...
2023-11-30 04:05:42.210 +00:00 [DBG] Attempting to bind parameter 'UserId' of type 'Domain.Users.UserId' using the name 'UserId' in request data ...
2023-11-30 04:05:42.211 +00:00 [DBG] Attempting to bind parameter 'Value' of type 'System.Guid' using the name 'UserId.Value' in request data ...
2023-11-30 04:05:42.211 +00:00 [DBG] Done attempting to bind parameter 'Value' of type 'System.Guid'.
2023-11-30 04:05:42.212 +00:00 [DBG] Done attempting to bind parameter 'UserId' of type 'Domain.Users.UserId'.
2023-11-30 04:05:42.213 +00:00 [DBG] Done attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:05:42.213 +00:00 [DBG] Done attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:05:42.214 +00:00 [DBG] Attempting to validate the bound parameter 'query' of type 'Application.Carts.List.ListCartQuery' ...
2023-11-30 04:05:42.214 +00:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:05:42.215 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:05:42.215 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:05:42.216 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:05:42.216 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:05:42.254 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 04:05:42.257 +00:00 [DBG] Creating DbConnection.
2023-11-30 04:05:42.258 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 04:05:42.258 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:42.258 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:42.259 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 04:05:42.259 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:05:42.259 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:05:42.260 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__request_UserId_0
2023-11-30 04:05:42.286 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__request_UserId_0
2023-11-30 04:05:42.334 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:42.336 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 47ms reading results.
2023-11-30 04:05:42.337 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:42.337 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:05:42.337 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 04:05:42.338 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-11-30 04:05:42.338 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Get (WebApi) in 131.758ms
2023-11-30 04:05:42.339 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:05:42.339 +00:00 [INF] HTTP GET /Cart responded 200 in 135.7739 ms
2023-11-30 04:05:42.339 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 04:05:42.340 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:42.341 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:05:42.342 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Cart?UserId.Value=3fa85f64-5717-4562-b3fc-2c963f66afaa - 200 null application/json; charset=utf-8 140.8808ms
2023-11-30 04:05:45.541 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Cart?UserId.Value=3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2023-11-30 04:05:45.542 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-11-30 04:05:45.542 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Get (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-11-30 04:05:45.543 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:05:45.543 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 04:05:45.544 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:05:45.544 +00:00 [INF] Route matched with {action = "Get", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(Application.Carts.List.ListCartQuery, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-11-30 04:05:45.545 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 04:05:45.545 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 04:05:45.545 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:05:45.546 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 04:05:45.546 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:05:45.547 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:05:45.548 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:05:45.549 +00:00 [DBG] Attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery' ...
2023-11-30 04:05:45.550 +00:00 [DBG] Attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery' using the name '' in request data ...
2023-11-30 04:05:45.551 +00:00 [DBG] Attempting to bind parameter 'UserId' of type 'Domain.Users.UserId' using the name 'UserId' in request data ...
2023-11-30 04:05:45.551 +00:00 [DBG] Attempting to bind parameter 'Value' of type 'System.Guid' using the name 'UserId.Value' in request data ...
2023-11-30 04:05:45.551 +00:00 [DBG] Done attempting to bind parameter 'Value' of type 'System.Guid'.
2023-11-30 04:05:45.552 +00:00 [DBG] Done attempting to bind parameter 'UserId' of type 'Domain.Users.UserId'.
2023-11-30 04:05:45.552 +00:00 [DBG] Done attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:05:45.552 +00:00 [DBG] Done attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:05:45.552 +00:00 [DBG] Attempting to validate the bound parameter 'query' of type 'Application.Carts.List.ListCartQuery' ...
2023-11-30 04:05:45.553 +00:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:05:45.553 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:05:45.553 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:05:45.553 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:05:45.554 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:05:45.555 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 04:05:45.557 +00:00 [DBG] Creating DbConnection.
2023-11-30 04:05:45.558 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 04:05:45.558 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:45.559 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:45.559 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 04:05:45.559 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:05:45.559 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:05:45.560 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__request_UserId_0
2023-11-30 04:05:45.584 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__request_UserId_0
2023-11-30 04:05:45.608 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:45.609 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 22ms reading results.
2023-11-30 04:05:45.611 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:45.612 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:05:45.612 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 04:05:45.612 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-11-30 04:05:45.613 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Get (WebApi) in 66.1914ms
2023-11-30 04:05:45.614 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:05:45.614 +00:00 [INF] HTTP GET /Cart responded 200 in 70.5911 ms
2023-11-30 04:05:45.615 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 04:05:45.616 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:05:45.616 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:05:45.617 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Cart?UserId.Value=3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 75.3228ms
2023-11-30 04:06:18.434 +00:00 [INF] Request starting HTTP/2 PUT https://localhost:62498/Cart - application/json 164
2023-11-30 04:06:18.456 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-11-30 04:06:18.456 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.UpdateById (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-11-30 04:06:18.457 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.UpdateById (WebApi)'
2023-11-30 04:06:18.457 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 04:06:18.457 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.UpdateById (WebApi)'
2023-11-30 04:06:18.461 +00:00 [INF] Route matched with {action = "UpdateById", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] UpdateById(Application.Carts.Update.UpdateCartRequest, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-11-30 04:06:18.462 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 04:06:18.462 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 04:06:18.463 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:06:18.464 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 04:06:18.464 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:06:18.464 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:06:18.465 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:06:18.465 +00:00 [DBG] Attempting to bind parameter 'body' of type 'Application.Carts.Update.UpdateCartRequest' ...
2023-11-30 04:06:18.466 +00:00 [DBG] Attempting to bind parameter 'body' of type 'Application.Carts.Update.UpdateCartRequest' using the name '' in request data ...
2023-11-30 04:06:18.468 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-11-30 04:06:18.472 +00:00 [DBG] Connection id "0HMVHB672B170", Request id "0HMVHB672B170:0000000D": started reading request body.
2023-11-30 04:06:18.473 +00:00 [DBG] Connection id "0HMVHB672B170", Request id "0HMVHB672B170:0000000D": done reading request body.
2023-11-30 04:06:18.478 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Carts.Update.UpdateCartRequest'
2023-11-30 04:06:18.479 +00:00 [DBG] Done attempting to bind parameter 'body' of type 'Application.Carts.Update.UpdateCartRequest'.
2023-11-30 04:06:18.480 +00:00 [DBG] Done attempting to bind parameter 'body' of type 'Application.Carts.Update.UpdateCartRequest'.
2023-11-30 04:06:18.481 +00:00 [DBG] Attempting to validate the bound parameter 'body' of type 'Application.Carts.Update.UpdateCartRequest' ...
2023-11-30 04:06:18.483 +00:00 [DBG] Done attempting to validate the bound parameter 'body' of type 'Application.Carts.Update.UpdateCartRequest'.
2023-11-30 04:06:18.484 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:06:18.484 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:06:18.484 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:06:18.485 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:06:18.491 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 04:06:18.496 +00:00 [DBG] Compiling query expression: 
'DbSet<Cart>()
    .SingleOrDefault(c => c.UserId == __p_0 && c.ProductId == __p_1)'
2023-11-30 04:06:18.523 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Cart>(
    asyncEnumerable: new SingleQueryingEnumerable<Cart>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Cart.UserId (UserId) Required PK AfterSave:Throw, 0], [Property: Cart.ProductId (ProductId) Required PK AfterSave:Throw, 1], [Property: Cart.Quantity (decimal) Required, 2] }
            SELECT TOP(2) c.UserId, c.ProductId, c.Quantity
            FROM Carts AS c
            WHERE (c.UserId == @__p_0) && (c.ProductId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Cart>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-30 04:06:18.527 +00:00 [DBG] Creating DbConnection.
2023-11-30 04:06:18.527 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 04:06:18.527 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:18.528 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:18.528 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 04:06:18.529 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:06:18.530 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 04:06:18.531 +00:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid), @__p_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__p_0 AND c."ProductId" = @__p_1
LIMIT 2
2023-11-30 04:06:18.577 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Guid), @__p_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__p_0 AND c."ProductId" = @__p_1
LIMIT 2
2023-11-30 04:06:18.604 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 04:06:18.619 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:18.619 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 41ms reading results.
2023-11-30 04:06:18.620 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:18.620 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:06:18.628 +00:00 [DBG] An entity of type 'Cart' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 04:06:18.632 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 04:06:18.637 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 04:06:18.640 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-30 04:06:18.641 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 04:06:18.642 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 04:06:18.674 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:18.674 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:18.676 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 04:06:18.676 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:06:18.677 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 04:06:18.677 +00:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Carts" SET "Quantity" = @p0
WHERE "ProductId" = @p1 AND "UserId" = @p2;
2023-11-30 04:06:18.691 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p0='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Carts" SET "Quantity" = @p0
WHERE "ProductId" = @p1 AND "UserId" = @p2;
2023-11-30 04:06:18.694 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:18.694 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-11-30 04:06:18.695 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:18.696 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:06:18.699 +00:00 [DBG] An entity of type 'Cart' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 04:06:18.701 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-11-30 04:06:18.703 +00:00 [INF] Setting HTTP status code 204.
2023-11-30 04:06:18.703 +00:00 [INF] Executed action Web.API.Endpoints.CartController.UpdateById (WebApi) in 239.1229ms
2023-11-30 04:06:18.704 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.UpdateById (WebApi)'
2023-11-30 04:06:18.704 +00:00 [INF] HTTP PUT /Cart responded 204 in 246.5270 ms
2023-11-30 04:06:18.704 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 04:06:18.705 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:18.705 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:06:18.705 +00:00 [INF] Request finished HTTP/2 PUT https://localhost:62498/Cart - 204 null null 272.2444ms
2023-11-30 04:06:23.483 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Cart?UserId.Value=3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2023-11-30 04:06:23.483 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-11-30 04:06:23.484 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Get (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-11-30 04:06:23.485 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:06:23.485 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 04:06:23.486 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:06:23.486 +00:00 [INF] Route matched with {action = "Get", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(Application.Carts.List.ListCartQuery, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-11-30 04:06:23.486 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 04:06:23.487 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 04:06:23.487 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:06:23.488 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 04:06:23.488 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:06:23.489 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:06:23.489 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:06:23.489 +00:00 [DBG] Attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery' ...
2023-11-30 04:06:23.490 +00:00 [DBG] Attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery' using the name '' in request data ...
2023-11-30 04:06:23.490 +00:00 [DBG] Attempting to bind parameter 'UserId' of type 'Domain.Users.UserId' using the name 'UserId' in request data ...
2023-11-30 04:06:23.490 +00:00 [DBG] Attempting to bind parameter 'Value' of type 'System.Guid' using the name 'UserId.Value' in request data ...
2023-11-30 04:06:23.491 +00:00 [DBG] Done attempting to bind parameter 'Value' of type 'System.Guid'.
2023-11-30 04:06:23.491 +00:00 [DBG] Done attempting to bind parameter 'UserId' of type 'Domain.Users.UserId'.
2023-11-30 04:06:23.492 +00:00 [DBG] Done attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:06:23.493 +00:00 [DBG] Done attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:06:23.493 +00:00 [DBG] Attempting to validate the bound parameter 'query' of type 'Application.Carts.List.ListCartQuery' ...
2023-11-30 04:06:23.493 +00:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:06:23.494 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:06:23.494 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:06:23.494 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:06:23.495 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:06:23.496 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 04:06:23.497 +00:00 [DBG] Creating DbConnection.
2023-11-30 04:06:23.497 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 04:06:23.498 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:23.498 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:23.499 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 04:06:23.499 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:06:23.500 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 04:06:23.501 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__request_UserId_0
2023-11-30 04:06:23.549 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__request_UserId_0
2023-11-30 04:06:23.552 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:23.552 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-11-30 04:06:23.553 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:23.577 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (23ms).
2023-11-30 04:06:23.578 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 04:06:23.578 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-11-30 04:06:23.578 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Get (WebApi) in 89.8429ms
2023-11-30 04:06:23.579 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:06:23.579 +00:00 [INF] HTTP GET /Cart responded 200 in 93.5231 ms
2023-11-30 04:06:23.579 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 04:06:23.580 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:23.581 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 04:06:23.603 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Cart?UserId.Value=3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 99.9451ms
2023-11-30 04:06:37.795 +00:00 [INF] Request starting HTTP/2 DELETE https://localhost:62498/Cart - multipart/form-data; boundary=----WebKitFormBoundaryT1fBQ3BkHAmgk8eg 317
2023-11-30 04:06:37.817 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-11-30 04:06:37.817 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.DeleteById (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-11-30 04:06:37.818 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.DeleteById (WebApi)'
2023-11-30 04:06:37.818 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 04:06:37.819 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.DeleteById (WebApi)'
2023-11-30 04:06:37.823 +00:00 [INF] Route matched with {action = "DeleteById", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] DeleteById(Application.Carts.Delete.DeleteCartCommand, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-11-30 04:06:37.824 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 04:06:37.824 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 04:06:37.824 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:06:37.825 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 04:06:37.825 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:06:37.825 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:06:37.825 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:06:37.830 +00:00 [DBG] Connection id "0HMVHB672B170", Request id "0HMVHB672B170:00000011": started reading request body.
2023-11-30 04:06:37.830 +00:00 [DBG] Connection id "0HMVHB672B170", Request id "0HMVHB672B170:00000011": done reading request body.
2023-11-30 04:06:37.835 +00:00 [DBG] Attempting to bind parameter 'request' of type 'Application.Carts.Delete.DeleteCartCommand' ...
2023-11-30 04:06:37.836 +00:00 [DBG] Attempting to bind parameter 'request' of type 'Application.Carts.Delete.DeleteCartCommand' using the name '' in request data ...
2023-11-30 04:06:37.836 +00:00 [DBG] Attempting to bind parameter 'UserId' of type 'Domain.Users.UserId' using the name 'UserId' in request data ...
2023-11-30 04:06:37.837 +00:00 [DBG] Attempting to bind parameter 'Value' of type 'System.Guid' using the name 'UserId.Value' in request data ...
2023-11-30 04:06:37.837 +00:00 [DBG] Done attempting to bind parameter 'Value' of type 'System.Guid'.
2023-11-30 04:06:37.838 +00:00 [DBG] Done attempting to bind parameter 'UserId' of type 'Domain.Users.UserId'.
2023-11-30 04:06:37.838 +00:00 [DBG] Attempting to bind parameter 'ProductId' of type 'Domain.Products.ProductId' using the name 'ProductId' in request data ...
2023-11-30 04:06:37.838 +00:00 [DBG] Attempting to bind parameter 'Value' of type 'System.Guid' using the name 'ProductId.Value' in request data ...
2023-11-30 04:06:37.839 +00:00 [DBG] Done attempting to bind parameter 'Value' of type 'System.Guid'.
2023-11-30 04:06:37.839 +00:00 [DBG] Done attempting to bind parameter 'ProductId' of type 'Domain.Products.ProductId'.
2023-11-30 04:06:37.840 +00:00 [DBG] Done attempting to bind parameter 'request' of type 'Application.Carts.Delete.DeleteCartCommand'.
2023-11-30 04:06:37.840 +00:00 [DBG] Done attempting to bind parameter 'request' of type 'Application.Carts.Delete.DeleteCartCommand'.
2023-11-30 04:06:37.841 +00:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Application.Carts.Delete.DeleteCartCommand' ...
2023-11-30 04:06:37.842 +00:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Application.Carts.Delete.DeleteCartCommand'.
2023-11-30 04:06:37.842 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:06:37.842 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:06:37.843 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:06:37.843 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:06:37.846 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 04:06:37.847 +00:00 [DBG] Creating DbConnection.
2023-11-30 04:06:37.847 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 04:06:37.848 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:37.848 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:37.848 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 04:06:37.849 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:06:37.849 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:06:37.849 +00:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Guid), @__p_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__p_0 AND c."ProductId" = @__p_1
LIMIT 2
2023-11-30 04:06:37.852 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Guid), @__p_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__p_0 AND c."ProductId" = @__p_1
LIMIT 2
2023-11-30 04:06:37.876 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 04:06:37.919 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:37.921 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 67ms reading results.
2023-11-30 04:06:37.924 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:37.925 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 04:06:37.927 +00:00 [DBG] An entity of type 'Cart' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 04:06:37.929 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 04:06:37.930 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 04:06:37.931 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-30 04:06:37.931 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 04:06:37.932 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 04:06:37.940 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:37.941 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:37.941 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 04:06:37.942 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:06:37.942 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:06:37.942 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Carts"
WHERE "ProductId" = @p0 AND "UserId" = @p1;
2023-11-30 04:06:37.949 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
DELETE FROM "Carts"
WHERE "ProductId" = @p0 AND "UserId" = @p1;
2023-11-30 04:06:37.950 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:37.950 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 04:06:37.950 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:37.951 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:06:37.955 +00:00 [DBG] An entity of type 'Cart' tracked by 'ApplicationDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 04:06:37.955 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-11-30 04:06:37.956 +00:00 [INF] Setting HTTP status code 204.
2023-11-30 04:06:37.956 +00:00 [INF] Executed action Web.API.Endpoints.CartController.DeleteById (WebApi) in 131.0632ms
2023-11-30 04:06:37.957 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.DeleteById (WebApi)'
2023-11-30 04:06:37.957 +00:00 [INF] HTTP DELETE /Cart responded 204 in 138.1409 ms
2023-11-30 04:06:37.957 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 04:06:37.957 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:37.958 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:06:37.958 +00:00 [INF] Request finished HTTP/2 DELETE https://localhost:62498/Cart - 204 null null 163.124ms
2023-11-30 04:06:41.037 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Cart?UserId.Value=3fa85f64-5717-4562-b3fc-2c963f66afa6 - null null
2023-11-30 04:06:41.037 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-11-30 04:06:41.037 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Get (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-11-30 04:06:41.038 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:06:41.039 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 04:06:41.039 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:06:41.040 +00:00 [INF] Route matched with {action = "Get", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(Application.Carts.List.ListCartQuery, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-11-30 04:06:41.041 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 04:06:41.041 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 04:06:41.041 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:06:41.042 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 04:06:41.042 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 04:06:41.043 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:06:41.043 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-11-30 04:06:41.044 +00:00 [DBG] Attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery' ...
2023-11-30 04:06:41.044 +00:00 [DBG] Attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery' using the name '' in request data ...
2023-11-30 04:06:41.045 +00:00 [DBG] Attempting to bind parameter 'UserId' of type 'Domain.Users.UserId' using the name 'UserId' in request data ...
2023-11-30 04:06:41.045 +00:00 [DBG] Attempting to bind parameter 'Value' of type 'System.Guid' using the name 'UserId.Value' in request data ...
2023-11-30 04:06:41.045 +00:00 [DBG] Done attempting to bind parameter 'Value' of type 'System.Guid'.
2023-11-30 04:06:41.046 +00:00 [DBG] Done attempting to bind parameter 'UserId' of type 'Domain.Users.UserId'.
2023-11-30 04:06:41.047 +00:00 [DBG] Done attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:06:41.047 +00:00 [DBG] Done attempting to bind parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:06:41.048 +00:00 [DBG] Attempting to validate the bound parameter 'query' of type 'Application.Carts.List.ListCartQuery' ...
2023-11-30 04:06:41.048 +00:00 [DBG] Done attempting to validate the bound parameter 'query' of type 'Application.Carts.List.ListCartQuery'.
2023-11-30 04:06:41.049 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:06:41.049 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:06:41.049 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 04:06:41.050 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 04:06:41.050 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 04:06:41.051 +00:00 [DBG] Creating DbConnection.
2023-11-30 04:06:41.051 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 04:06:41.052 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:41.052 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:41.052 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 04:06:41.053 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:06:41.053 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 04:06:41.054 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__request_UserId_0
2023-11-30 04:06:41.079 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__request_UserId_0
2023-11-30 04:06:41.080 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:41.084 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-11-30 04:06:41.085 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:41.085 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:06:41.085 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 04:06:41.086 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-11-30 04:06:41.086 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Get (WebApi) in 43.6759ms
2023-11-30 04:06:41.087 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-11-30 04:06:41.087 +00:00 [INF] HTTP GET /Cart responded 200 in 47.5685 ms
2023-11-30 04:06:41.087 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 04:06:41.088 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 04:06:41.089 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 04:06:41.091 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Cart?UserId.Value=3fa85f64-5717-4562-b3fc-2c963f66afa6 - 200 null application/json; charset=utf-8 54.349ms
2023-11-30 10:10:13.199 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 10:10:13.710 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-11-30 10:10:13.712 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-11-30 10:10:13.799 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:10:13.799 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:10:13.800 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:10:13.923 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:10:13.934 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:10:13.970 +00:00 [DBG] Created DbConnection. (34ms).
2023-11-30 10:10:13.976 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.304 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.306 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.314 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-30 10:10:14.321 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:10:14.327 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-11-30 10:10:14.329 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2023-11-30 10:10:14.329 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.421 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.427 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:10:14.479 +00:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:10:14.480 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.482 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 10:10:14.490 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.491 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.491 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:10:14.491 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:10:14.492 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:10:14.493 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:10:14.507 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:10:14.513 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.514 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 10:10:14.514 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.515 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:10:14.517 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.517 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.581 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.581 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.582 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:10:14.582 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:10:14.583 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:10:14.583 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:10:14.584 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.585 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.585 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:10:14.587 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:10:14.588 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.588 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:10:14.589 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.652 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.653 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.653 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:10:14.654 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:10:14.655 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:10:14.656 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-11-30 10:10:14.656 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.657 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.657 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:10:14.659 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:10:14.659 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.660 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:10:14.661 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.661 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.662 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:10:14.662 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:10:14.662 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:10:14.663 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:10:14.664 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:10:14.664 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.665 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 10:10:14.666 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.666 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:10:14.675 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 10:10:14.677 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:10:14.678 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:10:14.679 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:10:14.722 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 10:10:14.775 +00:00 [DBG] Hosting starting
2023-11-30 10:10:14.799 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-11-30 10:10:14.799 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-11-30 10:10:14.808 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-11-30 10:10:14.809 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-11-30 10:10:14.812 +00:00 [INF] Creating key {e50128c8-7413-4378-9366-27eddef41b9f} with creation date 2023-11-30 10:10:14Z, activation date 2023-11-30 10:10:14Z, and expiration date 2024-02-28 10:10:14Z.
2023-11-30 10:10:14.821 +00:00 [DBG] Descriptor deserializer type for key {e50128c8-7413-4378-9366-27eddef41b9f} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-11-30 10:10:14.826 +00:00 [DBG] No key escrow sink found. Not writing key {e50128c8-7413-4378-9366-27eddef41b9f} to escrow.
2023-11-30 10:10:14.826 +00:00 [WRN] No XML encryptor configured. Key {e50128c8-7413-4378-9366-27eddef41b9f} may be persisted to storage in unencrypted form.
2023-11-30 10:10:14.827 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-11-30 10:10:14.829 +00:00 [DBG] Found key {e50128c8-7413-4378-9366-27eddef41b9f}.
2023-11-30 10:10:14.838 +00:00 [DBG] Considering key {e50128c8-7413-4378-9366-27eddef41b9f} with expiration date 2024-02-28 10:10:14Z as default key.
2023-11-30 10:10:14.842 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-30 10:10:14.844 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-11-30 10:10:14.844 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-11-30 10:10:14.848 +00:00 [DBG] Using key {e50128c8-7413-4378-9366-27eddef41b9f} as the default key.
2023-11-30 10:10:14.849 +00:00 [DBG] Key ring with default key {e50128c8-7413-4378-9366-27eddef41b9f} was loaded during application startup.
2023-11-30 10:10:14.974 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 10:10:15.119 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 10:10:15.119 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 10:10:15.120 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 10:10:15.120 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 10:10:15.121 +00:00 [INF] Hosting environment: Development
2023-11-30 10:10:15.121 +00:00 [INF] Content root path: /app
2023-11-30 10:10:15.122 +00:00 [DBG] Hosting started
2023-11-30 10:10:15.282 +00:00 [DBG] Connection id "0HMVHHI632RC6" accepted.
2023-11-30 10:10:15.283 +00:00 [DBG] Connection id "0HMVHHI632RC6" started.
2023-11-30 10:10:15.285 +00:00 [DBG] Connection id "0HMVHHI632RC7" accepted.
2023-11-30 10:10:15.286 +00:00 [DBG] Connection id "0HMVHHI632RC7" started.
2023-11-30 10:10:15.319 +00:00 [DBG] Connection id "0HMVHHI632RC6" received FIN.
2023-11-30 10:10:15.333 +00:00 [DBG] Connection 0HMVHHI632RC7 established using the following protocol: "Tls13"
2023-11-30 10:10:15.333 +00:00 [DBG] Connection 0HMVHHI632RC6 established using the following protocol: "Tls13"
2023-11-30 10:10:15.350 +00:00 [DBG] Connection id "0HMVHHI632RC6" is closed. The last processed stream ID was 0.
2023-11-30 10:10:15.351 +00:00 [DBG] Connection id "0HMVHHI632RC6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-11-30 10:10:15.354 +00:00 [DBG] The connection queue processing loop for 0HMVHHI632RC6 completed.
2023-11-30 10:10:15.362 +00:00 [DBG] Connection id "0HMVHHI632RC6" stopped.
2023-11-30 10:10:15.411 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger - null null
2023-11-30 10:10:15.413 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 10:10:15.434 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-11-30 10:10:15.435 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:10:15.456 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger - 301 0 null 46.8036ms
2023-11-30 10:10:15.513 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 10:10:15.515 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 10:10:15.515 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:10:15.579 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 66.0993ms
2023-11-30 10:10:15.604 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/swagger-ui.css - null null
2023-11-30 10:10:15.606 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-11-30 10:10:15.608 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/swagger-ui-bundle.js - null null
2023-11-30 10:10:15.608 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/swagger-ui-standalone-preset.js - null null
2023-11-30 10:10:15.629 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:10:15.650 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-11-30 10:10:15.651 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-11-30 10:10:15.652 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:10:15.652 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:10:15.716 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-11-30 10:10:15.717 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/swagger-ui.css - 200 144929 text/css 113.6739ms
2023-11-30 10:10:15.767 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-11-30 10:10:15.768 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 159.3915ms
2023-11-30 10:10:15.830 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-11-30 10:10:15.831 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 222.9141ms
2023-11-30 10:10:16.070 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 10:10:16.071 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 10:10:16.072 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:10:16.107 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/favicon-32x32.png - null null
2023-11-30 10:10:16.129 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-11-30 10:10:16.129 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:10:16.130 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-11-30 10:10:16.131 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/favicon-32x32.png - 200 628 image/png 23.4875ms
2023-11-30 10:10:16.204 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 133.6135ms
2023-11-30 10:10:39.166 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62498/api/Auth/register - application/json 83
2023-11-30 10:10:39.192 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2023-11-30 10:10:39.193 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Register (WebApi)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2023-11-30 10:10:39.205 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:10:39.206 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 10:10:53.563 +00:00 [ERR] HTTP POST /api/Auth/register responded 500 in 14353.8101 ms
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at Program.<>c__DisplayClass0_0.<<Main>$>b__2(JwtBearerOptions options) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Program.cs:line 71
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-30 10:10:53.580 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 's')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Text.Encoding.GetBytes(String s)
   at Program.<>c__DisplayClass0_0.<<Main>$>b__2(JwtBearerOptions options) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Program.cs:line 71
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at System.Lazy`1.ViaFactory(LazyThreadSafetyMode mode)
   at System.Lazy`1.ExecutionAndPublication(LazyHelper executionAndPublication, Boolean useDefaultConstructor)
   at System.Lazy`1.CreateValue()
   at Microsoft.Extensions.Options.OptionsCache`1.GetOrAdd[TArg](String name, Func`3 createOptions, TArg factoryArgument)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandler`1.InitializeAsync(AuthenticationScheme scheme, HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationHandlerProvider.GetHandlerAsync(HttpContext context, String authenticationScheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationService.AuthenticateAsync(HttpContext context, String scheme)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-30 10:10:53.587 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62498/api/Auth/register - 500 null text/plain; charset=utf-8 14421.9386ms
2023-11-30 10:10:53.590 +00:00 [DBG] Connection id "0HMVHHI632RC7", Request id "0HMVHHI632RC7:0000000F": started reading request body.
2023-11-30 10:10:53.590 +00:00 [DBG] Connection id "0HMVHHI632RC7", Request id "0HMVHHI632RC7:0000000F": done reading request body.
2023-11-30 10:11:33.878 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 10:11:33.879 +00:00 [DBG] Config reload token fired. Checking for changes...
2023-11-30 10:11:41.796 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 10:11:42.203 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-11-30 10:11:42.204 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-11-30 10:11:42.287 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:11:42.288 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:11:42.288 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:11:42.391 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:11:42.401 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:11:42.432 +00:00 [DBG] Created DbConnection. (29ms).
2023-11-30 10:11:42.436 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.581 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.583 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.590 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-30 10:11:42.597 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:11:42.601 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-30 10:11:42.603 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-11-30 10:11:42.603 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.690 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.696 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:11:42.744 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:11:42.746 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.748 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-30 10:11:42.758 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.758 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.759 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:11:42.759 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:11:42.760 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:11:42.761 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:11:42.766 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:11:42.772 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.773 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 10:11:42.774 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.774 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:11:42.776 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.777 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.840 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.840 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.841 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:11:42.842 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:11:42.842 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:11:42.843 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:11:42.843 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.844 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.845 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:11:42.846 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:11:42.847 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.848 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:11:42.848 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.911 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.911 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.912 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:11:42.913 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:11:42.913 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:11:42.914 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:11:42.915 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.915 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.915 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:11:42.917 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:11:42.918 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.918 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:11:42.919 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.919 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.920 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:11:42.920 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:11:42.921 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:11:42.921 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:11:42.923 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:11:42.924 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.925 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 10:11:42.926 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.926 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:11:42.935 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 10:11:42.937 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:11:42.938 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:11:42.939 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:11:42.975 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 10:11:43.031 +00:00 [DBG] Hosting starting
2023-11-30 10:11:43.048 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-11-30 10:11:43.049 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-11-30 10:11:43.058 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-11-30 10:11:43.059 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-11-30 10:11:43.062 +00:00 [INF] Creating key {22430487-19d7-4047-8ac2-f9b000c2265c} with creation date 2023-11-30 10:11:43Z, activation date 2023-11-30 10:11:43Z, and expiration date 2024-02-28 10:11:43Z.
2023-11-30 10:11:43.067 +00:00 [DBG] Descriptor deserializer type for key {22430487-19d7-4047-8ac2-f9b000c2265c} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-11-30 10:11:43.070 +00:00 [DBG] No key escrow sink found. Not writing key {22430487-19d7-4047-8ac2-f9b000c2265c} to escrow.
2023-11-30 10:11:43.071 +00:00 [WRN] No XML encryptor configured. Key {22430487-19d7-4047-8ac2-f9b000c2265c} may be persisted to storage in unencrypted form.
2023-11-30 10:11:43.072 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-11-30 10:11:43.073 +00:00 [DBG] Found key {22430487-19d7-4047-8ac2-f9b000c2265c}.
2023-11-30 10:11:43.081 +00:00 [DBG] Considering key {22430487-19d7-4047-8ac2-f9b000c2265c} with expiration date 2024-02-28 10:11:43Z as default key.
2023-11-30 10:11:43.086 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-30 10:11:43.088 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-11-30 10:11:43.088 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-11-30 10:11:43.091 +00:00 [DBG] Using key {22430487-19d7-4047-8ac2-f9b000c2265c} as the default key.
2023-11-30 10:11:43.093 +00:00 [DBG] Key ring with default key {22430487-19d7-4047-8ac2-f9b000c2265c} was loaded during application startup.
2023-11-30 10:11:43.205 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 10:11:43.327 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 10:11:43.327 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 10:11:43.328 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 10:11:43.329 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 10:11:43.330 +00:00 [INF] Hosting environment: Development
2023-11-30 10:11:43.330 +00:00 [INF] Content root path: /app
2023-11-30 10:11:43.331 +00:00 [DBG] Hosting started
2023-11-30 10:11:43.492 +00:00 [DBG] Connection id "0HMVHHJ0CAE0L" accepted.
2023-11-30 10:11:43.494 +00:00 [DBG] Connection id "0HMVHHJ0CAE0L" started.
2023-11-30 10:11:43.540 +00:00 [DBG] Connection 0HMVHHJ0CAE0L established using the following protocol: "Tls13"
2023-11-30 10:11:43.588 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 10:11:43.589 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 10:11:43.608 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 10:11:43.609 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:11:43.695 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 107.6627ms
2023-11-30 10:11:44.038 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 10:11:44.040 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 10:11:44.040 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:11:44.131 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.4802ms
2023-11-30 10:12:03.923 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62498/api/Auth/register - application/json 83
2023-11-30 10:12:03.929 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2023-11-30 10:12:03.930 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Register (WebApi)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2023-11-30 10:12:03.947 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:12:03.949 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 10:12:04.067 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-30 10:12:04.069 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:12:04.086 +00:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Register(Application.Authentication.Register.RegisterCommand) on controller WebApi.Controllers.AuthController (WebApi).
2023-11-30 10:12:04.088 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 10:12:04.089 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 10:12:04.090 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:12:04.091 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 10:12:04.091 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:12:04.093 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-11-30 10:12:04.097 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Register (WebApi) in 3.5088ms
2023-11-30 10:12:04.098 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:12:04.100 +00:00 [ERR] HTTP POST /api/Auth/register responded 500 in 148.2849 ms
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UserManager`1[Microsoft.AspNetCore.Identity.IdentityUser]' while attempting to activate 'WebApi.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-30 10:12:04.112 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UserManager`1[Microsoft.AspNetCore.Identity.IdentityUser]' while attempting to activate 'WebApi.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-30 10:12:04.118 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62498/api/Auth/register - 500 null text/plain; charset=utf-8 194.7076ms
2023-11-30 10:12:04.119 +00:00 [DBG] Connection id "0HMVHHJ0CAE0L", Request id "0HMVHHJ0CAE0L:00000005": started reading request body.
2023-11-30 10:12:04.120 +00:00 [DBG] Connection id "0HMVHHJ0CAE0L", Request id "0HMVHHJ0CAE0L:00000005": done reading request body.
2023-11-30 10:14:31.942 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 10:14:32.365 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-11-30 10:14:32.366 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-11-30 10:14:32.453 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:14:32.454 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:14:32.454 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:14:32.558 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:14:32.566 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:14:32.598 +00:00 [DBG] Created DbConnection. (30ms).
2023-11-30 10:14:32.604 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.749 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.750 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.758 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-30 10:14:32.764 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:14:32.769 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-30 10:14:32.771 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-30 10:14:32.771 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.863 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.869 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:14:32.914 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:14:32.916 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.918 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-30 10:14:32.926 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.926 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.927 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:14:32.927 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:14:32.928 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:14:32.929 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:14:32.933 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:14:32.939 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.941 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 10:14:32.941 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.941 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:14:32.943 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.944 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.993 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.993 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.994 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:14:32.995 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:14:32.995 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:14:32.995 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:14:32.996 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.996 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.997 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:14:32.998 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:14:32.999 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:32.999 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:14:33.000 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:33.059 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:33.059 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:33.060 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:14:33.060 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:14:33.061 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:14:33.061 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:14:33.062 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:33.062 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:33.063 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:14:33.064 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:14:33.064 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:33.064 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:14:33.065 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:33.066 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:33.066 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:14:33.066 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:14:33.066 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:14:33.067 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:14:33.068 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:14:33.069 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:33.069 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 10:14:33.070 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:33.070 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:14:33.078 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 10:14:33.080 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:14:33.082 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:14:33.083 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 10:14:33.117 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 10:14:33.164 +00:00 [DBG] Hosting starting
2023-11-30 10:14:33.179 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-11-30 10:14:33.179 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-11-30 10:14:33.186 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-11-30 10:14:33.187 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-11-30 10:14:33.189 +00:00 [INF] Creating key {84e9f2e7-f434-4be5-a202-35d974195a54} with creation date 2023-11-30 10:14:33Z, activation date 2023-11-30 10:14:33Z, and expiration date 2024-02-28 10:14:33Z.
2023-11-30 10:14:33.195 +00:00 [DBG] Descriptor deserializer type for key {84e9f2e7-f434-4be5-a202-35d974195a54} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-11-30 10:14:33.198 +00:00 [DBG] No key escrow sink found. Not writing key {84e9f2e7-f434-4be5-a202-35d974195a54} to escrow.
2023-11-30 10:14:33.198 +00:00 [WRN] No XML encryptor configured. Key {84e9f2e7-f434-4be5-a202-35d974195a54} may be persisted to storage in unencrypted form.
2023-11-30 10:14:33.200 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-11-30 10:14:33.201 +00:00 [DBG] Found key {84e9f2e7-f434-4be5-a202-35d974195a54}.
2023-11-30 10:14:33.208 +00:00 [DBG] Considering key {84e9f2e7-f434-4be5-a202-35d974195a54} with expiration date 2024-02-28 10:14:33Z as default key.
2023-11-30 10:14:33.212 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-30 10:14:33.213 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-11-30 10:14:33.214 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-11-30 10:14:33.216 +00:00 [DBG] Using key {84e9f2e7-f434-4be5-a202-35d974195a54} as the default key.
2023-11-30 10:14:33.217 +00:00 [DBG] Key ring with default key {84e9f2e7-f434-4be5-a202-35d974195a54} was loaded during application startup.
2023-11-30 10:14:33.323 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 10:14:33.432 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 10:14:33.432 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 10:14:33.433 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 10:14:33.433 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 10:14:33.434 +00:00 [INF] Hosting environment: Development
2023-11-30 10:14:33.434 +00:00 [INF] Content root path: /app
2023-11-30 10:14:33.435 +00:00 [DBG] Hosting started
2023-11-30 10:14:33.585 +00:00 [DBG] Connection id "0HMVHHKJ2EGL1" accepted.
2023-11-30 10:14:33.586 +00:00 [DBG] Connection id "0HMVHHKJ2EGL1" started.
2023-11-30 10:14:33.615 +00:00 [DBG] Connection 0HMVHHKJ2EGL1 established using the following protocol: "Tls13"
2023-11-30 10:14:33.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 10:14:33.662 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 10:14:33.685 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 10:14:33.686 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:14:33.796 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 135.3363ms
2023-11-30 10:14:34.048 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 10:14:34.049 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 10:14:34.050 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:14:34.136 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.3809ms
2023-11-30 10:14:39.018 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62498/api/Auth/register - application/json 67
2023-11-30 10:14:39.024 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2023-11-30 10:14:39.026 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Register (WebApi)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2023-11-30 10:14:39.039 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:14:39.042 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 10:14:39.111 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-30 10:14:39.113 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:14:39.132 +00:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Register(Application.Authentication.Register.RegisterCommand) on controller WebApi.Controllers.AuthController (WebApi).
2023-11-30 10:14:39.134 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 10:14:39.135 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 10:14:39.136 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:14:39.137 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 10:14:39.137 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:14:39.139 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-11-30 10:14:39.144 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Register (WebApi) in 3.3971ms
2023-11-30 10:14:39.145 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:14:39.147 +00:00 [ERR] HTTP POST /api/Auth/register responded 500 in 101.9827 ms
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UserManager`1[Microsoft.AspNetCore.Identity.IdentityUser]' while attempting to activate 'WebApi.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-11-30 10:14:39.160 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'Microsoft.AspNetCore.Identity.UserManager`1[Microsoft.AspNetCore.Identity.IdentityUser]' while attempting to activate 'WebApi.Controllers.AuthController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-11-30 10:14:39.167 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62498/api/Auth/register - 500 null text/plain; charset=utf-8 148.8007ms
2023-11-30 10:14:39.169 +00:00 [DBG] Connection id "0HMVHHKJ2EGL1", Request id "0HMVHHKJ2EGL1:00000005": started reading request body.
2023-11-30 10:14:39.169 +00:00 [DBG] Connection id "0HMVHHKJ2EGL1", Request id "0HMVHHKJ2EGL1:00000005": done reading request body.
2023-11-30 10:17:34.062 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 10:17:34.481 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-11-30 10:17:34.482 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-11-30 10:17:34.557 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:17:34.558 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:17:34.558 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:17:34.657 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:17:34.668 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:17:34.699 +00:00 [DBG] Created DbConnection. (28ms).
2023-11-30 10:17:34.703 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:34.857 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:34.859 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:34.867 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-30 10:17:34.873 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:17:34.878 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-30 10:17:34.880 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-11-30 10:17:34.880 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:34.970 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:34.976 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:17:35.025 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:17:35.027 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.028 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 10:17:35.036 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.037 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.037 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:17:35.037 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:17:35.038 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:17:35.039 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:17:35.044 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:17:35.049 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.051 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 10:17:35.051 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.051 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:17:35.053 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.054 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.115 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.115 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.115 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:17:35.116 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:17:35.116 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:17:35.117 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:17:35.117 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.118 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.118 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:17:35.119 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:17:35.120 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.120 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:17:35.121 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.185 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.185 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.186 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:17:35.186 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:17:35.186 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:17:35.187 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:17:35.187 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.188 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.188 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:17:35.190 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:17:35.190 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.191 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:17:35.192 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.192 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.193 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:17:35.193 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:17:35.193 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:17:35.194 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:17:35.195 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:17:35.195 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.196 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 10:17:35.197 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.197 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:17:35.205 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 10:17:35.208 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:17:35.210 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:35.211 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:17:35.248 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 10:17:35.304 +00:00 [DBG] Hosting starting
2023-11-30 10:17:35.321 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-11-30 10:17:35.321 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-11-30 10:17:35.330 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-11-30 10:17:35.330 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-11-30 10:17:35.333 +00:00 [INF] Creating key {b91effcf-e4c1-40d6-9102-1fe826e039fa} with creation date 2023-11-30 10:17:35Z, activation date 2023-11-30 10:17:35Z, and expiration date 2024-02-28 10:17:35Z.
2023-11-30 10:17:35.339 +00:00 [DBG] Descriptor deserializer type for key {b91effcf-e4c1-40d6-9102-1fe826e039fa} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-11-30 10:17:35.343 +00:00 [DBG] No key escrow sink found. Not writing key {b91effcf-e4c1-40d6-9102-1fe826e039fa} to escrow.
2023-11-30 10:17:35.343 +00:00 [WRN] No XML encryptor configured. Key {b91effcf-e4c1-40d6-9102-1fe826e039fa} may be persisted to storage in unencrypted form.
2023-11-30 10:17:35.344 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-11-30 10:17:35.345 +00:00 [DBG] Found key {b91effcf-e4c1-40d6-9102-1fe826e039fa}.
2023-11-30 10:17:35.351 +00:00 [DBG] Considering key {b91effcf-e4c1-40d6-9102-1fe826e039fa} with expiration date 2024-02-28 10:17:35Z as default key.
2023-11-30 10:17:35.355 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-30 10:17:35.356 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-11-30 10:17:35.357 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-11-30 10:17:35.360 +00:00 [DBG] Using key {b91effcf-e4c1-40d6-9102-1fe826e039fa} as the default key.
2023-11-30 10:17:35.361 +00:00 [DBG] Key ring with default key {b91effcf-e4c1-40d6-9102-1fe826e039fa} was loaded during application startup.
2023-11-30 10:17:35.481 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 10:17:35.600 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 10:17:35.601 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 10:17:35.601 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 10:17:35.602 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 10:17:35.602 +00:00 [INF] Hosting environment: Development
2023-11-30 10:17:35.603 +00:00 [INF] Content root path: /app
2023-11-30 10:17:35.603 +00:00 [DBG] Hosting started
2023-11-30 10:17:35.754 +00:00 [DBG] Connection id "0HMVHHM9BO7NH" accepted.
2023-11-30 10:17:35.755 +00:00 [DBG] Connection id "0HMVHHM9BO7NH" started.
2023-11-30 10:17:35.782 +00:00 [DBG] Connection 0HMVHHM9BO7NH established using the following protocol: "Tls13"
2023-11-30 10:17:35.827 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 10:17:35.830 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 10:17:35.852 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 10:17:35.853 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:17:35.956 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 130.6226ms
2023-11-30 10:17:36.191 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 10:17:36.193 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 10:17:36.194 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:17:36.280 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.4776ms
2023-11-30 10:17:40.658 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62498/api/Auth/register - application/json 67
2023-11-30 10:17:40.664 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2023-11-30 10:17:40.665 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Register (WebApi)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2023-11-30 10:17:40.677 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:17:40.680 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 10:17:40.743 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-30 10:17:40.746 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:17:40.762 +00:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Register(Application.Authentication.Register.RegisterCommand) on controller WebApi.Controllers.AuthController (WebApi).
2023-11-30 10:17:40.764 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 10:17:40.765 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 10:17:40.766 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:17:40.766 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 10:17:40.767 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:17:40.769 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-11-30 10:17:40.774 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-11-30 10:17:40.779 +00:00 [DBG] Attempting to bind parameter 'model' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-11-30 10:17:40.782 +00:00 [DBG] Attempting to bind parameter 'model' of type 'Application.Authentication.Register.RegisterCommand' using the name '' in request data ...
2023-11-30 10:17:40.783 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-11-30 10:17:40.788 +00:00 [DBG] Connection id "0HMVHHM9BO7NH", Request id "0HMVHHM9BO7NH:00000005": started reading request body.
2023-11-30 10:17:40.789 +00:00 [DBG] Connection id "0HMVHHM9BO7NH", Request id "0HMVHHM9BO7NH:00000005": done reading request body.
2023-11-30 10:17:40.794 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Register.RegisterCommand'
2023-11-30 10:17:40.795 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'Application.Authentication.Register.RegisterCommand'.
2023-11-30 10:17:40.795 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'Application.Authentication.Register.RegisterCommand'.
2023-11-30 10:17:40.796 +00:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-11-30 10:17:40.803 +00:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Application.Authentication.Register.RegisterCommand'.
2023-11-30 10:17:40.822 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:17:40.860 +00:00 [DBG] Compiling query expression: 
'DbSet<Authentication>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-11-30 10:17:40.989 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Authentication>(
    asyncEnumerable: new SingleQueryingEnumerable<Authentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Authentication.Id (string) Required PK AfterSave:Throw, 0], [Property: Authentication.AccessFailedCount (int) Required, 1], [Property: Authentication.ConcurrencyStamp (string) Concurrency, 2], [Property: Authentication.Email (string) MaxLength(256), 3], [Property: Authentication.EmailConfirmed (bool) Required, 4], [Property: Authentication.LockoutEnabled (bool) Required, 5], [Property: Authentication.LockoutEnd (DateTimeOffset?), 6], [Property: Authentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: Authentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: Authentication.PasswordHash (string), 9], [Property: Authentication.PhoneNumber (string), 10], [Property: Authentication.PhoneNumberConfirmed (bool) Required, 11], [Property: Authentication.SecurityStamp (string), 12], [Property: Authentication.TwoFactorEnabled (bool) Required, 13], [Property: Authentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Authentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-30 10:17:41.015 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:17:41.015 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 10:17:41.017 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:41.019 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:41.019 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:17:41.020 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:17:41.023 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-11-30 10:17:41.026 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-11-30 10:17:41.048 +00:00 [ERR] Failed executing DbCommand (23ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-11-30 10:17:41.050 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:41.052 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 10:17:41.071 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Persistence.ApplicationDbContext'.
Npgsql.PostgresException (0x80004005): 42P01: relation "AspNetUsers" does not exist

POSITION: 293
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "AspNetUsers" does not exist
    Position: 293
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
Npgsql.PostgresException (0x80004005): 42P01: relation "AspNetUsers" does not exist

POSITION: 293
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "AspNetUsers" does not exist
    Position: 293
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
2023-11-30 10:17:41.110 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Register (WebApi) in 339.6637ms
2023-11-30 10:17:41.111 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:17:41.114 +00:00 [ERR] HTTP POST /api/Auth/register responded 500 in 430.9424 ms
Npgsql.PostgresException (0x80004005): 42P01: relation "AspNetUsers" does not exist

POSITION: 293
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at WebApi.Controllers.AuthController.Register(RegisterCommand model) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Auth.cs:line 75
   at lambda_method30(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "AspNetUsers" does not exist
    Position: 293
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
2023-11-30 10:17:41.125 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42P01: relation "AspNetUsers" does not exist

POSITION: 293
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByNameAsync(String userName)
   at WebApi.Controllers.AuthController.Register(RegisterCommand model) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Auth.cs:line 75
   at lambda_method30(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "AspNetUsers" does not exist
    Position: 293
    File: parse_relation.c
    Line: 1449
    Routine: parserOpenTable
2023-11-30 10:17:41.146 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:17:41.149 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:17:41.150 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 10:17:41.151 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62498/api/Auth/register - 500 null text/plain; charset=utf-8 494.0887ms
2023-11-30 17:18:21.494 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 17:18:21.826 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-11-30 17:18:21.827 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-11-30 17:18:21.891 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 17:18:21.891 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 17:18:21.891 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 17:18:21.978 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 17:18:22.022 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-11-30 17:18:22.022 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-11-30 17:18:22.031 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 17:18:22.031 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 17:18:22.031 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 17:18:22.511 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 17:18:38.925 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 17:18:39.232 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-11-30 17:18:39.233 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-11-30 17:18:39.303 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 17:18:39.303 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 17:18:39.303 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 17:18:39.440 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 17:18:39.462 +07:00 [DBG] Creating DbConnection.
2023-11-30 17:18:39.487 +07:00 [DBG] Created DbConnection. (23ms).
2023-11-30 17:18:39.490 +07:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 17:18:39.534 +07:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 17:18:39.537 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 17:18:39.538 +07:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 17:18:39.540 +07:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:18:50.306 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 10:18:50.714 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-11-30 10:18:50.716 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-11-30 10:18:50.792 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:18:50.793 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:18:50.793 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:18:50.898 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:18:50.906 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:18:50.933 +00:00 [DBG] Created DbConnection. (25ms).
2023-11-30 10:18:50.938 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.074 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.076 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.083 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-11-30 10:18:51.090 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:18:51.095 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-30 10:18:51.096 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-30 10:18:51.096 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.187 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.194 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:18:51.238 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:18:51.240 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.242 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 10:18:51.249 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.250 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.251 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:18:51.251 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:18:51.252 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:18:51.253 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:18:51.257 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:18:51.262 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.264 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 10:18:51.264 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.264 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:18:51.267 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.267 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.331 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.331 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.332 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:18:51.332 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:18:51.333 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:18:51.333 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:18:51.334 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.334 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.334 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:18:51.336 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:18:51.336 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.336 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:18:51.337 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.387 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.388 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.388 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:18:51.389 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:18:51.389 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:18:51.390 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:18:51.390 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.390 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.391 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:18:51.393 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:18:51.393 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.394 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:18:51.394 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.395 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.395 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:18:51.396 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:18:51.396 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:18:51.397 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:18:51.398 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:18:51.399 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.399 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 10:18:51.399 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.400 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:18:51.408 +00:00 [INF] Applying migration '20231130101822_InitAuth'.
2023-11-30 10:18:51.449 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.450 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.452 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-11-30 10:18:51.455 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-11-30 10:18:51.456 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.457 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.457 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-11-30 10:18:51.458 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2023-11-30 10:18:51.615 +00:00 [INF] Executed DbCommand (157ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2023-11-30 10:18:51.615 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.616 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.616 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.617 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" text NOT NULL,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2023-11-30 10:18:51.640 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" text NOT NULL,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2023-11-30 10:18:51.641 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.642 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.642 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-11-30 10:18:51.643 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2023-11-30 10:18:51.710 +00:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2023-11-30 10:18:51.710 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.710 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.711 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.711 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-11-30 10:18:51.735 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-11-30 10:18:51.735 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.736 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.736 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.736 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-11-30 10:18:51.760 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-11-30 10:18:51.761 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.761 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.761 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.771 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-11-30 10:18:51.793 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-11-30 10:18:51.794 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.794 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.795 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.795 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-11-30 10:18:51.816 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-11-30 10:18:51.817 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.817 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.817 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.818 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2023-11-30 10:18:51.829 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2023-11-30 10:18:51.830 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.830 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.830 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.831 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2023-11-30 10:18:51.841 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2023-11-30 10:18:51.841 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.841 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.842 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-11-30 10:18:51.843 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2023-11-30 10:18:51.850 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2023-11-30 10:18:51.851 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.851 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.851 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.852 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2023-11-30 10:18:51.860 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2023-11-30 10:18:51.860 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.861 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.861 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.861 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2023-11-30 10:18:51.869 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2023-11-30 10:18:51.869 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.870 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.870 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.870 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2023-11-30 10:18:51.878 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2023-11-30 10:18:51.878 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.879 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.879 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.879 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2023-11-30 10:18:51.886 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2023-11-30 10:18:51.887 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-11-30 10:18:51.887 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.888 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-11-30 10:18:51.888 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231130101822_InitAuth', '8.0.0');
2023-11-30 10:18:51.891 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231130101822_InitAuth', '8.0.0');
2023-11-30 10:18:51.893 +00:00 [DBG] Committing transaction.
2023-11-30 10:18:51.905 +00:00 [DBG] Committed transaction.
2023-11-30 10:18:51.906 +00:00 [DBG] Disposing transaction.
2023-11-30 10:18:51.907 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.907 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:18:51.911 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:18:51.913 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:51.914 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:18:51.945 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 10:18:51.991 +00:00 [DBG] Hosting starting
2023-11-30 10:18:52.003 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-11-30 10:18:52.003 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-11-30 10:18:52.012 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-11-30 10:18:52.013 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-11-30 10:18:52.016 +00:00 [INF] Creating key {3703c7cb-04b8-4961-b117-af950cf60c6f} with creation date 2023-11-30 10:18:52Z, activation date 2023-11-30 10:18:52Z, and expiration date 2024-02-28 10:18:52Z.
2023-11-30 10:18:52.022 +00:00 [DBG] Descriptor deserializer type for key {3703c7cb-04b8-4961-b117-af950cf60c6f} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-11-30 10:18:52.024 +00:00 [DBG] No key escrow sink found. Not writing key {3703c7cb-04b8-4961-b117-af950cf60c6f} to escrow.
2023-11-30 10:18:52.025 +00:00 [WRN] No XML encryptor configured. Key {3703c7cb-04b8-4961-b117-af950cf60c6f} may be persisted to storage in unencrypted form.
2023-11-30 10:18:52.026 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-11-30 10:18:52.027 +00:00 [DBG] Found key {3703c7cb-04b8-4961-b117-af950cf60c6f}.
2023-11-30 10:18:52.032 +00:00 [DBG] Considering key {3703c7cb-04b8-4961-b117-af950cf60c6f} with expiration date 2024-02-28 10:18:52Z as default key.
2023-11-30 10:18:52.036 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-30 10:18:52.037 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-11-30 10:18:52.038 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-11-30 10:18:52.040 +00:00 [DBG] Using key {3703c7cb-04b8-4961-b117-af950cf60c6f} as the default key.
2023-11-30 10:18:52.041 +00:00 [DBG] Key ring with default key {3703c7cb-04b8-4961-b117-af950cf60c6f} was loaded during application startup.
2023-11-30 10:18:52.146 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 10:18:52.266 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 10:18:52.266 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 10:18:52.267 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 10:18:52.267 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 10:18:52.268 +00:00 [INF] Hosting environment: Development
2023-11-30 10:18:52.268 +00:00 [INF] Content root path: /app
2023-11-30 10:18:52.269 +00:00 [DBG] Hosting started
2023-11-30 10:18:52.426 +00:00 [DBG] Connection id "0HMVHHN06UFT4" accepted.
2023-11-30 10:18:52.428 +00:00 [DBG] Connection id "0HMVHHN06UFT4" started.
2023-11-30 10:18:52.456 +00:00 [DBG] Connection 0HMVHHN06UFT4 established using the following protocol: "Tls13"
2023-11-30 10:18:52.495 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 10:18:52.497 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 10:18:52.516 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 10:18:52.517 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:18:52.603 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 109.283ms
2023-11-30 10:18:52.820 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 10:18:52.821 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 10:18:52.822 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:18:52.919 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 99.1405ms
2023-11-30 10:18:56.698 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62498/api/Auth/register - application/json 67
2023-11-30 10:18:56.703 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2023-11-30 10:18:56.705 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Register (WebApi)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2023-11-30 10:18:56.716 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:18:56.718 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 10:18:56.775 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-30 10:18:56.780 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:18:56.797 +00:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Register(Application.Authentication.Register.RegisterCommand) on controller WebApi.Controllers.AuthController (WebApi).
2023-11-30 10:18:56.799 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 10:18:56.799 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 10:18:56.800 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:18:56.800 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 10:18:56.801 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:18:56.803 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-11-30 10:18:56.808 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-11-30 10:18:56.812 +00:00 [DBG] Attempting to bind parameter 'model' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-11-30 10:18:56.815 +00:00 [DBG] Attempting to bind parameter 'model' of type 'Application.Authentication.Register.RegisterCommand' using the name '' in request data ...
2023-11-30 10:18:56.816 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-11-30 10:18:56.821 +00:00 [DBG] Connection id "0HMVHHN06UFT4", Request id "0HMVHHN06UFT4:00000005": started reading request body.
2023-11-30 10:18:56.822 +00:00 [DBG] Connection id "0HMVHHN06UFT4", Request id "0HMVHHN06UFT4:00000005": done reading request body.
2023-11-30 10:18:56.825 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Register.RegisterCommand'
2023-11-30 10:18:56.826 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'Application.Authentication.Register.RegisterCommand'.
2023-11-30 10:18:56.827 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'Application.Authentication.Register.RegisterCommand'.
2023-11-30 10:18:56.827 +00:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-11-30 10:18:56.836 +00:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Application.Authentication.Register.RegisterCommand'.
2023-11-30 10:18:56.854 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:18:56.891 +00:00 [DBG] Compiling query expression: 
'DbSet<Authentication>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-11-30 10:18:57.036 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Authentication>(
    asyncEnumerable: new SingleQueryingEnumerable<Authentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Authentication.Id (string) Required PK AfterSave:Throw, 0], [Property: Authentication.AccessFailedCount (int) Required, 1], [Property: Authentication.ConcurrencyStamp (string) Concurrency, 2], [Property: Authentication.Email (string) MaxLength(256), 3], [Property: Authentication.EmailConfirmed (bool) Required, 4], [Property: Authentication.LockoutEnabled (bool) Required, 5], [Property: Authentication.LockoutEnd (DateTimeOffset?), 6], [Property: Authentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: Authentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: Authentication.PasswordHash (string), 9], [Property: Authentication.PhoneNumber (string), 10], [Property: Authentication.PhoneNumberConfirmed (bool) Required, 11], [Property: Authentication.SecurityStamp (string), 12], [Property: Authentication.TwoFactorEnabled (bool) Required, 13], [Property: Authentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Authentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-30 10:18:57.061 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:18:57.062 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 10:18:57.065 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:57.067 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:57.067 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:18:57.067 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:18:57.071 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-11-30 10:18:57.073 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-11-30 10:18:57.093 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-11-30 10:18:57.102 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:57.103 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 8ms reading results.
2023-11-30 10:18:57.105 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:57.128 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (22ms).
2023-11-30 10:18:57.136 +00:00 [DBG] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresDigit;PasswordRequiresUpper.
2023-11-30 10:18:57.141 +00:00 [INF] Setting HTTP status code 500.
2023-11-30 10:18:57.147 +00:00 [INF] Writing value of type 'ProblemDetails' as Json.
2023-11-30 10:18:57.155 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Register (WebApi) in 351.7016ms
2023-11-30 10:18:57.156 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:18:57.158 +00:00 [ERR] HTTP POST /api/Auth/register responded 500 in 438.4147 ms
2023-11-30 10:18:57.160 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:18:57.165 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:18:57.166 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 10:18:57.167 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62498/api/Auth/register - 500 null application/problem+json 469.3834ms
2023-11-30 10:19:16.455 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62498/api/Auth/register - application/json 83
2023-11-30 10:19:16.458 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2023-11-30 10:19:16.458 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Register (WebApi)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2023-11-30 10:19:16.460 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:19:16.460 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 10:19:16.462 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-30 10:19:16.463 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:19:16.464 +00:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Register(Application.Authentication.Register.RegisterCommand) on controller WebApi.Controllers.AuthController (WebApi).
2023-11-30 10:19:16.465 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 10:19:16.465 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 10:19:16.466 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:19:16.467 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 10:19:16.467 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:19:16.468 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-11-30 10:19:16.474 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-11-30 10:19:16.475 +00:00 [DBG] Attempting to bind parameter 'model' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-11-30 10:19:16.475 +00:00 [DBG] Attempting to bind parameter 'model' of type 'Application.Authentication.Register.RegisterCommand' using the name '' in request data ...
2023-11-30 10:19:16.476 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-11-30 10:19:16.477 +00:00 [DBG] Connection id "0HMVHHN06UFT4", Request id "0HMVHHN06UFT4:00000007": started reading request body.
2023-11-30 10:19:16.477 +00:00 [DBG] Connection id "0HMVHHN06UFT4", Request id "0HMVHHN06UFT4:00000007": done reading request body.
2023-11-30 10:19:16.478 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Register.RegisterCommand'
2023-11-30 10:19:16.478 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'Application.Authentication.Register.RegisterCommand'.
2023-11-30 10:19:16.479 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'Application.Authentication.Register.RegisterCommand'.
2023-11-30 10:19:16.479 +00:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-11-30 10:19:16.480 +00:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Application.Authentication.Register.RegisterCommand'.
2023-11-30 10:19:16.515 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:19:16.519 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:19:16.520 +00:00 [DBG] Created DbConnection. (1ms).
2023-11-30 10:19:16.521 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:16.522 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:16.522 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:19:16.523 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:19:16.523 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 10:19:16.524 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-11-30 10:19:16.572 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-11-30 10:19:16.680 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:16.682 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 87ms reading results.
2023-11-30 10:19:16.682 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:16.682 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:19:16.757 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:16.758 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:16.759 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:19:16.759 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:19:16.759 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:19:16.760 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-11-30 10:19:16.804 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-11-30 10:19:16.827 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:16.827 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 10:19:16.828 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:16.828 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:19:16.889 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Authentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 10:19:16.893 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 10:19:16.906 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 10:19:16.910 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-11-30 10:19:16.911 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-11-30 10:19:16.912 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-11-30 10:19:16.952 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:16.953 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:16.956 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:19:16.956 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:19:16.957 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 10:19:16.957 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-11-30 10:19:16.969 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-11-30 10:19:16.974 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:16.975 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-11-30 10:19:16.976 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:16.976 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:19:16.982 +00:00 [DBG] An entity of type 'Authentication' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 10:19:16.984 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-11-30 10:19:16.986 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 10:19:16.987 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Register (WebApi) in 519.444ms
2023-11-30 10:19:16.988 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-11-30 10:19:16.988 +00:00 [INF] HTTP POST /api/Auth/register responded 200 in 527.3079 ms
2023-11-30 10:19:16.989 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:19:16.990 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:16.990 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:19:16.991 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62498/api/Auth/register - 200 0 null 535.2505ms
2023-11-30 10:19:38.177 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62498/api/Auth/login - application/json 64
2023-11-30 10:19:38.178 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-11-30 10:19:38.179 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-11-30 10:19:38.181 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-11-30 10:19:38.182 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 10:19:38.185 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-30 10:19:38.185 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-11-30 10:19:38.191 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Authentication.Login.LoginCommand) on controller WebApi.Controllers.AuthController (WebApi).
2023-11-30 10:19:38.192 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 10:19:38.192 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 10:19:38.193 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:19:38.193 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 10:19:38.194 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:19:38.194 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-11-30 10:19:38.206 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-11-30 10:19:38.207 +00:00 [DBG] Attempting to bind parameter 'model' of type 'Application.Authentication.Login.LoginCommand' ...
2023-11-30 10:19:38.207 +00:00 [DBG] Attempting to bind parameter 'model' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-11-30 10:19:38.208 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-11-30 10:19:38.209 +00:00 [DBG] Connection id "0HMVHHN06UFT4", Request id "0HMVHHN06UFT4:00000009": started reading request body.
2023-11-30 10:19:38.231 +00:00 [DBG] Connection id "0HMVHHN06UFT4", Request id "0HMVHHN06UFT4:00000009": done reading request body.
2023-11-30 10:19:38.234 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-11-30 10:19:38.235 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'Application.Authentication.Login.LoginCommand'.
2023-11-30 10:19:38.236 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'Application.Authentication.Login.LoginCommand'.
2023-11-30 10:19:38.236 +00:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Application.Authentication.Login.LoginCommand' ...
2023-11-30 10:19:38.238 +00:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Application.Authentication.Login.LoginCommand'.
2023-11-30 10:19:38.242 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:19:38.243 +00:00 [DBG] Compiling query expression: 
'DbSet<Authentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-11-30 10:19:38.251 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Authentication>(
    asyncEnumerable: new SingleQueryingEnumerable<Authentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Authentication.Id (string) Required PK AfterSave:Throw, 0], [Property: Authentication.AccessFailedCount (int) Required, 1], [Property: Authentication.ConcurrencyStamp (string) Concurrency, 2], [Property: Authentication.Email (string) MaxLength(256), 3], [Property: Authentication.EmailConfirmed (bool) Required, 4], [Property: Authentication.LockoutEnabled (bool) Required, 5], [Property: Authentication.LockoutEnd (DateTimeOffset?), 6], [Property: Authentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: Authentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: Authentication.PasswordHash (string), 9], [Property: Authentication.PhoneNumber (string), 10], [Property: Authentication.PhoneNumberConfirmed (bool) Required, 11], [Property: Authentication.SecurityStamp (string), 12], [Property: Authentication.TwoFactorEnabled (bool) Required, 13], [Property: Authentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Authentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-30 10:19:38.252 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:19:38.252 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 10:19:38.253 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:38.253 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:38.254 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:19:38.254 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:19:38.254 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:19:38.255 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-11-30 10:19:38.278 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-11-30 10:19:38.285 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Authentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 10:19:38.286 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:38.286 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 7ms reading results.
2023-11-30 10:19:38.286 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:38.287 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:19:38.375 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-11-30 10:19:38.411 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-30 10:19:38.413 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:38.414 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:38.415 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:19:38.416 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:19:38.416 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 10:19:38.417 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-11-30 10:19:38.424 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-11-30 10:19:38.426 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:38.427 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-11-30 10:19:38.427 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:38.428 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:19:38.475 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-30 10:19:38.477 +00:00 [DBG] No information found on request to perform content negotiation.
2023-11-30 10:19:38.477 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-30 10:19:38.478 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-30 10:19:38.479 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-30 10:19:38.481 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-11-30 10:19:38.488 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 293.4686ms
2023-11-30 10:19:38.488 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-11-30 10:19:38.489 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 305.9088 ms
2023-11-30 10:19:38.489 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:19:38.490 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:38.491 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:19:38.492 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62498/api/Auth/login - 200 null application/json; charset=utf-8 314.969ms
2023-11-30 10:19:50.460 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Product - null null
2023-11-30 10:19:50.461 +00:00 [DBG] 1 candidate(s) found for the request path '/Product'
2023-11-30 10:19:50.462 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)' with route pattern 'Product' is valid for the request path '/Product'
2023-11-30 10:19:50.463 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-11-30 10:19:50.463 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 10:19:50.464 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-30 10:19:50.465 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-11-30 10:19:50.469 +00:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(MediatR.ISender) on controller Web.API.Endpoints.ProductController (WebApi).
2023-11-30 10:19:50.470 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 10:19:50.471 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 10:19:50.472 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:19:50.472 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 10:19:50.473 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:19:50.473 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 10:19:50.474 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 10:19:50.474 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 10:19:50.475 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 10:19:50.475 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 10:19:50.476 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 10:19:50.482 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:19:50.483 +00:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Select(p => new ProductResponse(
        p.Id.Value, 
        p.Name, 
        p.Sku.Value, 
        p.Price.Currency, 
        p.Price.Amount
    ))'
2023-11-30 10:19:50.504 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
        SELECT p.Id, p.Name, p.Sku, p.Price_Currency, p.Price_Amount
        FROM Products AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-30 10:19:50.505 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:19:50.505 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 10:19:50.506 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:50.506 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:50.507 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:19:50.507 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:19:50.507 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:19:50.508 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-11-30 10:19:50.523 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-11-30 10:19:50.530 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:50.530 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-11-30 10:19:50.530 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:50.531 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:19:50.532 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 10:19:50.538 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-11-30 10:19:50.542 +00:00 [INF] Executed action Web.API.Endpoints.ProductController.Get (WebApi) in 68.8361ms
2023-11-30 10:19:50.542 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-11-30 10:19:50.543 +00:00 [INF] HTTP GET /Product responded 200 in 78.7246 ms
2023-11-30 10:19:50.543 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:19:50.544 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:19:50.544 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:19:50.545 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Product - 200 null application/json; charset=utf-8 85.5726ms
2023-11-30 10:33:55.768 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 10:33:56.193 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-11-30 10:33:56.194 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-11-30 10:33:56.271 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:33:56.271 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:33:56.272 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:33:56.376 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:33:56.385 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:33:56.415 +00:00 [DBG] Created DbConnection. (28ms).
2023-11-30 10:33:56.420 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.575 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.577 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.584 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-30 10:33:56.590 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:33:56.594 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-30 10:33:56.596 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-30 10:33:56.596 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.696 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.702 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:33:56.757 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:33:56.758 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.760 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 10:33:56.767 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.768 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.769 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:33:56.769 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:33:56.769 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:33:56.770 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:33:56.775 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:33:56.780 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.782 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 10:33:56.782 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.782 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:33:56.784 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.785 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.846 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.846 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.847 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:33:56.848 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:33:56.848 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:33:56.848 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:33:56.849 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.849 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.850 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:33:56.851 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:33:56.852 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.853 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:33:56.854 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.920 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.921 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.921 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:33:56.922 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:33:56.922 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:33:56.923 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:33:56.923 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.924 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.924 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:33:56.926 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:33:56.926 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.926 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:33:56.927 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.927 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.928 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:33:56.928 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:33:56.929 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:33:56.929 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:33:56.930 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:33:56.931 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.931 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 10:33:56.931 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.932 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:33:56.941 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 10:33:56.943 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:33:56.945 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:33:56.945 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:33:56.988 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 10:33:57.044 +00:00 [DBG] Hosting starting
2023-11-30 10:33:57.060 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-11-30 10:33:57.061 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-11-30 10:33:57.068 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-11-30 10:33:57.069 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-11-30 10:33:57.072 +00:00 [INF] Creating key {1bb61288-0ae5-4aa5-ba06-ce826f06aeee} with creation date 2023-11-30 10:33:57Z, activation date 2023-11-30 10:33:57Z, and expiration date 2024-02-28 10:33:57Z.
2023-11-30 10:33:57.078 +00:00 [DBG] Descriptor deserializer type for key {1bb61288-0ae5-4aa5-ba06-ce826f06aeee} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-11-30 10:33:57.081 +00:00 [DBG] No key escrow sink found. Not writing key {1bb61288-0ae5-4aa5-ba06-ce826f06aeee} to escrow.
2023-11-30 10:33:57.082 +00:00 [WRN] No XML encryptor configured. Key {1bb61288-0ae5-4aa5-ba06-ce826f06aeee} may be persisted to storage in unencrypted form.
2023-11-30 10:33:57.082 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-11-30 10:33:57.083 +00:00 [DBG] Found key {1bb61288-0ae5-4aa5-ba06-ce826f06aeee}.
2023-11-30 10:33:57.089 +00:00 [DBG] Considering key {1bb61288-0ae5-4aa5-ba06-ce826f06aeee} with expiration date 2024-02-28 10:33:57Z as default key.
2023-11-30 10:33:57.092 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-30 10:33:57.093 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-11-30 10:33:57.094 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-11-30 10:33:57.097 +00:00 [DBG] Using key {1bb61288-0ae5-4aa5-ba06-ce826f06aeee} as the default key.
2023-11-30 10:33:57.098 +00:00 [DBG] Key ring with default key {1bb61288-0ae5-4aa5-ba06-ce826f06aeee} was loaded during application startup.
2023-11-30 10:33:57.206 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 10:33:57.321 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 10:33:57.321 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 10:33:57.322 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 10:33:57.323 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 10:33:57.323 +00:00 [INF] Hosting environment: Development
2023-11-30 10:33:57.324 +00:00 [INF] Content root path: /app
2023-11-30 10:33:57.325 +00:00 [DBG] Hosting started
2023-11-30 10:33:57.484 +00:00 [DBG] Connection id "0HMVHHVDU8H2B" accepted.
2023-11-30 10:33:57.486 +00:00 [DBG] Connection id "0HMVHHVDU8H2B" started.
2023-11-30 10:33:57.513 +00:00 [DBG] Connection 0HMVHHVDU8H2B established using the following protocol: "Tls13"
2023-11-30 10:33:57.560 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 10:33:57.564 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 10:33:57.588 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 10:33:57.590 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:33:57.672 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 113.3838ms
2023-11-30 10:33:57.966 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 10:33:57.968 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 10:33:57.968 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:33:58.063 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 97.2264ms
2023-11-30 10:34:03.901 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Product - null null
2023-11-30 10:34:03.905 +00:00 [DBG] 1 candidate(s) found for the request path '/Product'
2023-11-30 10:34:03.907 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)' with route pattern 'Product' is valid for the request path '/Product'
2023-11-30 10:34:03.919 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-11-30 10:34:03.922 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 10:34:03.991 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-30 10:34:03.997 +00:00 [DBG] Policy authentication schemes  did not succeed
2023-11-30 10:34:04.000 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (0)
2023-11-30 10:34:04.003 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-11-30 10:34:04.005 +00:00 [INF] HTTP GET /Product responded 401 in 80.2809 ms
2023-11-30 10:34:04.006 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Product - 401 0 null 105.1101ms
2023-11-30 10:34:19.630 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62498/api/Auth/login - application/json 64
2023-11-30 10:34:19.654 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-11-30 10:34:19.655 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-11-30 10:34:19.656 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-11-30 10:34:19.656 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 10:34:19.659 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-30 10:34:19.660 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-11-30 10:34:19.679 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Authentication.Login.LoginCommand) on controller WebApi.Controllers.AuthController (WebApi).
2023-11-30 10:34:19.680 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 10:34:19.681 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 10:34:19.682 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:34:19.683 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 10:34:19.683 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:34:19.686 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-11-30 10:34:19.691 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-11-30 10:34:19.694 +00:00 [DBG] Attempting to bind parameter 'model' of type 'Application.Authentication.Login.LoginCommand' ...
2023-11-30 10:34:19.697 +00:00 [DBG] Attempting to bind parameter 'model' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-11-30 10:34:19.698 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-11-30 10:34:19.704 +00:00 [DBG] Connection id "0HMVHHVDU8H2B", Request id "0HMVHHVDU8H2B:00000007": started reading request body.
2023-11-30 10:34:19.705 +00:00 [DBG] Connection id "0HMVHHVDU8H2B", Request id "0HMVHHVDU8H2B:00000007": done reading request body.
2023-11-30 10:34:19.708 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-11-30 10:34:19.709 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'Application.Authentication.Login.LoginCommand'.
2023-11-30 10:34:19.710 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'Application.Authentication.Login.LoginCommand'.
2023-11-30 10:34:19.710 +00:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Application.Authentication.Login.LoginCommand' ...
2023-11-30 10:34:19.718 +00:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Application.Authentication.Login.LoginCommand'.
2023-11-30 10:34:19.731 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:34:19.769 +00:00 [DBG] Compiling query expression: 
'DbSet<Authentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-11-30 10:34:19.897 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Authentication>(
    asyncEnumerable: new SingleQueryingEnumerable<Authentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Authentication.Id (string) Required PK AfterSave:Throw, 0], [Property: Authentication.AccessFailedCount (int) Required, 1], [Property: Authentication.ConcurrencyStamp (string) Concurrency, 2], [Property: Authentication.Email (string) MaxLength(256), 3], [Property: Authentication.EmailConfirmed (bool) Required, 4], [Property: Authentication.LockoutEnabled (bool) Required, 5], [Property: Authentication.LockoutEnd (DateTimeOffset?), 6], [Property: Authentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: Authentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: Authentication.PasswordHash (string), 9], [Property: Authentication.PhoneNumber (string), 10], [Property: Authentication.PhoneNumberConfirmed (bool) Required, 11], [Property: Authentication.SecurityStamp (string), 12], [Property: Authentication.TwoFactorEnabled (bool) Required, 13], [Property: Authentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Authentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-30 10:34:19.928 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:34:19.929 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 10:34:19.931 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:34:19.932 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:34:19.933 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:34:19.934 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-30 10:34:19.938 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-11-30 10:34:19.941 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-11-30 10:34:19.959 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-11-30 10:34:20.047 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Authentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 10:34:20.081 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:34:20.082 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 122ms reading results.
2023-11-30 10:34:20.084 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:34:20.085 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 10:34:20.180 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-11-30 10:34:20.224 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-30 10:34:20.225 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:34:20.226 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:34:20.226 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:34:20.227 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:34:20.227 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 10:34:20.228 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-11-30 10:34:20.236 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-11-30 10:34:20.239 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:34:20.240 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-11-30 10:34:20.240 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:34:20.241 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:34:20.266 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-30 10:34:20.268 +00:00 [DBG] No information found on request to perform content negotiation.
2023-11-30 10:34:20.269 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-30 10:34:20.269 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-30 10:34:20.271 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-30 10:34:20.272 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-11-30 10:34:20.284 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 597.2731ms
2023-11-30 10:34:20.307 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-11-30 10:34:20.308 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 651.6124 ms
2023-11-30 10:34:20.310 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:34:20.312 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:34:20.315 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-30 10:34:20.315 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62498/api/Auth/login - 200 null application/json; charset=utf-8 685.1374ms
2023-11-30 10:34:55.637 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Product - null null
2023-11-30 10:34:55.638 +00:00 [DBG] 1 candidate(s) found for the request path '/Product'
2023-11-30 10:34:55.638 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)' with route pattern 'Product' is valid for the request path '/Product'
2023-11-30 10:34:55.639 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-11-30 10:34:55.640 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 10:34:55.671 +00:00 [DBG] Successfully validated the token.
2023-11-30 10:34:55.673 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-30 10:34:55.675 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (0)
2023-11-30 10:34:55.677 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-11-30 10:34:55.678 +00:00 [INF] HTTP GET /Product responded 403 in 36.6793 ms
2023-11-30 10:34:55.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Product - 403 0 null 43.2063ms
2023-11-30 10:35:11.924 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-11-30 10:35:12.343 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-11-30 10:35:12.344 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-11-30 10:35:12.416 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:35:12.417 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:35:12.417 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-11-30 10:35:12.521 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:35:12.531 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:35:12.561 +00:00 [DBG] Created DbConnection. (28ms).
2023-11-30 10:35:12.565 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.710 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.712 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.719 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-11-30 10:35:12.725 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:35:12.730 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-11-30 10:35:12.731 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-11-30 10:35:12.732 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.824 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.830 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:35:12.877 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:35:12.878 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.880 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 10:35:12.887 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.888 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.889 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:35:12.889 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:35:12.889 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:35:12.890 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:35:12.895 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:35:12.901 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.902 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 10:35:12.902 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.902 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:35:12.904 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.905 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.967 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.967 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.968 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:35:12.968 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:35:12.969 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:35:12.970 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-11-30 10:35:12.970 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.970 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.971 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:35:12.972 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:35:12.973 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:12.973 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:35:12.974 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:13.036 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:13.037 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:13.037 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:35:13.038 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-11-30 10:35:13.038 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:35:13.038 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-11-30 10:35:13.039 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:13.039 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:13.040 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:35:13.042 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-11-30 10:35:13.042 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:13.042 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:35:13.043 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:13.043 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:13.044 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:35:13.044 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:35:13.045 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:35:13.045 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:35:13.046 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-11-30 10:35:13.046 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:13.047 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-11-30 10:35:13.047 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:13.048 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:35:13.055 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-11-30 10:35:13.057 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:35:13.059 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:13.060 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:35:13.097 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-11-30 10:35:13.150 +00:00 [DBG] Hosting starting
2023-11-30 10:35:13.167 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-11-30 10:35:13.168 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-11-30 10:35:13.176 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-11-30 10:35:13.177 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-11-30 10:35:13.181 +00:00 [INF] Creating key {feb8a0b7-64ea-4d96-aaf9-ec69f4a1fd5f} with creation date 2023-11-30 10:35:13Z, activation date 2023-11-30 10:35:13Z, and expiration date 2024-02-28 10:35:13Z.
2023-11-30 10:35:13.187 +00:00 [DBG] Descriptor deserializer type for key {feb8a0b7-64ea-4d96-aaf9-ec69f4a1fd5f} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-11-30 10:35:13.190 +00:00 [DBG] No key escrow sink found. Not writing key {feb8a0b7-64ea-4d96-aaf9-ec69f4a1fd5f} to escrow.
2023-11-30 10:35:13.191 +00:00 [WRN] No XML encryptor configured. Key {feb8a0b7-64ea-4d96-aaf9-ec69f4a1fd5f} may be persisted to storage in unencrypted form.
2023-11-30 10:35:13.192 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-11-30 10:35:13.193 +00:00 [DBG] Found key {feb8a0b7-64ea-4d96-aaf9-ec69f4a1fd5f}.
2023-11-30 10:35:13.199 +00:00 [DBG] Considering key {feb8a0b7-64ea-4d96-aaf9-ec69f4a1fd5f} with expiration date 2024-02-28 10:35:13Z as default key.
2023-11-30 10:35:13.203 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-11-30 10:35:13.204 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-11-30 10:35:13.205 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-11-30 10:35:13.207 +00:00 [DBG] Using key {feb8a0b7-64ea-4d96-aaf9-ec69f4a1fd5f} as the default key.
2023-11-30 10:35:13.209 +00:00 [DBG] Key ring with default key {feb8a0b7-64ea-4d96-aaf9-ec69f4a1fd5f} was loaded during application startup.
2023-11-30 10:35:13.339 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-11-30 10:35:13.450 +00:00 [INF] Now listening on: http://[::]:8080
2023-11-30 10:35:13.451 +00:00 [INF] Now listening on: https://[::]:8081
2023-11-30 10:35:13.451 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-11-30 10:35:13.452 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-11-30 10:35:13.452 +00:00 [INF] Hosting environment: Development
2023-11-30 10:35:13.453 +00:00 [INF] Content root path: /app
2023-11-30 10:35:13.453 +00:00 [DBG] Hosting started
2023-11-30 10:35:13.609 +00:00 [DBG] Connection id "0HMVHI04K7Q8P" accepted.
2023-11-30 10:35:13.612 +00:00 [DBG] Connection id "0HMVHI04K7Q8P" started.
2023-11-30 10:35:13.637 +00:00 [DBG] Connection 0HMVHI04K7Q8P established using the following protocol: "Tls13"
2023-11-30 10:35:13.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/index.html - null null
2023-11-30 10:35:13.683 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-11-30 10:35:13.703 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-11-30 10:35:13.704 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:35:13.787 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/index.html - 200 null text/html;charset=utf-8 109.2955ms
2023-11-30 10:35:14.031 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - null null
2023-11-30 10:35:14.033 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-11-30 10:35:14.033 +00:00 [DBG] Request did not match any endpoints
2023-11-30 10:35:14.120 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.8828ms
2023-11-30 10:35:27.691 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62498/api/Auth/login - application/json 64
2023-11-30 10:35:27.697 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-11-30 10:35:27.699 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-11-30 10:35:27.712 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-11-30 10:35:27.714 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 10:35:27.785 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-11-30 10:35:27.788 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-11-30 10:35:27.805 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Application.Authentication.Login.LoginCommand) on controller WebApi.Controllers.AuthController (WebApi).
2023-11-30 10:35:27.807 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 10:35:27.807 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 10:35:27.808 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:35:27.809 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 10:35:27.810 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:35:27.811 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-11-30 10:35:27.817 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-11-30 10:35:27.821 +00:00 [DBG] Attempting to bind parameter 'model' of type 'Application.Authentication.Login.LoginCommand' ...
2023-11-30 10:35:27.823 +00:00 [DBG] Attempting to bind parameter 'model' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-11-30 10:35:27.825 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-11-30 10:35:27.831 +00:00 [DBG] Connection id "0HMVHI04K7Q8P", Request id "0HMVHI04K7Q8P:00000005": started reading request body.
2023-11-30 10:35:27.832 +00:00 [DBG] Connection id "0HMVHI04K7Q8P", Request id "0HMVHI04K7Q8P:00000005": done reading request body.
2023-11-30 10:35:27.837 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-11-30 10:35:27.838 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'Application.Authentication.Login.LoginCommand'.
2023-11-30 10:35:27.838 +00:00 [DBG] Done attempting to bind parameter 'model' of type 'Application.Authentication.Login.LoginCommand'.
2023-11-30 10:35:27.839 +00:00 [DBG] Attempting to validate the bound parameter 'model' of type 'Application.Authentication.Login.LoginCommand' ...
2023-11-30 10:35:27.846 +00:00 [DBG] Done attempting to validate the bound parameter 'model' of type 'Application.Authentication.Login.LoginCommand'.
2023-11-30 10:35:27.860 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:35:27.901 +00:00 [DBG] Compiling query expression: 
'DbSet<Authentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-11-30 10:35:28.069 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Authentication>(
    asyncEnumerable: new SingleQueryingEnumerable<Authentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Authentication.Id (string) Required PK AfterSave:Throw, 0], [Property: Authentication.AccessFailedCount (int) Required, 1], [Property: Authentication.ConcurrencyStamp (string) Concurrency, 2], [Property: Authentication.Email (string) MaxLength(256), 3], [Property: Authentication.EmailConfirmed (bool) Required, 4], [Property: Authentication.LockoutEnabled (bool) Required, 5], [Property: Authentication.LockoutEnd (DateTimeOffset?), 6], [Property: Authentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: Authentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: Authentication.PasswordHash (string), 9], [Property: Authentication.PhoneNumber (string), 10], [Property: Authentication.PhoneNumberConfirmed (bool) Required, 11], [Property: Authentication.SecurityStamp (string), 12], [Property: Authentication.TwoFactorEnabled (bool) Required, 13], [Property: Authentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Authentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-11-30 10:35:28.101 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:35:28.103 +00:00 [DBG] Created DbConnection. (1ms).
2023-11-30 10:35:28.106 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:28.107 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:28.108 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:35:28.108 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:35:28.112 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-11-30 10:35:28.114 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-11-30 10:35:28.134 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-11-30 10:35:28.173 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Authentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-11-30 10:35:28.205 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:28.206 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 70ms reading results.
2023-11-30 10:35:28.208 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:28.209 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:35:28.301 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-11-30 10:35:28.343 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-30 10:35:28.345 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:28.346 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:28.347 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:35:28.348 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-11-30 10:35:28.349 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-11-30 10:35:28.350 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-11-30 10:35:28.397 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-11-30 10:35:28.399 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:28.404 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-11-30 10:35:28.405 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:28.406 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:35:28.442 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-11-30 10:35:28.444 +00:00 [DBG] No information found on request to perform content negotiation.
2023-11-30 10:35:28.444 +00:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-11-30 10:35:28.445 +00:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-11-30 10:35:28.446 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-11-30 10:35:28.448 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2023-11-30 10:35:28.462 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 648.6043ms
2023-11-30 10:35:28.463 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-11-30 10:35:28.466 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 748.5359 ms
2023-11-30 10:35:28.469 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:35:28.473 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:28.475 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-11-30 10:35:28.476 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62498/api/Auth/login - 200 null application/json; charset=utf-8 785.0143ms
2023-11-30 10:35:46.189 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62498/Product - null null
2023-11-30 10:35:46.190 +00:00 [DBG] 1 candidate(s) found for the request path '/Product'
2023-11-30 10:35:46.191 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)' with route pattern 'Product' is valid for the request path '/Product'
2023-11-30 10:35:46.192 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-11-30 10:35:46.193 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-11-30 10:35:46.225 +00:00 [DBG] Successfully validated the token.
2023-11-30 10:35:46.227 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-11-30 10:35:46.232 +00:00 [DBG] Authorization was successful.
2023-11-30 10:35:46.233 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-11-30 10:35:46.237 +00:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(MediatR.ISender) on controller Web.API.Endpoints.ProductController (WebApi).
2023-11-30 10:35:46.237 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-11-30 10:35:46.238 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-11-30 10:35:46.238 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:35:46.240 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-11-30 10:35:46.241 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-11-30 10:35:46.242 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 10:35:46.243 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-11-30 10:35:46.244 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 10:35:46.245 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 10:35:46.245 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-11-30 10:35:46.247 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-11-30 10:35:46.301 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-11-30 10:35:46.303 +00:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Select(p => new ProductResponse(
        p.Id.Value, 
        p.Name, 
        p.Sku.Value, 
        p.Price.Currency, 
        p.Price.Amount
    ))'
2023-11-30 10:35:46.326 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
        SELECT p.Id, p.Name, p.Sku, p.Price_Currency, p.Price_Amount
        FROM Products AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-11-30 10:35:46.327 +00:00 [DBG] Creating DbConnection.
2023-11-30 10:35:46.327 +00:00 [DBG] Created DbConnection. (0ms).
2023-11-30 10:35:46.328 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:46.328 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:46.329 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-11-30 10:35:46.329 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-11-30 10:35:46.330 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-11-30 10:35:46.331 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-11-30 10:35:46.375 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-11-30 10:35:46.387 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:46.388 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 10ms reading results.
2023-11-30 10:35:46.388 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:46.389 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-11-30 10:35:46.392 +00:00 [INF] Setting HTTP status code 200.
2023-11-30 10:35:46.394 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-11-30 10:35:46.402 +00:00 [INF] Executed action Web.API.Endpoints.ProductController.Get (WebApi) in 160.1638ms
2023-11-30 10:35:46.403 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-11-30 10:35:46.403 +00:00 [INF] HTTP GET /Product responded 200 in 209.2433 ms
2023-11-30 10:35:46.404 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-11-30 10:35:46.405 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-11-30 10:35:46.406 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-11-30 10:35:46.407 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62498/Product - 200 null application/json; charset=utf-8 218.7699ms
2023-12-01 04:30:46.312 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-01 04:30:46.790 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-01 04:30:46.791 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-01 04:30:46.868 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 04:30:46.868 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 04:30:46.869 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 04:30:46.972 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 04:30:46.983 +00:00 [DBG] Creating DbConnection.
2023-12-01 04:30:47.021 +00:00 [DBG] Created DbConnection. (37ms).
2023-12-01 04:30:47.026 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.297 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.299 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.314 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (10ms).
2023-12-01 04:30:47.326 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 04:30:47.333 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2023-12-01 04:30:47.334 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2023-12-01 04:30:47.335 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.445 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.450 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 04:30:47.501 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 04:30:47.503 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.505 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-01 04:30:47.513 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.514 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.515 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 04:30:47.516 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 04:30:47.516 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 04:30:47.517 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 04:30:47.526 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 04:30:47.532 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.534 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-12-01 04:30:47.534 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.535 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 04:30:47.536 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.537 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.611 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.611 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.612 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 04:30:47.612 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 04:30:47.613 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 04:30:47.613 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 04:30:47.614 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.615 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.615 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 04:30:47.616 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 04:30:47.617 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.617 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 04:30:47.618 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.682 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.683 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.683 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 04:30:47.684 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 04:30:47.685 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 04:30:47.685 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 04:30:47.686 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.687 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.687 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 04:30:47.689 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 04:30:47.690 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.691 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 04:30:47.692 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.692 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.693 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 04:30:47.693 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 04:30:47.694 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 04:30:47.695 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 04:30:47.696 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 04:30:47.697 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.697 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-01 04:30:47.697 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.698 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 04:30:47.708 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-01 04:30:47.709 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 04:30:47.711 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:30:47.713 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 04:30:47.758 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-01 04:30:47.822 +00:00 [DBG] Hosting starting
2023-12-01 04:30:47.844 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-01 04:30:47.845 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-01 04:30:47.853 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-01 04:30:47.853 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-01 04:30:47.857 +00:00 [INF] Creating key {f6388d17-e19c-4374-b7db-9fd016a75c4b} with creation date 2023-12-01 04:30:47Z, activation date 2023-12-01 04:30:47Z, and expiration date 2024-02-29 04:30:47Z.
2023-12-01 04:30:47.866 +00:00 [DBG] Descriptor deserializer type for key {f6388d17-e19c-4374-b7db-9fd016a75c4b} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-01 04:30:47.871 +00:00 [DBG] No key escrow sink found. Not writing key {f6388d17-e19c-4374-b7db-9fd016a75c4b} to escrow.
2023-12-01 04:30:47.871 +00:00 [WRN] No XML encryptor configured. Key {f6388d17-e19c-4374-b7db-9fd016a75c4b} may be persisted to storage in unencrypted form.
2023-12-01 04:30:47.872 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-01 04:30:47.874 +00:00 [DBG] Found key {f6388d17-e19c-4374-b7db-9fd016a75c4b}.
2023-12-01 04:30:47.883 +00:00 [DBG] Considering key {f6388d17-e19c-4374-b7db-9fd016a75c4b} with expiration date 2024-02-29 04:30:47Z as default key.
2023-12-01 04:30:47.887 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-01 04:30:47.889 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-01 04:30:47.890 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-01 04:30:47.892 +00:00 [DBG] Using key {f6388d17-e19c-4374-b7db-9fd016a75c4b} as the default key.
2023-12-01 04:30:47.894 +00:00 [DBG] Key ring with default key {f6388d17-e19c-4374-b7db-9fd016a75c4b} was loaded during application startup.
2023-12-01 04:30:48.034 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-01 04:30:48.312 +00:00 [INF] Now listening on: http://[::]:8080
2023-12-01 04:30:48.312 +00:00 [INF] Now listening on: https://[::]:8081
2023-12-01 04:30:48.313 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-01 04:30:48.313 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-01 04:30:48.314 +00:00 [INF] Hosting environment: Development
2023-12-01 04:30:48.314 +00:00 [INF] Content root path: /app
2023-12-01 04:30:48.315 +00:00 [DBG] Hosting started
2023-12-01 04:30:48.594 +00:00 [DBG] Connection id "0HMVI4P5HQB5U" accepted.
2023-12-01 04:30:48.597 +00:00 [DBG] Connection id "0HMVI4P5HQB5U" started.
2023-12-01 04:30:48.597 +00:00 [DBG] Connection id "0HMVI4P5HQB5V" accepted.
2023-12-01 04:30:48.599 +00:00 [DBG] Connection id "0HMVI4P5HQB5V" started.
2023-12-01 04:30:48.645 +00:00 [DBG] Connection id "0HMVI4P5HQB5U" received FIN.
2023-12-01 04:30:48.666 +00:00 [DBG] Connection 0HMVI4P5HQB5U established using the following protocol: "Tls13"
2023-12-01 04:30:48.666 +00:00 [DBG] Connection 0HMVI4P5HQB5V established using the following protocol: "Tls13"
2023-12-01 04:30:48.685 +00:00 [DBG] Connection id "0HMVI4P5HQB5U" is closed. The last processed stream ID was 0.
2023-12-01 04:30:48.686 +00:00 [DBG] Connection id "0HMVI4P5HQB5U" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-01 04:30:48.691 +00:00 [DBG] The connection queue processing loop for 0HMVI4P5HQB5U completed.
2023-12-01 04:30:48.697 +00:00 [DBG] Connection id "0HMVI4P5HQB5U" stopped.
2023-12-01 04:30:48.734 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger - null null
2023-12-01 04:30:48.736 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-01 04:30:48.758 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-12-01 04:30:48.760 +00:00 [DBG] Request did not match any endpoints
2023-12-01 04:30:48.779 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger - 301 0 null 45.9682ms
2023-12-01 04:30:48.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/index.html - null null
2023-12-01 04:30:48.818 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-01 04:30:48.819 +00:00 [DBG] Request did not match any endpoints
2023-12-01 04:30:48.884 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/index.html - 200 null text/html;charset=utf-8 67.7563ms
2023-12-01 04:30:48.901 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/swagger-ui.css - null null
2023-12-01 04:30:48.926 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/swagger-ui-bundle.js - null null
2023-12-01 04:30:48.926 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-12-01 04:30:48.926 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-12-01 04:30:48.928 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/swagger-ui-standalone-preset.js - null null
2023-12-01 04:30:48.928 +00:00 [DBG] Request did not match any endpoints
2023-12-01 04:30:48.929 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-12-01 04:30:48.930 +00:00 [DBG] Request did not match any endpoints
2023-12-01 04:30:48.929 +00:00 [DBG] Request did not match any endpoints
2023-12-01 04:30:49.038 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-12-01 04:30:49.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/swagger-ui.css - 200 144929 text/css 138.6559ms
2023-12-01 04:30:49.094 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-12-01 04:30:49.095 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 167.1459ms
2023-12-01 04:30:49.152 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-12-01 04:30:49.152 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 226.649ms
2023-12-01 04:30:49.481 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/v1/swagger.json - null null
2023-12-01 04:30:49.502 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/favicon-32x32.png - null null
2023-12-01 04:30:49.503 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-01 04:30:49.503 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-12-01 04:30:49.504 +00:00 [DBG] Request did not match any endpoints
2023-12-01 04:30:49.504 +00:00 [DBG] Request did not match any endpoints
2023-12-01 04:30:49.507 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-12-01 04:30:49.508 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/favicon-32x32.png - 200 628 image/png 26.7572ms
2023-12-01 04:30:49.602 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 121.4586ms
2023-12-01 04:31:21.992 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54189/api/Auth/login - application/json 64
2023-12-01 04:31:22.000 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-01 04:31:22.002 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-01 04:31:22.017 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-01 04:31:22.018 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 04:31:22.068 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-01 04:31:22.073 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-01 04:31:22.093 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-01 04:31:22.095 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 04:31:22.095 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 04:31:22.096 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 04:31:22.097 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 04:31:22.097 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 04:31:22.099 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-01 04:31:22.100 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-01 04:31:22.103 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-01 04:31:22.107 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-01 04:31:22.108 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-01 04:31:22.116 +00:00 [DBG] Connection id "0HMVI4P5HQB5V", Request id "0HMVI4P5HQB5V:0000000F": started reading request body.
2023-12-01 04:31:22.116 +00:00 [DBG] Connection id "0HMVI4P5HQB5V", Request id "0HMVI4P5HQB5V:0000000F": done reading request body.
2023-12-01 04:31:22.119 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-01 04:31:22.121 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-01 04:31:22.121 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-01 04:31:22.122 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-01 04:31:22.130 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-01 04:31:22.131 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 04:31:22.133 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 04:31:22.133 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 04:31:22.134 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 04:31:22.161 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 04:31:22.202 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-01 04:31:22.344 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-01 04:31:22.381 +00:00 [DBG] Creating DbConnection.
2023-12-01 04:31:22.382 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-01 04:31:22.385 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:31:22.390 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:31:22.391 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 04:31:22.392 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-01 04:31:22.398 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-12-01 04:31:22.401 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-01 04:31:22.433 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-01 04:31:22.478 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-01 04:31:22.510 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:31:22.511 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 77ms reading results.
2023-12-01 04:31:22.515 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:31:22.516 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-01 04:31:22.598 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-01 04:31:22.635 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-01 04:31:22.636 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:31:22.638 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:31:22.639 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 04:31:22.639 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 04:31:22.640 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 04:31:22.641 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-01 04:31:22.656 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-01 04:31:22.658 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:31:22.659 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-01 04:31:22.660 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:31:22.660 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 04:31:22.693 +00:00 [INF] Setting HTTP status code 200.
2023-12-01 04:31:22.697 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-01 04:31:22.706 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 605.1008ms
2023-12-01 04:31:22.709 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-01 04:31:22.712 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 691.3394 ms
2023-12-01 04:31:22.715 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 04:31:22.717 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:31:22.719 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-01 04:31:22.719 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54189/api/Auth/login - 200 null application/json; charset=utf-8 727.7027ms
2023-12-01 04:31:42.537 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54189/api/Auth/register - application/json 83
2023-12-01 04:31:42.560 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2023-12-01 04:31:42.560 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Register (WebApi)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2023-12-01 04:31:42.561 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-12-01 04:31:42.561 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 04:31:42.563 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-01 04:31:42.566 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-12-01 04:31:42.572 +00:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Register(Application.Authentication.Register.RegisterCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-01 04:31:42.573 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 04:31:42.573 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 04:31:42.574 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 04:31:42.574 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 04:31:42.575 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 04:31:42.575 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-01 04:31:42.576 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-01 04:31:42.576 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-01 04:31:42.577 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' using the name '' in request data ...
2023-12-01 04:31:42.577 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-01 04:31:42.579 +00:00 [DBG] Connection id "0HMVI4P5HQB5V", Request id "0HMVI4P5HQB5V:00000011": started reading request body.
2023-12-01 04:31:42.582 +00:00 [DBG] Connection id "0HMVI4P5HQB5V", Request id "0HMVI4P5HQB5V:00000011": done reading request body.
2023-12-01 04:31:42.590 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Register.RegisterCommand'
2023-12-01 04:31:42.592 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-01 04:31:42.613 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-01 04:31:42.614 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-01 04:31:42.667 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-01 04:31:42.669 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 04:31:42.670 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 04:31:42.671 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 04:31:42.673 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 04:31:42.728 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 04:31:42.732 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-12-01 04:31:42.738 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-01 04:31:42.739 +00:00 [DBG] Creating DbConnection.
2023-12-01 04:31:42.739 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-01 04:31:42.740 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:31:42.740 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:31:42.740 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 04:31:42.741 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 04:31:42.741 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-01 04:31:42.742 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-01 04:31:42.767 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-01 04:31:42.769 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-01 04:31:42.770 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:31:42.770 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-01 04:31:42.771 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:31:42.772 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 04:31:42.823 +00:00 [INF] Setting HTTP status code 403.
2023-12-01 04:31:42.828 +00:00 [INF] Writing value of type 'ProblemDetails' as Json.
2023-12-01 04:31:42.832 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Register (WebApi) in 256.6692ms
2023-12-01 04:31:42.833 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-12-01 04:31:42.833 +00:00 [INF] HTTP POST /api/Auth/register responded 403 in 271.2502 ms
2023-12-01 04:31:42.834 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 04:31:42.835 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:31:42.836 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-01 04:31:42.837 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54189/api/Auth/register - 403 null application/problem+json 299.7206ms
2023-12-01 04:32:06.605 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54189/api/Auth/register-admin - application/json 76
2023-12-01 04:32:06.607 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register-admin'
2023-12-01 04:32:06.609 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)' with route pattern 'api/Auth/register-admin' is valid for the request path '/api/Auth/register-admin'
2023-12-01 04:32:06.610 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-01 04:32:06.612 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 04:32:06.615 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-01 04:32:06.616 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-01 04:32:06.619 +00:00 [INF] Route matched with {action = "RegisterAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] RegisterAdmin(Application.Authentication.Register.RegisterCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-01 04:32:06.620 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 04:32:06.620 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 04:32:06.620 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 04:32:06.621 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 04:32:06.621 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 04:32:06.621 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-01 04:32:06.622 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-01 04:32:06.623 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-01 04:32:06.623 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' using the name '' in request data ...
2023-12-01 04:32:06.624 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-01 04:32:06.625 +00:00 [DBG] Connection id "0HMVI4P5HQB5V", Request id "0HMVI4P5HQB5V:00000013": started reading request body.
2023-12-01 04:32:06.643 +00:00 [DBG] Connection id "0HMVI4P5HQB5V", Request id "0HMVI4P5HQB5V:00000013": done reading request body.
2023-12-01 04:32:06.645 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Register.RegisterCommand'
2023-12-01 04:32:06.646 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-01 04:32:06.646 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-01 04:32:06.647 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-01 04:32:06.648 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-01 04:32:06.648 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 04:32:06.650 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 04:32:06.650 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 04:32:06.651 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 04:32:06.654 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 04:32:06.659 +00:00 [DBG] Creating DbConnection.
2023-12-01 04:32:06.660 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-01 04:32:06.661 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:32:06.661 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:32:06.661 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 04:32:06.662 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 04:32:06.662 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-01 04:32:06.663 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-01 04:32:06.689 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-01 04:32:06.714 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-01 04:32:06.715 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:32:06.715 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 24ms reading results.
2023-12-01 04:32:06.716 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:32:06.716 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 04:32:06.745 +00:00 [INF] Setting HTTP status code 403.
2023-12-01 04:32:06.745 +00:00 [INF] Writing value of type 'ProblemDetails' as Json.
2023-12-01 04:32:06.746 +00:00 [INF] Executed action WebApi.Controllers.AuthController.RegisterAdmin (WebApi) in 124.1937ms
2023-12-01 04:32:06.746 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-01 04:32:06.747 +00:00 [INF] HTTP POST /api/Auth/register-admin responded 403 in 134.2167 ms
2023-12-01 04:32:06.748 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 04:32:06.749 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 04:32:06.749 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 04:32:06.752 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54189/api/Auth/register-admin - 403 null application/problem+json 146.5015ms
2023-12-01 09:44:23.246 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-01 09:44:23.693 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-01 09:44:23.694 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-01 09:44:23.780 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:44:23.781 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:44:23.781 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:44:23.896 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 09:44:23.907 +00:00 [DBG] Creating DbConnection.
2023-12-01 09:44:23.935 +00:00 [DBG] Created DbConnection. (27ms).
2023-12-01 09:44:23.941 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.230 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.232 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.240 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-12-01 09:44:24.247 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:44:24.252 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-12-01 09:44:24.254 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-12-01 09:44:24.255 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.349 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.355 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:44:24.403 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:44:24.404 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.407 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-01 09:44:24.415 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.416 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.417 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 09:44:24.417 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:44:24.418 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 09:44:24.419 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:44:24.434 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:44:24.442 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.444 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 7ms reading results.
2023-12-01 09:44:24.444 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.445 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:44:24.446 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.447 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.511 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.511 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.512 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:44:24.513 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:44:24.513 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:44:24.514 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:44:24.514 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.515 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.515 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:44:24.516 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:44:24.517 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.517 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:44:24.518 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.582 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.582 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.583 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:44:24.583 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:44:24.584 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:44:24.584 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-01 09:44:24.585 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.585 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.585 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:44:24.587 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:44:24.587 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.588 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:44:24.589 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.589 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.590 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 09:44:24.591 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:44:24.591 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:44:24.591 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:44:24.592 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:44:24.593 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.593 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-01 09:44:24.594 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.594 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:44:24.604 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-01 09:44:24.606 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 09:44:24.608 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:44:24.609 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-01 09:44:24.652 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-01 09:45:03.488 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-01 09:45:03.900 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-01 09:45:03.901 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-01 09:45:03.978 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:45:03.978 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:45:03.979 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:45:04.078 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 09:45:04.088 +00:00 [DBG] Creating DbConnection.
2023-12-01 09:45:04.117 +00:00 [DBG] Created DbConnection. (27ms).
2023-12-01 09:45:04.123 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.268 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.270 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.279 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-12-01 09:45:04.284 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:45:04.291 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-12-01 09:45:04.293 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2023-12-01 09:45:04.293 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.388 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.395 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:45:04.442 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:45:04.444 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.446 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-01 09:45:04.454 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.455 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.455 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 09:45:04.456 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:45:04.456 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 09:45:04.457 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:45:04.463 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:45:04.468 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.470 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-12-01 09:45:04.470 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.470 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:45:04.472 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.473 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.536 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.536 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.537 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:45:04.537 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:45:04.538 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:45:04.538 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:45:04.539 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.539 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.540 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:45:04.542 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:45:04.543 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.544 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:45:04.544 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.605 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.605 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.606 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:45:04.607 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:45:04.608 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:45:04.608 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-01 09:45:04.609 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.609 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.610 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:45:04.611 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:45:04.612 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.612 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:45:04.612 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.613 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.613 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 09:45:04.613 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:45:04.614 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:45:04.614 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:45:04.615 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:45:04.616 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.617 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-01 09:45:04.617 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.617 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:45:04.627 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-01 09:45:04.629 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 09:45:04.631 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:45:04.632 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-01 09:45:04.672 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-01 09:46:06.556 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-01 09:46:06.972 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-01 09:46:06.973 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-01 09:46:07.051 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:46:07.051 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:46:07.052 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:46:07.154 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 09:46:07.163 +00:00 [DBG] Creating DbConnection.
2023-12-01 09:46:07.194 +00:00 [DBG] Created DbConnection. (29ms).
2023-12-01 09:46:07.199 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.350 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.352 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.363 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (7ms).
2023-12-01 09:46:07.372 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:46:07.377 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-12-01 09:46:07.379 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2023-12-01 09:46:07.379 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.474 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.480 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:46:07.527 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:46:07.528 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.530 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-01 09:46:07.540 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.541 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.541 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 09:46:07.542 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:46:07.542 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:46:07.543 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:46:07.547 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:46:07.554 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.555 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-12-01 09:46:07.556 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.557 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:46:07.559 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.560 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.623 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.623 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.623 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:46:07.624 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:46:07.624 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:46:07.625 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-01 09:46:07.626 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.626 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.627 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:46:07.628 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:46:07.628 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.629 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:46:07.630 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.701 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.701 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.702 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:46:07.704 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:46:07.704 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:46:07.705 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:46:07.706 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.706 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.706 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:46:07.708 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:46:07.708 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.709 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:46:07.710 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.710 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.710 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 09:46:07.711 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:46:07.711 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 09:46:07.713 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:46:07.714 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:46:07.714 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.715 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-01 09:46:07.715 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.716 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:46:07.726 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-01 09:46:07.728 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 09:46:07.730 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:07.731 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-01 09:46:07.772 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-01 09:46:07.821 +00:00 [DBG] Hosting starting
2023-12-01 09:46:07.837 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-01 09:46:07.838 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-01 09:46:07.846 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-01 09:46:07.846 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-01 09:46:07.849 +00:00 [INF] Creating key {2496899d-09b4-4071-b4b1-be9246c7ccfe} with creation date 2023-12-01 09:46:07Z, activation date 2023-12-01 09:46:07Z, and expiration date 2024-02-29 09:46:07Z.
2023-12-01 09:46:07.856 +00:00 [DBG] Descriptor deserializer type for key {2496899d-09b4-4071-b4b1-be9246c7ccfe} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-01 09:46:07.859 +00:00 [DBG] No key escrow sink found. Not writing key {2496899d-09b4-4071-b4b1-be9246c7ccfe} to escrow.
2023-12-01 09:46:07.860 +00:00 [WRN] No XML encryptor configured. Key {2496899d-09b4-4071-b4b1-be9246c7ccfe} may be persisted to storage in unencrypted form.
2023-12-01 09:46:07.861 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-01 09:46:07.863 +00:00 [DBG] Found key {2496899d-09b4-4071-b4b1-be9246c7ccfe}.
2023-12-01 09:46:07.870 +00:00 [DBG] Considering key {2496899d-09b4-4071-b4b1-be9246c7ccfe} with expiration date 2024-02-29 09:46:07Z as default key.
2023-12-01 09:46:07.875 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-01 09:46:07.877 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-01 09:46:07.878 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-01 09:46:07.881 +00:00 [DBG] Using key {2496899d-09b4-4071-b4b1-be9246c7ccfe} as the default key.
2023-12-01 09:46:07.882 +00:00 [DBG] Key ring with default key {2496899d-09b4-4071-b4b1-be9246c7ccfe} was loaded during application startup.
2023-12-01 09:46:08.001 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-01 09:46:08.126 +00:00 [INF] Now listening on: http://[::]:8080
2023-12-01 09:46:08.127 +00:00 [INF] Now listening on: https://[::]:8081
2023-12-01 09:46:08.127 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-01 09:46:08.128 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-01 09:46:08.129 +00:00 [INF] Hosting environment: Development
2023-12-01 09:46:08.129 +00:00 [INF] Content root path: /app
2023-12-01 09:46:08.130 +00:00 [DBG] Hosting started
2023-12-01 09:46:08.334 +00:00 [DBG] Connection id "0HMVIA9C2GQA2" accepted.
2023-12-01 09:46:08.359 +00:00 [DBG] Connection id "0HMVIA9C2GQA3" accepted.
2023-12-01 09:46:08.360 +00:00 [DBG] Connection id "0HMVIA9C2GQA3" started.
2023-12-01 09:46:08.360 +00:00 [DBG] Connection id "0HMVIA9C2GQA2" started.
2023-12-01 09:46:08.399 +00:00 [DBG] Connection id "0HMVIA9C2GQA3" received FIN.
2023-12-01 09:46:08.455 +00:00 [DBG] Connection 0HMVIA9C2GQA3 established using the following protocol: "Tls13"
2023-12-01 09:46:08.455 +00:00 [DBG] Connection 0HMVIA9C2GQA2 established using the following protocol: "Tls13"
2023-12-01 09:46:08.470 +00:00 [DBG] Connection id "0HMVIA9C2GQA3" is closed. The last processed stream ID was 0.
2023-12-01 09:46:08.472 +00:00 [DBG] Connection id "0HMVIA9C2GQA3" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-01 09:46:08.478 +00:00 [DBG] The connection queue processing loop for 0HMVIA9C2GQA3 completed.
2023-12-01 09:46:08.483 +00:00 [DBG] Connection id "0HMVIA9C2GQA3" stopped.
2023-12-01 09:46:08.513 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger - null null
2023-12-01 09:46:08.515 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-01 09:46:08.545 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-12-01 09:46:08.547 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:46:08.566 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger - 301 0 null 54.2032ms
2023-12-01 09:46:08.601 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/index.html - null null
2023-12-01 09:46:08.603 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-01 09:46:08.604 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:46:08.671 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/index.html - 200 null text/html;charset=utf-8 69.6908ms
2023-12-01 09:46:08.693 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/swagger-ui.css - null null
2023-12-01 09:46:08.693 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-12-01 09:46:08.694 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:46:08.718 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/swagger-ui-bundle.js - null null
2023-12-01 09:46:08.718 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/swagger-ui-standalone-preset.js - null null
2023-12-01 09:46:08.718 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-12-01 09:46:08.720 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-12-01 09:46:08.721 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:46:08.722 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:46:08.801 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-12-01 09:46:08.803 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/swagger-ui.css - 200 144929 text/css 111.0227ms
2023-12-01 09:46:08.833 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-12-01 09:46:08.834 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 136.8795ms
2023-12-01 09:46:08.902 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-12-01 09:46:08.903 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 205.2578ms
2023-12-01 09:46:09.126 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/v1/swagger.json - null null
2023-12-01 09:46:09.148 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-01 09:46:09.148 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/favicon-32x32.png - null null
2023-12-01 09:46:09.149 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:46:09.150 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-12-01 09:46:09.151 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:46:09.152 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-12-01 09:46:09.154 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/favicon-32x32.png - 200 628 image/png 5.6463ms
2023-12-01 09:46:09.246 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 119.9985ms
2023-12-01 09:46:18.172 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54189/Cart - application/json 93
2023-12-01 09:46:18.183 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-01 09:46:18.184 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-01 09:46:18.198 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 09:46:18.200 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 09:46:18.242 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-01 09:46:18.245 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 09:46:18.281 +00:00 [INF] Route matched with {action = "Create", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.Carts.Create.CreateCartRequest, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-12-01 09:46:18.282 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 09:46:18.283 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 09:46:18.284 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 09:46:18.285 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 09:46:18.285 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 09:46:18.287 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 09:46:18.293 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Create (WebApi) in 4.13ms
2023-12-01 09:46:18.295 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 09:46:18.297 +00:00 [ERR] HTTP POST /Cart responded 500 in 94.6195 ms
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'Web.API.Endpoints.CartController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-01 09:46:18.311 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'Web.API.Endpoints.CartController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-01 09:46:18.318 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54189/Cart - 500 null text/plain; charset=utf-8 146.4155ms
2023-12-01 09:46:18.319 +00:00 [DBG] Connection id "0HMVIA9C2GQA2", Request id "0HMVIA9C2GQA2:0000000F": started reading request body.
2023-12-01 09:46:18.320 +00:00 [DBG] Connection id "0HMVIA9C2GQA2", Request id "0HMVIA9C2GQA2:0000000F": done reading request body.
2023-12-01 09:46:51.671 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-01 09:46:52.092 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-01 09:46:52.094 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-01 09:46:52.175 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:46:52.176 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:46:52.177 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:46:52.288 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 09:46:52.298 +00:00 [DBG] Creating DbConnection.
2023-12-01 09:46:52.329 +00:00 [DBG] Created DbConnection. (29ms).
2023-12-01 09:46:52.334 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.490 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.493 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.501 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-12-01 09:46:52.509 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:46:52.514 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-12-01 09:46:52.516 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2023-12-01 09:46:52.516 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.619 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.626 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:46:52.675 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:46:52.676 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.678 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-01 09:46:52.686 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.687 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.687 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 09:46:52.688 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:46:52.688 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:46:52.689 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:46:52.694 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:46:52.700 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.702 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-12-01 09:46:52.702 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.703 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:46:52.704 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.705 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.769 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.770 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.770 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:46:52.771 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:46:52.771 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:46:52.772 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-01 09:46:52.773 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.773 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.774 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:46:52.776 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:46:52.777 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.777 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:46:52.778 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.841 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.842 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.842 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:46:52.843 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:46:52.843 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:46:52.843 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:46:52.844 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.844 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.845 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:46:52.846 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:46:52.847 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.847 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:46:52.848 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.849 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.849 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 09:46:52.850 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:46:52.850 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:46:52.850 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:46:52.852 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:46:52.852 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.852 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-01 09:46:52.853 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.853 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:46:52.862 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-01 09:46:52.864 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 09:46:52.866 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:46:52.867 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:46:52.906 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-01 09:46:52.957 +00:00 [DBG] Hosting starting
2023-12-01 09:46:52.974 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-01 09:46:52.974 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-01 09:46:52.982 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-01 09:46:52.983 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-01 09:46:52.986 +00:00 [INF] Creating key {2074ce38-f305-439d-b385-412139f67b8b} with creation date 2023-12-01 09:46:52Z, activation date 2023-12-01 09:46:52Z, and expiration date 2024-02-29 09:46:52Z.
2023-12-01 09:46:52.992 +00:00 [DBG] Descriptor deserializer type for key {2074ce38-f305-439d-b385-412139f67b8b} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-01 09:46:52.995 +00:00 [DBG] No key escrow sink found. Not writing key {2074ce38-f305-439d-b385-412139f67b8b} to escrow.
2023-12-01 09:46:52.996 +00:00 [WRN] No XML encryptor configured. Key {2074ce38-f305-439d-b385-412139f67b8b} may be persisted to storage in unencrypted form.
2023-12-01 09:46:52.997 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-01 09:46:52.998 +00:00 [DBG] Found key {2074ce38-f305-439d-b385-412139f67b8b}.
2023-12-01 09:46:53.004 +00:00 [DBG] Considering key {2074ce38-f305-439d-b385-412139f67b8b} with expiration date 2024-02-29 09:46:52Z as default key.
2023-12-01 09:46:53.009 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-01 09:46:53.011 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-01 09:46:53.011 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-01 09:46:53.014 +00:00 [DBG] Using key {2074ce38-f305-439d-b385-412139f67b8b} as the default key.
2023-12-01 09:46:53.016 +00:00 [DBG] Key ring with default key {2074ce38-f305-439d-b385-412139f67b8b} was loaded during application startup.
2023-12-01 09:46:53.126 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-01 09:46:53.269 +00:00 [INF] Now listening on: http://[::]:8080
2023-12-01 09:46:53.269 +00:00 [INF] Now listening on: https://[::]:8081
2023-12-01 09:46:53.270 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-01 09:46:53.271 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-01 09:46:53.271 +00:00 [INF] Hosting environment: Development
2023-12-01 09:46:53.272 +00:00 [INF] Content root path: /app
2023-12-01 09:46:53.273 +00:00 [DBG] Hosting started
2023-12-01 09:46:53.462 +00:00 [DBG] Connection id "0HMVIA9PGSSG6" accepted.
2023-12-01 09:46:53.465 +00:00 [DBG] Connection id "0HMVIA9PGSSG6" started.
2023-12-01 09:46:53.496 +00:00 [DBG] Connection 0HMVIA9PGSSG6 established using the following protocol: "Tls13"
2023-12-01 09:46:53.570 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/index.html - null null
2023-12-01 09:46:53.571 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-01 09:46:53.590 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-01 09:46:53.591 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:46:53.692 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/index.html - 200 null text/html;charset=utf-8 122.7415ms
2023-12-01 09:46:54.064 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/v1/swagger.json - null null
2023-12-01 09:46:54.066 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-01 09:46:54.066 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:46:54.152 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.9402ms
2023-12-01 09:47:00.037 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54189/Cart - application/json 93
2023-12-01 09:47:00.040 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-01 09:47:00.041 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-01 09:47:00.054 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 09:47:00.056 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 09:47:00.097 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-01 09:47:00.100 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 09:47:00.129 +00:00 [INF] Route matched with {action = "Create", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.Carts.Create.CreateCartRequest, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-12-01 09:47:00.131 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 09:47:00.132 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 09:47:00.133 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 09:47:00.133 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 09:47:00.134 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 09:47:00.136 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 09:47:00.140 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Create (WebApi) in 3.6595ms
2023-12-01 09:47:00.141 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 09:47:00.143 +00:00 [ERR] HTTP POST /Cart responded 500 in 84.1777 ms
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'Web.API.Endpoints.CartController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-01 09:47:00.155 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'Web.API.Endpoints.CartController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-01 09:47:00.164 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54189/Cart - 500 null text/plain; charset=utf-8 127.158ms
2023-12-01 09:47:00.166 +00:00 [DBG] Connection id "0HMVIA9PGSSG6", Request id "0HMVIA9PGSSG6:00000005": started reading request body.
2023-12-01 09:47:00.167 +00:00 [DBG] Connection id "0HMVIA9PGSSG6", Request id "0HMVIA9PGSSG6:00000005": done reading request body.
2023-12-01 09:47:57.819 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-01 09:47:58.204 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-01 09:47:58.206 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-01 09:47:58.284 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:47:58.284 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:47:58.285 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:47:58.387 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 09:47:58.397 +00:00 [DBG] Creating DbConnection.
2023-12-01 09:47:58.425 +00:00 [DBG] Created DbConnection. (26ms).
2023-12-01 09:47:58.431 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.574 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.575 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.588 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-12-01 09:47:58.593 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:47:58.598 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-12-01 09:47:58.600 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-12-01 09:47:58.600 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.681 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.687 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:47:58.734 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:47:58.735 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.739 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-12-01 09:47:58.747 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.748 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.748 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 09:47:58.749 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:47:58.749 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 09:47:58.750 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:47:58.755 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:47:58.762 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.764 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-12-01 09:47:58.764 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.765 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:47:58.767 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.767 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.830 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.831 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.831 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:47:58.832 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:47:58.832 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:47:58.833 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:47:58.833 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.834 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.834 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:47:58.836 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:47:58.836 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.837 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:47:58.838 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.899 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.899 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.900 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:47:58.901 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:47:58.901 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:47:58.902 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:47:58.903 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.904 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.905 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:47:58.906 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:47:58.907 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.907 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:47:58.908 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.908 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.909 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 09:47:58.909 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:47:58.910 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:47:58.910 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:47:58.911 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:47:58.912 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.912 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-01 09:47:58.913 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.913 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:47:58.922 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-01 09:47:58.924 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 09:47:58.926 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:47:58.928 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-01 09:47:58.962 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-01 09:47:59.008 +00:00 [DBG] Hosting starting
2023-12-01 09:47:59.021 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-01 09:47:59.022 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-01 09:47:59.030 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-01 09:47:59.031 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-01 09:47:59.034 +00:00 [INF] Creating key {cfccfd4d-f9ee-4a57-91f9-ad9f2c439615} with creation date 2023-12-01 09:47:59Z, activation date 2023-12-01 09:47:59Z, and expiration date 2024-02-29 09:47:59Z.
2023-12-01 09:47:59.040 +00:00 [DBG] Descriptor deserializer type for key {cfccfd4d-f9ee-4a57-91f9-ad9f2c439615} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-01 09:47:59.044 +00:00 [DBG] No key escrow sink found. Not writing key {cfccfd4d-f9ee-4a57-91f9-ad9f2c439615} to escrow.
2023-12-01 09:47:59.044 +00:00 [WRN] No XML encryptor configured. Key {cfccfd4d-f9ee-4a57-91f9-ad9f2c439615} may be persisted to storage in unencrypted form.
2023-12-01 09:47:59.045 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-01 09:47:59.047 +00:00 [DBG] Found key {cfccfd4d-f9ee-4a57-91f9-ad9f2c439615}.
2023-12-01 09:47:59.054 +00:00 [DBG] Considering key {cfccfd4d-f9ee-4a57-91f9-ad9f2c439615} with expiration date 2024-02-29 09:47:59Z as default key.
2023-12-01 09:47:59.058 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-01 09:47:59.060 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-01 09:47:59.061 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-01 09:47:59.064 +00:00 [DBG] Using key {cfccfd4d-f9ee-4a57-91f9-ad9f2c439615} as the default key.
2023-12-01 09:47:59.066 +00:00 [DBG] Key ring with default key {cfccfd4d-f9ee-4a57-91f9-ad9f2c439615} was loaded during application startup.
2023-12-01 09:47:59.191 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-01 09:47:59.313 +00:00 [INF] Now listening on: http://[::]:8080
2023-12-01 09:47:59.313 +00:00 [INF] Now listening on: https://[::]:8081
2023-12-01 09:47:59.314 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-01 09:47:59.314 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-01 09:47:59.315 +00:00 [INF] Hosting environment: Development
2023-12-01 09:47:59.315 +00:00 [INF] Content root path: /app
2023-12-01 09:47:59.316 +00:00 [DBG] Hosting started
2023-12-01 09:47:59.507 +00:00 [DBG] Connection id "0HMVIAAD6O330" accepted.
2023-12-01 09:47:59.509 +00:00 [DBG] Connection id "0HMVIAAD6O330" started.
2023-12-01 09:47:59.583 +00:00 [DBG] Connection 0HMVIAAD6O330 established using the following protocol: "Tls13"
2023-12-01 09:47:59.662 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/index.html - null null
2023-12-01 09:47:59.663 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-01 09:47:59.683 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-01 09:47:59.684 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:47:59.776 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/index.html - 200 null text/html;charset=utf-8 116.7095ms
2023-12-01 09:48:00.065 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/v1/swagger.json - null null
2023-12-01 09:48:00.067 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-01 09:48:00.068 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:48:00.162 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 97.8311ms
2023-12-01 09:48:03.411 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54189/Cart - application/json 93
2023-12-01 09:48:03.438 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-01 09:48:03.439 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-01 09:48:03.451 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 09:48:03.453 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 09:48:03.491 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-01 09:48:03.494 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 09:48:03.521 +00:00 [INF] Route matched with {action = "Create", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.Carts.Create.CreateCartRequest, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-12-01 09:48:03.524 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 09:48:03.525 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 09:48:03.526 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 09:48:03.526 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 09:48:03.527 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 09:48:03.529 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 09:48:03.533 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Create (WebApi) in 3.9355ms
2023-12-01 09:48:03.534 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 09:48:03.536 +00:00 [ERR] HTTP POST /Cart responded 500 in 80.2397 ms
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'Web.API.Endpoints.CartController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-01 09:48:03.549 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'Web.API.Endpoints.CartController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-01 09:48:03.555 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54189/Cart - 500 null text/plain; charset=utf-8 143.288ms
2023-12-01 09:48:03.558 +00:00 [DBG] Connection id "0HMVIAAD6O330", Request id "0HMVIAAD6O330:00000005": started reading request body.
2023-12-01 09:48:03.559 +00:00 [DBG] Connection id "0HMVIAAD6O330", Request id "0HMVIAAD6O330:00000005": done reading request body.
2023-12-01 09:48:45.332 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-01 09:48:45.774 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-01 09:48:45.775 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-01 09:48:45.852 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:48:45.853 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:48:45.853 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:48:45.955 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 09:48:45.965 +00:00 [DBG] Creating DbConnection.
2023-12-01 09:48:45.996 +00:00 [DBG] Created DbConnection. (29ms).
2023-12-01 09:48:46.001 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.127 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.129 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.136 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-12-01 09:48:46.142 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:48:46.148 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-12-01 09:48:46.150 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2023-12-01 09:48:46.151 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.244 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.251 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:48:46.300 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:48:46.301 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.304 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-01 09:48:46.313 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.314 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.315 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 09:48:46.315 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:48:46.316 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:48:46.316 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:48:46.321 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:48:46.328 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.329 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-12-01 09:48:46.330 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.331 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:48:46.333 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.334 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.396 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.397 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.397 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:48:46.398 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:48:46.399 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:48:46.399 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-01 09:48:46.400 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.400 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.400 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:48:46.402 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:48:46.403 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.403 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:48:46.404 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.473 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.473 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.474 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:48:46.475 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:48:46.476 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:48:46.477 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-12-01 09:48:46.478 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.478 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.479 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:48:46.480 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:48:46.481 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.481 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:48:46.482 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.482 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.483 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 09:48:46.483 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:48:46.484 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 09:48:46.484 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:48:46.485 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:48:46.486 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.486 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-01 09:48:46.487 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.487 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:48:46.497 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-01 09:48:46.500 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 09:48:46.502 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:48:46.503 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-01 09:48:46.552 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-01 09:48:46.605 +00:00 [DBG] Hosting starting
2023-12-01 09:48:46.622 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-01 09:48:46.622 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-01 09:48:46.631 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-01 09:48:46.632 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-01 09:48:46.634 +00:00 [INF] Creating key {a931138d-cfcb-41f7-825e-bbcb3521ad17} with creation date 2023-12-01 09:48:46Z, activation date 2023-12-01 09:48:46Z, and expiration date 2024-02-29 09:48:46Z.
2023-12-01 09:48:46.639 +00:00 [DBG] Descriptor deserializer type for key {a931138d-cfcb-41f7-825e-bbcb3521ad17} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-01 09:48:46.643 +00:00 [DBG] No key escrow sink found. Not writing key {a931138d-cfcb-41f7-825e-bbcb3521ad17} to escrow.
2023-12-01 09:48:46.643 +00:00 [WRN] No XML encryptor configured. Key {a931138d-cfcb-41f7-825e-bbcb3521ad17} may be persisted to storage in unencrypted form.
2023-12-01 09:48:46.644 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-01 09:48:46.646 +00:00 [DBG] Found key {a931138d-cfcb-41f7-825e-bbcb3521ad17}.
2023-12-01 09:48:46.652 +00:00 [DBG] Considering key {a931138d-cfcb-41f7-825e-bbcb3521ad17} with expiration date 2024-02-29 09:48:46Z as default key.
2023-12-01 09:48:46.656 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-01 09:48:46.658 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-01 09:48:46.660 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-01 09:48:46.663 +00:00 [DBG] Using key {a931138d-cfcb-41f7-825e-bbcb3521ad17} as the default key.
2023-12-01 09:48:46.664 +00:00 [DBG] Key ring with default key {a931138d-cfcb-41f7-825e-bbcb3521ad17} was loaded during application startup.
2023-12-01 09:48:46.777 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-01 09:48:46.903 +00:00 [INF] Now listening on: http://[::]:8080
2023-12-01 09:48:46.904 +00:00 [INF] Now listening on: https://[::]:8081
2023-12-01 09:48:46.904 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-01 09:48:46.905 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-01 09:48:46.905 +00:00 [INF] Hosting environment: Development
2023-12-01 09:48:46.906 +00:00 [INF] Content root path: /app
2023-12-01 09:48:46.906 +00:00 [DBG] Hosting started
2023-12-01 09:48:47.080 +00:00 [DBG] Connection id "0HMVIAARCE96U" accepted.
2023-12-01 09:48:47.082 +00:00 [DBG] Connection id "0HMVIAARCE96U" started.
2023-12-01 09:48:47.112 +00:00 [DBG] Connection 0HMVIAARCE96U established using the following protocol: "Tls13"
2023-12-01 09:48:47.162 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/index.html - null null
2023-12-01 09:48:47.165 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-01 09:48:47.187 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-01 09:48:47.188 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:48:47.280 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/index.html - 200 null text/html;charset=utf-8 118.8336ms
2023-12-01 09:48:47.501 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/v1/swagger.json - null null
2023-12-01 09:48:47.503 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-01 09:48:47.505 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:48:47.591 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.9589ms
2023-12-01 09:48:57.654 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54189/Cart - application/json 93
2023-12-01 09:48:57.680 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-01 09:48:57.683 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-01 09:48:57.694 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 09:48:57.697 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 09:48:57.741 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-01 09:48:57.743 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 09:48:57.776 +00:00 [INF] Route matched with {action = "Create", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.Carts.Create.CreateCartRequest, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-12-01 09:48:57.777 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 09:48:57.778 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 09:48:57.779 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 09:48:57.780 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 09:48:57.782 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 09:48:57.784 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 09:48:57.789 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Create (WebApi) in 3.4624ms
2023-12-01 09:48:57.790 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 09:48:57.792 +00:00 [ERR] HTTP POST /Cart responded 500 in 90.7987 ms
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'Web.API.Endpoints.CartController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-01 09:48:57.805 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'Web.API.Endpoints.CartController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-01 09:48:57.810 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54189/Cart - 500 null text/plain; charset=utf-8 156.1848ms
2023-12-01 09:48:57.812 +00:00 [DBG] Connection id "0HMVIAARCE96U", Request id "0HMVIAARCE96U:00000005": started reading request body.
2023-12-01 09:48:57.812 +00:00 [DBG] Connection id "0HMVIAARCE96U", Request id "0HMVIAARCE96U:00000005": done reading request body.
2023-12-01 09:52:50.988 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-01 09:52:51.461 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-01 09:52:51.462 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-01 09:52:51.552 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:52:51.553 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:52:51.555 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 09:52:51.673 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 09:52:51.684 +00:00 [DBG] Creating DbConnection.
2023-12-01 09:52:51.721 +00:00 [DBG] Created DbConnection. (34ms).
2023-12-01 09:52:51.728 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:51.874 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:51.876 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:51.886 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (6ms).
2023-12-01 09:52:51.892 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:52:51.898 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-12-01 09:52:51.900 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-12-01 09:52:51.900 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:51.998 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.004 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:52:52.055 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:52:52.056 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.058 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-01 09:52:52.067 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.068 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.069 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 09:52:52.070 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:52:52.070 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 09:52:52.071 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:52:52.076 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:52:52.082 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.085 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-12-01 09:52:52.085 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.086 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-01 09:52:52.089 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.090 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.155 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.156 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.156 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:52:52.157 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:52:52.158 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:52:52.158 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:52:52.159 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.160 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.160 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:52:52.162 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:52:52.162 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.163 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:52:52.163 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.235 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.235 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.236 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:52:52.236 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 09:52:52.237 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 09:52:52.238 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-01 09:52:52.239 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.239 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.241 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:52:52.242 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 09:52:52.243 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.243 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:52:52.244 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.245 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.245 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 09:52:52.246 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 09:52:52.246 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 09:52:52.247 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:52:52.248 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 09:52:52.249 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.250 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-01 09:52:52.250 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.251 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:52:52.261 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-01 09:52:52.263 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 09:52:52.265 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 09:52:52.266 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 09:52:52.304 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-01 09:52:52.357 +00:00 [DBG] Hosting starting
2023-12-01 09:52:52.375 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-01 09:52:52.375 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-01 09:52:52.383 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-01 09:52:52.384 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-01 09:52:52.387 +00:00 [INF] Creating key {7fef4d0c-0dfe-4d6a-a7ec-17004ae7ffc4} with creation date 2023-12-01 09:52:52Z, activation date 2023-12-01 09:52:52Z, and expiration date 2024-02-29 09:52:52Z.
2023-12-01 09:52:52.393 +00:00 [DBG] Descriptor deserializer type for key {7fef4d0c-0dfe-4d6a-a7ec-17004ae7ffc4} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-01 09:52:52.397 +00:00 [DBG] No key escrow sink found. Not writing key {7fef4d0c-0dfe-4d6a-a7ec-17004ae7ffc4} to escrow.
2023-12-01 09:52:52.397 +00:00 [WRN] No XML encryptor configured. Key {7fef4d0c-0dfe-4d6a-a7ec-17004ae7ffc4} may be persisted to storage in unencrypted form.
2023-12-01 09:52:52.398 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-01 09:52:52.399 +00:00 [DBG] Found key {7fef4d0c-0dfe-4d6a-a7ec-17004ae7ffc4}.
2023-12-01 09:52:52.407 +00:00 [DBG] Considering key {7fef4d0c-0dfe-4d6a-a7ec-17004ae7ffc4} with expiration date 2024-02-29 09:52:52Z as default key.
2023-12-01 09:52:52.412 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-01 09:52:52.414 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-01 09:52:52.414 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-01 09:52:52.418 +00:00 [DBG] Using key {7fef4d0c-0dfe-4d6a-a7ec-17004ae7ffc4} as the default key.
2023-12-01 09:52:52.419 +00:00 [DBG] Key ring with default key {7fef4d0c-0dfe-4d6a-a7ec-17004ae7ffc4} was loaded during application startup.
2023-12-01 09:52:52.529 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-01 09:52:52.649 +00:00 [INF] Now listening on: http://[::]:8080
2023-12-01 09:52:52.649 +00:00 [INF] Now listening on: https://[::]:8081
2023-12-01 09:52:52.650 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-01 09:52:52.651 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-01 09:52:52.651 +00:00 [INF] Hosting environment: Development
2023-12-01 09:52:52.652 +00:00 [INF] Content root path: /app
2023-12-01 09:52:52.652 +00:00 [DBG] Hosting started
2023-12-01 09:52:52.817 +00:00 [DBG] Connection id "0HMVIAD4JV63S" accepted.
2023-12-01 09:52:52.818 +00:00 [DBG] Connection id "0HMVIAD4JV63S" started.
2023-12-01 09:52:52.848 +00:00 [DBG] Connection 0HMVIAD4JV63S established using the following protocol: "Tls13"
2023-12-01 09:52:52.901 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/index.html - null null
2023-12-01 09:52:52.903 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-01 09:52:52.930 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-01 09:52:52.931 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:52:53.028 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/index.html - 200 null text/html;charset=utf-8 127.8926ms
2023-12-01 09:52:53.276 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54189/swagger/v1/swagger.json - null null
2023-12-01 09:52:53.278 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-01 09:52:53.279 +00:00 [DBG] Request did not match any endpoints
2023-12-01 09:52:53.364 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54189/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 87.1287ms
2023-12-01 10:29:34.426 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-01 10:29:35.287 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-01 10:29:35.288 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-01 10:29:35.382 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 10:29:35.383 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 10:29:35.384 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 10:29:35.504 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 10:29:35.516 +00:00 [DBG] Creating DbConnection.
2023-12-01 10:29:35.545 +00:00 [DBG] Created DbConnection. (28ms).
2023-12-01 10:29:35.551 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:35.836 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:35.838 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:35.845 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-12-01 10:29:35.853 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 10:29:35.859 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2023-12-01 10:29:35.861 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2023-12-01 10:29:35.861 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:35.968 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:35.974 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:29:36.021 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:29:36.023 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.026 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-01 10:29:36.035 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.036 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.036 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 10:29:36.037 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 10:29:36.038 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 10:29:36.039 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:29:36.045 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:29:36.051 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.053 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-12-01 10:29:36.053 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.054 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:29:36.056 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.056 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.119 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.119 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.120 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:29:36.120 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 10:29:36.121 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 10:29:36.121 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-01 10:29:36.122 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.122 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.123 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:29:36.125 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:29:36.125 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.126 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:29:36.127 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.191 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.191 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.192 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:29:36.192 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 10:29:36.193 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 10:29:36.193 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 10:29:36.194 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.194 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.195 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:29:36.196 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:29:36.197 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.198 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:29:36.199 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.200 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.201 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 10:29:36.201 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 10:29:36.202 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 10:29:36.203 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:29:36.204 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:29:36.205 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.206 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-01 10:29:36.206 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.207 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:29:36.216 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-01 10:29:36.218 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 10:29:36.220 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:29:36.221 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:29:36.257 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-01 10:29:36.309 +00:00 [DBG] Hosting starting
2023-12-01 10:29:36.321 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-01 10:29:36.322 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-01 10:29:36.329 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-01 10:29:36.329 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-01 10:29:36.334 +00:00 [INF] Creating key {30403d5d-1c7e-452d-b437-77209138fea1} with creation date 2023-12-01 10:29:36Z, activation date 2023-12-01 10:29:36Z, and expiration date 2024-02-29 10:29:36Z.
2023-12-01 10:29:36.341 +00:00 [DBG] Descriptor deserializer type for key {30403d5d-1c7e-452d-b437-77209138fea1} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-01 10:29:36.344 +00:00 [DBG] No key escrow sink found. Not writing key {30403d5d-1c7e-452d-b437-77209138fea1} to escrow.
2023-12-01 10:29:36.344 +00:00 [WRN] No XML encryptor configured. Key {30403d5d-1c7e-452d-b437-77209138fea1} may be persisted to storage in unencrypted form.
2023-12-01 10:29:36.345 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-01 10:29:36.346 +00:00 [DBG] Found key {30403d5d-1c7e-452d-b437-77209138fea1}.
2023-12-01 10:29:36.353 +00:00 [DBG] Considering key {30403d5d-1c7e-452d-b437-77209138fea1} with expiration date 2024-02-29 10:29:36Z as default key.
2023-12-01 10:29:36.356 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-01 10:29:36.358 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-01 10:29:36.359 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-01 10:29:36.361 +00:00 [DBG] Using key {30403d5d-1c7e-452d-b437-77209138fea1} as the default key.
2023-12-01 10:29:36.362 +00:00 [DBG] Key ring with default key {30403d5d-1c7e-452d-b437-77209138fea1} was loaded during application startup.
2023-12-01 10:29:36.475 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-01 10:29:36.609 +00:00 [INF] Now listening on: http://[::]:80
2023-12-01 10:29:36.609 +00:00 [INF] Now listening on: https://[::]:443
2023-12-01 10:29:36.609 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-01 10:29:36.610 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-01 10:29:36.611 +00:00 [INF] Hosting environment: Development
2023-12-01 10:29:36.611 +00:00 [INF] Content root path: /app
2023-12-01 10:29:36.611 +00:00 [DBG] Hosting started
2023-12-01 10:29:37.993 +00:00 [DBG] Connection id "0HMVIB1LQ5GB0" accepted.
2023-12-01 10:29:38.002 +00:00 [DBG] Connection id "0HMVIB1LQ5GB0" started.
2023-12-01 10:29:38.002 +00:00 [DBG] Connection id "0HMVIB1LQ5GB1" accepted.
2023-12-01 10:29:38.008 +00:00 [DBG] Connection id "0HMVIB1LQ5GB1" started.
2023-12-01 10:29:38.093 +00:00 [DBG] Connection 0HMVIB1LQ5GB0 established using the following protocol: "Tls13"
2023-12-01 10:29:38.093 +00:00 [DBG] Connection 0HMVIB1LQ5GB1 established using the following protocol: "Tls13"
2023-12-01 10:29:38.214 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62360/swagger - null null
2023-12-01 10:29:38.224 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-01 10:29:38.275 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-12-01 10:29:38.279 +00:00 [DBG] Request did not match any endpoints
2023-12-01 10:29:38.319 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62360/swagger - 301 0 null 105.6478ms
2023-12-01 10:29:38.365 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62360/swagger/index.html - null null
2023-12-01 10:29:38.368 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-01 10:29:38.369 +00:00 [DBG] Request did not match any endpoints
2023-12-01 10:29:38.480 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62360/swagger/index.html - 200 null text/html;charset=utf-8 114.5641ms
2023-12-01 10:29:38.524 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62360/swagger/swagger-ui.css - null null
2023-12-01 10:29:38.525 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62360/swagger/swagger-ui-standalone-preset.js - null null
2023-12-01 10:29:38.525 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-12-01 10:29:38.525 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62360/swagger/swagger-ui-bundle.js - null null
2023-12-01 10:29:38.529 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-12-01 10:29:38.534 +00:00 [DBG] Request did not match any endpoints
2023-12-01 10:29:38.535 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-12-01 10:29:38.536 +00:00 [DBG] Request did not match any endpoints
2023-12-01 10:29:38.546 +00:00 [DBG] Request did not match any endpoints
2023-12-01 10:29:38.699 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-12-01 10:29:38.710 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62360/swagger/swagger-ui.css - 200 144929 text/css 186.7023ms
2023-12-01 10:29:38.847 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-12-01 10:29:38.849 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62360/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 324.1912ms
2023-12-01 10:29:39.134 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-12-01 10:29:39.136 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62360/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 610.7783ms
2023-12-01 10:29:39.519 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62360/swagger/v1/swagger.json - null null
2023-12-01 10:29:39.520 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-01 10:29:39.520 +00:00 [DBG] Request did not match any endpoints
2023-12-01 10:29:39.521 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62360/swagger/favicon-32x32.png - null null
2023-12-01 10:29:39.522 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-12-01 10:29:39.523 +00:00 [DBG] Request did not match any endpoints
2023-12-01 10:29:39.524 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-12-01 10:29:39.524 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62360/swagger/favicon-32x32.png - 200 628 image/png 3.6656ms
2023-12-01 10:29:39.659 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62360/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 141.5259ms
2023-12-01 10:30:13.802 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62360/Cart - application/json 93
2023-12-01 10:30:13.829 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-01 10:30:13.829 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-01 10:30:13.840 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:30:13.841 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 10:30:13.880 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-01 10:30:13.884 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:30:13.916 +00:00 [INF] Route matched with {action = "Create", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.Carts.Create.CreateCartRequest, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-12-01 10:30:13.918 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 10:30:13.919 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 10:30:13.920 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:30:13.921 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 10:30:13.922 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:30:13.924 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 10:30:13.928 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Create (WebApi) in 3.9202ms
2023-12-01 10:30:13.929 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:30:13.931 +00:00 [ERR] HTTP POST /Cart responded 500 in 86.8768 ms
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'Web.API.Endpoints.CartController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-01 10:30:13.942 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'Web.API.Endpoints.CartController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-01 10:30:13.948 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62360/Cart - 500 null text/plain; charset=utf-8 145.3617ms
2023-12-01 10:30:13.950 +00:00 [DBG] Connection id "0HMVIB1LQ5GB0", Request id "0HMVIB1LQ5GB0:0000000F": started reading request body.
2023-12-01 10:30:13.951 +00:00 [DBG] Connection id "0HMVIB1LQ5GB0", Request id "0HMVIB1LQ5GB0:0000000F": done reading request body.
2023-12-01 10:30:43.832 +00:00 [DBG] Connection id "0HMVIB1LQ5GB1" received FIN.
2023-12-01 10:30:43.837 +00:00 [DBG] Connection id "0HMVIB1LQ5GB1" is closed. The last processed stream ID was 0.
2023-12-01 10:30:43.837 +00:00 [DBG] Connection id "0HMVIB1LQ5GB1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-01 10:30:43.838 +00:00 [DBG] The connection queue processing loop for 0HMVIB1LQ5GB1 completed.
2023-12-01 10:30:43.841 +00:00 [DBG] Connection id "0HMVIB1LQ5GB1" stopped.
2023-12-01 10:31:29.320 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-01 10:31:29.768 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-01 10:31:29.770 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-01 10:31:29.879 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 10:31:29.879 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 10:31:29.880 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 10:31:29.993 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 10:31:30.003 +00:00 [DBG] Creating DbConnection.
2023-12-01 10:31:30.032 +00:00 [DBG] Created DbConnection. (27ms).
2023-12-01 10:31:30.037 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.186 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.188 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.198 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (6ms).
2023-12-01 10:31:30.211 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 10:31:30.217 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2023-12-01 10:31:30.219 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (11ms).
2023-12-01 10:31:30.220 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.312 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.318 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:31:30.367 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:31:30.368 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.370 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-01 10:31:30.380 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.380 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.381 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 10:31:30.382 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-01 10:31:30.383 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 10:31:30.385 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:31:30.390 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:31:30.396 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.397 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-12-01 10:31:30.398 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.399 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:31:30.402 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.402 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.464 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.464 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.465 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:31:30.466 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 10:31:30.467 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 10:31:30.468 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-12-01 10:31:30.468 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.469 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.469 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:31:30.471 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:31:30.471 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.471 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:31:30.472 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.534 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.535 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.535 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:31:30.536 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 10:31:30.537 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 10:31:30.537 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-01 10:31:30.537 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.538 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.538 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:31:30.539 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:31:30.540 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.540 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:31:30.541 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.541 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.541 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 10:31:30.542 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 10:31:30.542 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-01 10:31:30.543 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:31:30.544 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:31:30.544 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.544 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-01 10:31:30.545 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.545 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:31:30.554 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-01 10:31:30.556 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 10:31:30.558 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:31:30.560 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:31:30.599 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-01 10:31:30.655 +00:00 [DBG] Hosting starting
2023-12-01 10:31:30.671 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-01 10:31:30.672 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-01 10:31:30.679 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-01 10:31:30.680 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-01 10:31:30.684 +00:00 [INF] Creating key {fb6e92f8-759b-477a-b5ea-1781d1f480ca} with creation date 2023-12-01 10:31:30Z, activation date 2023-12-01 10:31:30Z, and expiration date 2024-02-29 10:31:30Z.
2023-12-01 10:31:30.690 +00:00 [DBG] Descriptor deserializer type for key {fb6e92f8-759b-477a-b5ea-1781d1f480ca} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-01 10:31:30.693 +00:00 [DBG] No key escrow sink found. Not writing key {fb6e92f8-759b-477a-b5ea-1781d1f480ca} to escrow.
2023-12-01 10:31:30.694 +00:00 [WRN] No XML encryptor configured. Key {fb6e92f8-759b-477a-b5ea-1781d1f480ca} may be persisted to storage in unencrypted form.
2023-12-01 10:31:30.696 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-01 10:31:30.697 +00:00 [DBG] Found key {fb6e92f8-759b-477a-b5ea-1781d1f480ca}.
2023-12-01 10:31:30.703 +00:00 [DBG] Considering key {fb6e92f8-759b-477a-b5ea-1781d1f480ca} with expiration date 2024-02-29 10:31:30Z as default key.
2023-12-01 10:31:30.709 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-01 10:31:30.711 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-01 10:31:30.712 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-01 10:31:30.715 +00:00 [DBG] Using key {fb6e92f8-759b-477a-b5ea-1781d1f480ca} as the default key.
2023-12-01 10:31:30.717 +00:00 [DBG] Key ring with default key {fb6e92f8-759b-477a-b5ea-1781d1f480ca} was loaded during application startup.
2023-12-01 10:31:30.829 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-01 10:31:30.937 +00:00 [INF] Now listening on: http://[::]:80
2023-12-01 10:31:30.937 +00:00 [INF] Now listening on: https://[::]:443
2023-12-01 10:31:30.938 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-01 10:31:30.939 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-01 10:31:30.939 +00:00 [INF] Hosting environment: Development
2023-12-01 10:31:30.940 +00:00 [INF] Content root path: /app
2023-12-01 10:31:30.940 +00:00 [DBG] Hosting started
2023-12-01 10:31:31.103 +00:00 [DBG] Connection id "0HMVIB2NGS105" accepted.
2023-12-01 10:31:31.106 +00:00 [DBG] Connection id "0HMVIB2NGS105" started.
2023-12-01 10:31:31.140 +00:00 [DBG] Connection 0HMVIB2NGS105 established using the following protocol: "Tls13"
2023-12-01 10:31:31.202 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62360/swagger/index.html - null null
2023-12-01 10:31:31.204 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-01 10:31:31.230 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-01 10:31:31.231 +00:00 [DBG] Request did not match any endpoints
2023-12-01 10:31:31.322 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62360/swagger/index.html - 200 null text/html;charset=utf-8 121.6166ms
2023-12-01 10:31:31.669 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62360/swagger/v1/swagger.json - null null
2023-12-01 10:31:31.672 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-01 10:31:31.673 +00:00 [DBG] Request did not match any endpoints
2023-12-01 10:31:31.773 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62360/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 103.737ms
2023-12-01 10:31:43.037 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62360/Cart - application/json 93
2023-12-01 10:31:43.041 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-01 10:31:43.043 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-01 10:31:43.060 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:31:43.063 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 10:31:43.102 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-01 10:31:43.105 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:31:43.140 +00:00 [INF] Route matched with {action = "Create", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.Carts.Create.CreateCartRequest, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-12-01 10:31:43.142 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 10:31:43.143 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 10:31:43.145 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:31:43.146 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 10:31:43.146 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:31:43.148 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 10:31:43.154 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Create (WebApi) in 4.1805ms
2023-12-01 10:31:43.155 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:31:43.158 +00:00 [ERR] HTTP POST /Cart responded 500 in 91.4328 ms
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'Web.API.Endpoints.CartController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-01 10:31:43.170 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'AutoMapper.IMapper' while attempting to activate 'Web.API.Endpoints.CartController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method34(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-01 10:31:43.179 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62360/Cart - 500 null text/plain; charset=utf-8 144.2163ms
2023-12-01 10:31:43.204 +00:00 [DBG] Connection id "0HMVIB2NGS105", Request id "0HMVIB2NGS105:00000005": started reading request body.
2023-12-01 10:31:43.205 +00:00 [DBG] Connection id "0HMVIB2NGS105", Request id "0HMVIB2NGS105:00000005": done reading request body.
2023-12-01 10:32:15.210 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-01 10:32:15.648 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-01 10:32:15.649 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-01 10:32:15.733 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 10:32:15.733 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 10:32:15.733 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 10:32:15.843 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 10:32:15.852 +00:00 [DBG] Creating DbConnection.
2023-12-01 10:32:15.884 +00:00 [DBG] Created DbConnection. (30ms).
2023-12-01 10:32:15.889 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.032 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.034 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.041 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-12-01 10:32:16.048 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 10:32:16.054 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-12-01 10:32:16.055 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-12-01 10:32:16.056 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.140 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.146 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:32:16.195 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:32:16.196 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.198 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-01 10:32:16.206 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.207 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.208 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 10:32:16.208 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 10:32:16.208 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-01 10:32:16.209 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:32:16.214 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:32:16.219 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.221 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-12-01 10:32:16.221 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.222 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:32:16.224 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.225 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.273 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.273 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.274 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:32:16.275 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 10:32:16.275 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 10:32:16.275 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 10:32:16.276 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.276 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.277 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:32:16.278 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:32:16.279 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.279 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:32:16.280 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.334 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.335 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.335 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:32:16.336 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 10:32:16.338 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-12-01 10:32:16.338 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-01 10:32:16.339 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.340 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.340 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:32:16.342 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:32:16.342 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.343 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:32:16.343 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.344 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.344 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 10:32:16.345 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 10:32:16.345 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-01 10:32:16.346 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:32:16.347 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:32:16.348 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.348 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-01 10:32:16.348 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.349 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:32:16.360 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-01 10:32:16.362 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 10:32:16.364 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:32:16.365 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-01 10:32:16.431 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-01 10:32:16.492 +00:00 [DBG] Hosting starting
2023-12-01 10:32:16.507 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-01 10:32:16.508 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-01 10:32:16.515 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-01 10:32:16.515 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-01 10:32:16.518 +00:00 [INF] Creating key {62897a95-9fe3-48b2-a624-8c1caf4900c9} with creation date 2023-12-01 10:32:16Z, activation date 2023-12-01 10:32:16Z, and expiration date 2024-02-29 10:32:16Z.
2023-12-01 10:32:16.524 +00:00 [DBG] Descriptor deserializer type for key {62897a95-9fe3-48b2-a624-8c1caf4900c9} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-01 10:32:16.527 +00:00 [DBG] No key escrow sink found. Not writing key {62897a95-9fe3-48b2-a624-8c1caf4900c9} to escrow.
2023-12-01 10:32:16.527 +00:00 [WRN] No XML encryptor configured. Key {62897a95-9fe3-48b2-a624-8c1caf4900c9} may be persisted to storage in unencrypted form.
2023-12-01 10:32:16.528 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-01 10:32:16.529 +00:00 [DBG] Found key {62897a95-9fe3-48b2-a624-8c1caf4900c9}.
2023-12-01 10:32:16.535 +00:00 [DBG] Considering key {62897a95-9fe3-48b2-a624-8c1caf4900c9} with expiration date 2024-02-29 10:32:16Z as default key.
2023-12-01 10:32:16.540 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-01 10:32:16.542 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-01 10:32:16.543 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-01 10:32:16.546 +00:00 [DBG] Using key {62897a95-9fe3-48b2-a624-8c1caf4900c9} as the default key.
2023-12-01 10:32:16.547 +00:00 [DBG] Key ring with default key {62897a95-9fe3-48b2-a624-8c1caf4900c9} was loaded during application startup.
2023-12-01 10:32:16.658 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-01 10:32:16.767 +00:00 [INF] Now listening on: http://[::]:80
2023-12-01 10:32:16.767 +00:00 [INF] Now listening on: https://[::]:443
2023-12-01 10:32:16.767 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-01 10:32:16.768 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-01 10:32:16.768 +00:00 [INF] Hosting environment: Development
2023-12-01 10:32:16.769 +00:00 [INF] Content root path: /app
2023-12-01 10:32:16.769 +00:00 [DBG] Hosting started
2023-12-01 10:32:16.941 +00:00 [DBG] Connection id "0HMVIB3560L4I" accepted.
2023-12-01 10:32:16.948 +00:00 [DBG] Connection id "0HMVIB3560L4I" started.
2023-12-01 10:32:16.981 +00:00 [DBG] Connection 0HMVIB3560L4I established using the following protocol: "Tls13"
2023-12-01 10:32:17.028 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62360/swagger/index.html - null null
2023-12-01 10:32:17.031 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-01 10:32:17.054 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-01 10:32:17.055 +00:00 [DBG] Request did not match any endpoints
2023-12-01 10:32:17.146 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62360/swagger/index.html - 200 null text/html;charset=utf-8 119.362ms
2023-12-01 10:32:17.404 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62360/swagger/v1/swagger.json - null null
2023-12-01 10:32:17.407 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-01 10:32:17.408 +00:00 [DBG] Request did not match any endpoints
2023-12-01 10:32:17.499 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62360/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 95.49ms
2023-12-01 10:32:20.714 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62360/Cart - application/json 93
2023-12-01 10:32:20.718 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-01 10:32:20.719 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-01 10:32:20.730 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:32:20.732 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 10:32:20.769 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-01 10:32:20.771 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:32:20.793 +00:00 [INF] Route matched with {action = "Create", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.Carts.Create.CreateCartRequest, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-12-01 10:32:20.795 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 10:32:20.795 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 10:32:20.797 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:32:20.797 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 10:32:20.798 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:32:20.800 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 10:32:20.801 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 10:32:20.804 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' ...
2023-12-01 10:32:20.808 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' using the name '' in request data ...
2023-12-01 10:32:20.810 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-01 10:32:20.821 +00:00 [DBG] Connection id "0HMVIB3560L4I", Request id "0HMVIB3560L4I:00000005": started reading request body.
2023-12-01 10:32:20.822 +00:00 [DBG] Connection id "0HMVIB3560L4I", Request id "0HMVIB3560L4I:00000005": done reading request body.
2023-12-01 10:32:20.830 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Carts.Create.CreateCartRequest'
2023-12-01 10:32:20.831 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:32:20.831 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:32:20.832 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' ...
2023-12-01 10:32:20.839 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:32:20.841 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 10:32:20.843 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 10:32:20.843 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 10:32:20.845 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 10:32:26.871 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Create (WebApi) in 6071.0724ms
2023-12-01 10:32:26.872 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:32:26.874 +00:00 [ERR] HTTP POST /Cart responded 500 in 6139.7773 ms
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`1[Application.Carts.Create.CreateCartRequest]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.CartController.Create(CreateCartRequest command, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Carts.cs:line 24
   at lambda_method30(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-01 10:32:26.890 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No service for type 'MediatR.IRequestHandler`1[Application.Carts.Create.CreateCartRequest]' has been registered.
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.CartController.Create(CreateCartRequest command, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Carts.cs:line 24
   at lambda_method30(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-01 10:32:26.899 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62360/Cart - 500 null text/plain; charset=utf-8 6185.8777ms
2023-12-01 10:33:11.916 +00:00 [DBG] Connection id "0HMVIB3560L4I" received FIN.
2023-12-01 10:33:11.929 +00:00 [DBG] Connection id "0HMVIB3560L4I" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-01 10:33:11.929 +00:00 [DBG] Connection id "0HMVIB3560L4I" is closed. The last processed stream ID was 5.
2023-12-01 10:33:11.937 +00:00 [DBG] The connection queue processing loop for 0HMVIB3560L4I completed.
2023-12-01 10:33:11.941 +00:00 [DBG] Connection id "0HMVIB3560L4I" stopped.
2023-12-01 10:38:43.441 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-01 10:38:43.846 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-01 10:38:43.847 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-01 10:38:43.929 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 10:38:43.930 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 10:38:43.930 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-01 10:38:44.037 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 10:38:44.046 +00:00 [DBG] Creating DbConnection.
2023-12-01 10:38:44.073 +00:00 [DBG] Created DbConnection. (26ms).
2023-12-01 10:38:44.078 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.221 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.223 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.235 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (6ms).
2023-12-01 10:38:44.241 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 10:38:44.245 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-12-01 10:38:44.247 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-12-01 10:38:44.248 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.338 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.345 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:38:44.394 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:38:44.395 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.397 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-01 10:38:44.407 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.408 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.408 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 10:38:44.409 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 10:38:44.409 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 10:38:44.410 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:38:44.416 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:38:44.422 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.423 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-12-01 10:38:44.424 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.425 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:38:44.427 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.428 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.494 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.495 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.495 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:38:44.496 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 10:38:44.497 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 10:38:44.497 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-01 10:38:44.498 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.499 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.500 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:38:44.501 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:38:44.501 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.502 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:38:44.502 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.564 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.565 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.565 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:38:44.566 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-01 10:38:44.567 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-01 10:38:44.567 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-01 10:38:44.568 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.569 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.569 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:38:44.570 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-01 10:38:44.571 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.571 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:38:44.572 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.572 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.573 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 10:38:44.573 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 10:38:44.573 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-01 10:38:44.574 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:38:44.575 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-01 10:38:44.575 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.576 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-01 10:38:44.576 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.577 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:38:44.586 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-01 10:38:44.588 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 10:38:44.589 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:38:44.591 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:38:44.625 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-01 10:38:44.672 +00:00 [DBG] Hosting starting
2023-12-01 10:38:44.686 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-01 10:38:44.687 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-01 10:38:44.695 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-01 10:38:44.696 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-01 10:38:44.700 +00:00 [INF] Creating key {ab24676b-bb40-455f-9ad2-163c81372ef4} with creation date 2023-12-01 10:38:44Z, activation date 2023-12-01 10:38:44Z, and expiration date 2024-02-29 10:38:44Z.
2023-12-01 10:38:44.705 +00:00 [DBG] Descriptor deserializer type for key {ab24676b-bb40-455f-9ad2-163c81372ef4} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-01 10:38:44.708 +00:00 [DBG] No key escrow sink found. Not writing key {ab24676b-bb40-455f-9ad2-163c81372ef4} to escrow.
2023-12-01 10:38:44.709 +00:00 [WRN] No XML encryptor configured. Key {ab24676b-bb40-455f-9ad2-163c81372ef4} may be persisted to storage in unencrypted form.
2023-12-01 10:38:44.710 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-01 10:38:44.712 +00:00 [DBG] Found key {ab24676b-bb40-455f-9ad2-163c81372ef4}.
2023-12-01 10:38:44.718 +00:00 [DBG] Considering key {ab24676b-bb40-455f-9ad2-163c81372ef4} with expiration date 2024-02-29 10:38:44Z as default key.
2023-12-01 10:38:44.722 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-01 10:38:44.724 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-01 10:38:44.724 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-01 10:38:44.728 +00:00 [DBG] Using key {ab24676b-bb40-455f-9ad2-163c81372ef4} as the default key.
2023-12-01 10:38:44.729 +00:00 [DBG] Key ring with default key {ab24676b-bb40-455f-9ad2-163c81372ef4} was loaded during application startup.
2023-12-01 10:38:44.834 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-01 10:38:44.948 +00:00 [INF] Now listening on: http://[::]:80
2023-12-01 10:38:44.948 +00:00 [INF] Now listening on: https://[::]:443
2023-12-01 10:38:44.949 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-01 10:38:44.950 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-01 10:38:44.951 +00:00 [INF] Hosting environment: Development
2023-12-01 10:38:44.951 +00:00 [INF] Content root path: /app
2023-12-01 10:38:44.951 +00:00 [DBG] Hosting started
2023-12-01 10:38:45.139 +00:00 [DBG] Connection id "0HMVIB6OS4QCJ" accepted.
2023-12-01 10:38:45.142 +00:00 [DBG] Connection id "0HMVIB6OS4QCJ" started.
2023-12-01 10:38:45.181 +00:00 [DBG] Connection 0HMVIB6OS4QCJ established using the following protocol: "Tls13"
2023-12-01 10:38:45.244 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62360/swagger/index.html - null null
2023-12-01 10:38:45.246 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-01 10:38:45.271 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-01 10:38:45.273 +00:00 [DBG] Request did not match any endpoints
2023-12-01 10:38:45.378 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62360/swagger/index.html - 200 null text/html;charset=utf-8 134.6273ms
2023-12-01 10:38:45.607 +00:00 [INF] Request starting HTTP/2 GET https://localhost:62360/swagger/v1/swagger.json - null null
2023-12-01 10:38:45.609 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-01 10:38:45.610 +00:00 [DBG] Request did not match any endpoints
2023-12-01 10:38:45.701 +00:00 [INF] Request finished HTTP/2 GET https://localhost:62360/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.5545ms
2023-12-01 10:38:51.000 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62360/Cart - application/json 93
2023-12-01 10:38:51.005 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-01 10:38:51.006 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-01 10:38:51.017 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:38:51.020 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 10:38:51.057 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-01 10:38:51.059 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:38:51.077 +00:00 [INF] Route matched with {action = "Create", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.Carts.Create.CreateCartRequest, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-12-01 10:38:51.079 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 10:38:51.080 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 10:38:51.081 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:38:51.082 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 10:38:51.082 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:38:51.084 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 10:38:51.085 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 10:38:51.090 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' ...
2023-12-01 10:38:51.093 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' using the name '' in request data ...
2023-12-01 10:38:51.095 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-01 10:38:51.108 +00:00 [DBG] Connection id "0HMVIB6OS4QCJ", Request id "0HMVIB6OS4QCJ:00000005": started reading request body.
2023-12-01 10:38:51.109 +00:00 [DBG] Connection id "0HMVIB6OS4QCJ", Request id "0HMVIB6OS4QCJ:00000005": done reading request body.
2023-12-01 10:38:51.117 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Carts.Create.CreateCartRequest'
2023-12-01 10:38:51.118 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:38:51.119 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:38:51.120 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' ...
2023-12-01 10:38:51.126 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:38:51.128 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 10:38:51.130 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 10:38:51.130 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 10:38:51.132 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 10:38:51.165 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Create (WebApi) in 80.0345ms
2023-12-01 10:38:51.166 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:38:51.169 +00:00 [ERR] HTTP POST /Cart responded 500 in 145.0285 ms
System.ArgumentNullException: Value cannot be null. (Parameter 'g')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Guid..ctor(String g)
   at Web.API.Endpoints.CartController.Create(CreateCartRequest command, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Carts.cs:line 23
   at lambda_method30(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-01 10:38:51.183 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'g')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Guid..ctor(String g)
   at Web.API.Endpoints.CartController.Create(CreateCartRequest command, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Carts.cs:line 23
   at lambda_method30(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-01 10:38:51.191 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62360/Cart - 500 null text/plain; charset=utf-8 192.4171ms
2023-12-01 10:38:58.537 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62360/Cart - application/json 93
2023-12-01 10:38:58.539 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-01 10:38:58.540 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-01 10:38:58.541 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:38:58.542 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 10:38:58.544 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-01 10:38:58.544 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:38:58.545 +00:00 [INF] Route matched with {action = "Create", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.Carts.Create.CreateCartRequest, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-12-01 10:38:58.546 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 10:38:58.546 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 10:38:58.547 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:38:58.548 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 10:38:58.549 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:38:58.550 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 10:38:58.550 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 10:38:58.551 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' ...
2023-12-01 10:38:58.552 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' using the name '' in request data ...
2023-12-01 10:38:58.552 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-01 10:38:58.552 +00:00 [DBG] Connection id "0HMVIB6OS4QCJ", Request id "0HMVIB6OS4QCJ:00000007": started reading request body.
2023-12-01 10:38:58.553 +00:00 [DBG] Connection id "0HMVIB6OS4QCJ", Request id "0HMVIB6OS4QCJ:00000007": done reading request body.
2023-12-01 10:38:58.553 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Carts.Create.CreateCartRequest'
2023-12-01 10:38:58.554 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:38:58.554 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:38:58.554 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' ...
2023-12-01 10:38:58.555 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:38:58.556 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 10:38:58.558 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 10:38:58.559 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 10:38:58.559 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 10:39:06.452 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Create (WebApi) in 7901.9747ms
2023-12-01 10:39:06.452 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:39:06.453 +00:00 [ERR] HTTP POST /Cart responded 500 in 7910.5376 ms
System.ArgumentNullException: Value cannot be null. (Parameter 'g')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Guid..ctor(String g)
   at Web.API.Endpoints.CartController.Create(CreateCartRequest command, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Carts.cs:line 23
   at lambda_method30(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-01 10:39:06.454 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'g')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Guid..ctor(String g)
   at Web.API.Endpoints.CartController.Create(CreateCartRequest command, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Carts.cs:line 23
   at lambda_method30(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-01 10:39:06.457 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62360/Cart - 500 null text/plain; charset=utf-8 7920.6759ms
2023-12-01 10:39:22.314 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62360/api/Auth/login - application/json 64
2023-12-01 10:39:22.316 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-01 10:39:22.318 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-01 10:39:22.320 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-01 10:39:22.329 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 10:39:22.333 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-01 10:39:22.334 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-01 10:39:22.344 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-01 10:39:22.346 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 10:39:22.346 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 10:39:22.347 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:39:22.347 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 10:39:22.348 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:39:22.349 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-01 10:39:22.350 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-01 10:39:22.352 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-01 10:39:22.352 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-01 10:39:22.353 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-01 10:39:22.355 +00:00 [DBG] Connection id "0HMVIB6OS4QCJ", Request id "0HMVIB6OS4QCJ:00000009": started reading request body.
2023-12-01 10:39:22.355 +00:00 [DBG] Connection id "0HMVIB6OS4QCJ", Request id "0HMVIB6OS4QCJ:00000009": done reading request body.
2023-12-01 10:39:22.357 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-01 10:39:22.357 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-01 10:39:22.357 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-01 10:39:22.358 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-01 10:39:22.361 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-01 10:39:22.361 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 10:39:22.362 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 10:39:22.362 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 10:39:22.363 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 10:39:22.388 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 10:39:22.430 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-01 10:39:22.592 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-01 10:39:22.623 +00:00 [DBG] Creating DbConnection.
2023-12-01 10:39:22.623 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-01 10:39:22.625 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:39:22.627 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:39:22.627 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 10:39:22.627 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 10:39:22.631 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-01 10:39:22.635 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-01 10:39:22.692 +00:00 [INF] Executed DbCommand (60ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-01 10:39:22.721 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-01 10:39:22.749 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:39:22.750 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 57ms reading results.
2023-12-01 10:39:22.753 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:39:22.754 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:39:22.836 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-01 10:39:22.869 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-01 10:39:22.870 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:39:22.871 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:39:22.871 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 10:39:22.872 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 10:39:22.872 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 10:39:22.873 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-01 10:39:22.915 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-01 10:39:22.918 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:39:22.918 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-01 10:39:22.919 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:39:22.920 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:39:22.948 +00:00 [INF] Setting HTTP status code 200.
2023-12-01 10:39:22.952 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-01 10:39:22.957 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 607.8725ms
2023-12-01 10:39:22.958 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-01 10:39:22.961 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 630.4249 ms
2023-12-01 10:39:22.962 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 10:39:22.964 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:39:22.966 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-01 10:39:22.966 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62360/api/Auth/login - 200 null application/json; charset=utf-8 652.7791ms
2023-12-01 10:40:09.387 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62360/api/Auth/login - application/json 64
2023-12-01 10:40:09.388 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-01 10:40:09.390 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-01 10:40:09.399 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-01 10:40:09.400 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 10:40:09.476 +00:00 [DBG] Successfully validated the token.
2023-12-01 10:40:09.478 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-01 10:40:09.479 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-01 10:40:09.480 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-01 10:40:09.480 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 10:40:09.480 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 10:40:09.481 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:40:09.481 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 10:40:09.482 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:40:09.482 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-01 10:40:09.483 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-01 10:40:09.483 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-01 10:40:09.484 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-01 10:40:09.484 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-01 10:40:09.484 +00:00 [DBG] Connection id "0HMVIB6OS4QCJ", Request id "0HMVIB6OS4QCJ:0000000B": started reading request body.
2023-12-01 10:40:09.485 +00:00 [DBG] Connection id "0HMVIB6OS4QCJ", Request id "0HMVIB6OS4QCJ:0000000B": done reading request body.
2023-12-01 10:40:09.485 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-01 10:40:09.485 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-01 10:40:09.486 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-01 10:40:09.486 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-01 10:40:09.487 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-01 10:40:09.487 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 10:40:09.488 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 10:40:09.489 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 10:40:09.490 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 10:40:09.530 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-01 10:40:09.534 +00:00 [DBG] Creating DbConnection.
2023-12-01 10:40:09.535 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-01 10:40:09.535 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:40:09.535 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:40:09.536 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 10:40:09.536 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-01 10:40:09.538 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-01 10:40:09.539 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-01 10:40:09.587 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-01 10:40:09.661 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-01 10:40:09.661 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:40:09.662 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 50ms reading results.
2023-12-01 10:40:09.662 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:40:09.663 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:40:09.736 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:40:09.736 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:40:09.737 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-01 10:40:09.739 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-12-01 10:40:09.740 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-01 10:40:09.741 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-01 10:40:09.743 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-01 10:40:09.743 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:40:09.744 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-01 10:40:09.744 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:40:09.745 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:40:09.746 +00:00 [INF] Setting HTTP status code 200.
2023-12-01 10:40:09.748 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-01 10:40:09.749 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 266.8497ms
2023-12-01 10:40:09.749 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-01 10:40:09.750 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 348.6654 ms
2023-12-01 10:40:09.751 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-01 10:40:09.751 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-01 10:40:09.752 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-01 10:40:09.794 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62360/api/Auth/login - 200 null application/json; charset=utf-8 407.847ms
2023-12-01 10:40:14.718 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62360/Cart - application/json 93
2023-12-01 10:40:14.720 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-01 10:40:14.727 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-01 10:40:14.728 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:40:14.730 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 10:40:14.732 +00:00 [DBG] Successfully validated the token.
2023-12-01 10:40:14.733 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-01 10:40:14.735 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:40:14.735 +00:00 [INF] Route matched with {action = "Create", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.Carts.Create.CreateCartRequest, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-12-01 10:40:14.736 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 10:40:14.736 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 10:40:14.736 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:40:14.737 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 10:40:14.737 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:40:14.738 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 10:40:14.739 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 10:40:14.739 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' ...
2023-12-01 10:40:14.740 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' using the name '' in request data ...
2023-12-01 10:40:14.741 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-01 10:40:14.742 +00:00 [DBG] Connection id "0HMVIB6OS4QCJ", Request id "0HMVIB6OS4QCJ:0000000D": started reading request body.
2023-12-01 10:40:14.770 +00:00 [DBG] Connection id "0HMVIB6OS4QCJ", Request id "0HMVIB6OS4QCJ:0000000D": done reading request body.
2023-12-01 10:40:14.773 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Carts.Create.CreateCartRequest'
2023-12-01 10:40:14.775 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:40:14.776 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:40:14.777 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' ...
2023-12-01 10:40:14.778 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:40:14.780 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 10:40:14.781 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 10:40:14.781 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 10:40:14.781 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 10:40:19.802 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Create (WebApi) in 5064.4713ms
2023-12-01 10:40:19.803 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:40:19.803 +00:00 [ERR] HTTP POST /Cart responded 500 in 5072.0685 ms
System.ArgumentNullException: Value cannot be null. (Parameter 'g')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Guid..ctor(String g)
   at Web.API.Endpoints.CartController.Create(CreateCartRequest command, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Carts.cs:line 23
   at lambda_method30(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-01 10:40:19.805 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'g')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Guid..ctor(String g)
   at Web.API.Endpoints.CartController.Create(CreateCartRequest command, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Carts.cs:line 23
   at lambda_method30(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-01 10:40:19.808 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62360/Cart - 500 null text/plain; charset=utf-8 5089.8152ms
2023-12-01 10:40:24.122 +00:00 [INF] Request starting HTTP/2 POST https://localhost:62360/Cart - application/json 93
2023-12-01 10:40:24.123 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-01 10:40:24.123 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-01 10:40:24.124 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:40:24.124 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-01 10:40:24.125 +00:00 [DBG] Successfully validated the token.
2023-12-01 10:40:24.126 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-01 10:40:24.126 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:40:24.127 +00:00 [INF] Route matched with {action = "Create", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.Carts.Create.CreateCartRequest, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-12-01 10:40:24.128 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-01 10:40:24.129 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-01 10:40:24.130 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:40:24.130 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-01 10:40:24.131 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-01 10:40:24.132 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 10:40:24.133 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-01 10:40:24.134 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' ...
2023-12-01 10:40:24.134 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' using the name '' in request data ...
2023-12-01 10:40:24.134 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-01 10:40:24.135 +00:00 [DBG] Connection id "0HMVIB6OS4QCJ", Request id "0HMVIB6OS4QCJ:0000000F": started reading request body.
2023-12-01 10:40:24.135 +00:00 [DBG] Connection id "0HMVIB6OS4QCJ", Request id "0HMVIB6OS4QCJ:0000000F": done reading request body.
2023-12-01 10:40:24.136 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Carts.Create.CreateCartRequest'
2023-12-01 10:40:24.136 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:40:24.136 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:40:24.137 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' ...
2023-12-01 10:40:24.137 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-01 10:40:24.138 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 10:40:24.138 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 10:40:24.138 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-01 10:40:24.139 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-01 10:40:32.272 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Create (WebApi) in 8139.7949ms
2023-12-01 10:40:32.272 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-01 10:40:32.273 +00:00 [ERR] HTTP POST /Cart responded 500 in 8148.0412 ms
System.ArgumentNullException: Value cannot be null. (Parameter 'g')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Guid..ctor(String g)
   at Web.API.Endpoints.CartController.Create(CreateCartRequest command, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Carts.cs:line 23
   at lambda_method30(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-01 10:40:32.275 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'g')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Guid..ctor(String g)
   at Web.API.Endpoints.CartController.Create(CreateCartRequest command, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Carts.cs:line 23
   at lambda_method30(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-01 10:40:32.277 +00:00 [INF] Request finished HTTP/2 POST https://localhost:62360/Cart - 500 null text/plain; charset=utf-8 8155.1325ms
2023-12-03 08:16:36.064 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-03 08:16:37.408 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-03 08:16:37.411 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-03 08:16:37.606 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 08:16:37.607 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 08:16:37.608 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 08:16:37.872 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 08:16:37.894 +00:00 [DBG] Creating DbConnection.
2023-12-03 08:16:37.960 +00:00 [DBG] Created DbConnection. (62ms).
2023-12-03 08:16:37.972 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:38.676 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:38.683 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:38.701 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (11ms).
2023-12-03 08:16:38.721 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 08:16:38.736 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (16ms).
2023-12-03 08:16:38.738 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (22ms).
2023-12-03 08:16:38.740 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:38.944 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:38.953 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 08:16:39.167 +00:00 [INF] Executed DbCommand (190ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 08:16:39.169 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:39.173 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-12-03 08:16:39.178 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:39.182 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:39.867 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:39.869 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:39.870 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 08:16:39.880 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 08:16:39.881 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 08:16:39.883 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (3ms).
2023-12-03 08:16:39.884 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:39.887 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:39.888 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 08:16:39.892 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 08:16:39.894 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:39.895 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 08:16:39.901 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:40.597 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:40.599 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:40.601 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 08:16:40.825 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:40.826 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:40.827 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:40.827 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:40.828 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:40.829 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2023-12-03 08:16:41.031 +00:00 [INF] Executed DbCommand (202ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2023-12-03 08:16:41.034 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.035 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 08:16:41.037 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.311 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.312 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.315 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 08:16:41.316 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 08:16:41.316 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 08:16:41.317 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 08:16:41.318 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.319 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.320 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 08:16:41.326 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 08:16:41.328 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.331 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-12-03 08:16:41.339 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.339 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.340 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 08:16:41.341 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 08:16:41.342 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 08:16:41.343 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 08:16:41.357 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 08:16:41.361 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.363 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-03 08:16:41.364 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.366 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 08:16:41.395 +00:00 [INF] Applying migration '20231127072004_Initialize'.
2023-12-03 08:16:41.453 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.455 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.467 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-12-03 08:16:41.473 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-12-03 08:16:41.476 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:41.477 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:41.478 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-12-03 08:16:41.482 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    "Price_Currency" character varying(3) NOT NULL,
    "Price_Amount" numeric NOT NULL,
    "Sku" text NOT NULL,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id")
);
2023-12-03 08:16:41.537 +00:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" uuid NOT NULL,
    "Name" text NOT NULL,
    "Price_Currency" character varying(3) NOT NULL,
    "Price_Amount" numeric NOT NULL,
    "Sku" text NOT NULL,
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id")
);
2023-12-03 08:16:41.538 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:41.539 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:41.539 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:41.540 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231127072004_Initialize', '8.0.0');
2023-12-03 08:16:41.548 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231127072004_Initialize', '8.0.0');
2023-12-03 08:16:41.551 +00:00 [DBG] Committing transaction.
2023-12-03 08:16:41.560 +00:00 [DBG] Committed transaction.
2023-12-03 08:16:41.564 +00:00 [DBG] Disposing transaction.
2023-12-03 08:16:41.565 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.566 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 08:16:41.566 +00:00 [INF] Applying migration '20231127112243_AddUserTable'.
2023-12-03 08:16:41.579 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.580 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.581 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-12-03 08:16:41.582 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-12-03 08:16:41.583 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:41.583 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:41.584 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:41.585 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "Email" text NOT NULL,
    "Name" text NOT NULL,
    "Password" text NOT NULL,
    "Role" integer NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2023-12-03 08:16:41.653 +00:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "Id" uuid NOT NULL,
    "Email" text NOT NULL,
    "Name" text NOT NULL,
    "Password" text NOT NULL,
    "Role" integer NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("Id")
);
2023-12-03 08:16:41.653 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:41.654 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:41.655 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:41.656 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231127112243_AddUserTable', '8.0.0');
2023-12-03 08:16:41.658 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231127112243_AddUserTable', '8.0.0');
2023-12-03 08:16:41.659 +00:00 [DBG] Committing transaction.
2023-12-03 08:16:41.663 +00:00 [DBG] Committed transaction.
2023-12-03 08:16:41.664 +00:00 [DBG] Disposing transaction.
2023-12-03 08:16:41.665 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.666 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 08:16:41.667 +00:00 [INF] Applying migration '20231128042836_AddCartTable'.
2023-12-03 08:16:41.688 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.690 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.691 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-12-03 08:16:41.693 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-12-03 08:16:41.694 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:41.694 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:41.695 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:41.697 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Carts" (
    "UserId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "Quantity" numeric NOT NULL,
    CONSTRAINT "PK_Carts" PRIMARY KEY ("UserId", "ProductId")
);
2023-12-03 08:16:41.752 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Carts" (
    "UserId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "Quantity" numeric NOT NULL,
    CONSTRAINT "PK_Carts" PRIMARY KEY ("UserId", "ProductId")
);
2023-12-03 08:16:41.753 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:41.753 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:41.754 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:41.755 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231128042836_AddCartTable', '8.0.0');
2023-12-03 08:16:41.757 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231128042836_AddCartTable', '8.0.0');
2023-12-03 08:16:41.758 +00:00 [DBG] Committing transaction.
2023-12-03 08:16:41.761 +00:00 [DBG] Committed transaction.
2023-12-03 08:16:41.762 +00:00 [DBG] Disposing transaction.
2023-12-03 08:16:41.763 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.764 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 08:16:41.766 +00:00 [INF] Applying migration '20231129080623_AddPurchaseHistoryTable'.
2023-12-03 08:16:41.796 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.797 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.798 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-12-03 08:16:41.800 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-12-03 08:16:41.800 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:41.801 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:41.802 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-12-03 08:16:41.804 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PurchaseHistories" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "Amount_Currency" character varying(3) NOT NULL,
    "Amount_Amount" numeric NOT NULL,
    CONSTRAINT "PK_PurchaseHistories" PRIMARY KEY ("Id")
);
2023-12-03 08:16:41.867 +00:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PurchaseHistories" (
    "Id" uuid NOT NULL,
    "UserId" uuid NOT NULL,
    "Amount_Currency" character varying(3) NOT NULL,
    "Amount_Amount" numeric NOT NULL,
    CONSTRAINT "PK_PurchaseHistories" PRIMARY KEY ("Id")
);
2023-12-03 08:16:41.868 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:41.869 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:41.869 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:41.872 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PurchaseHistoryItems" (
    "Id" uuid NOT NULL,
    "PurchaseHistoryId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "Price_Currency" character varying(3) NOT NULL,
    "Price_Amount" numeric NOT NULL,
    "Quantity" numeric NOT NULL,
    CONSTRAINT "PK_PurchaseHistoryItems" PRIMARY KEY ("Id")
);
2023-12-03 08:16:41.925 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PurchaseHistoryItems" (
    "Id" uuid NOT NULL,
    "PurchaseHistoryId" uuid NOT NULL,
    "ProductId" uuid NOT NULL,
    "Price_Currency" character varying(3) NOT NULL,
    "Price_Amount" numeric NOT NULL,
    "Quantity" numeric NOT NULL,
    CONSTRAINT "PK_PurchaseHistoryItems" PRIMARY KEY ("Id")
);
2023-12-03 08:16:41.926 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:41.927 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:41.927 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:41.928 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231129080623_AddPurchaseHistoryTable', '8.0.0');
2023-12-03 08:16:41.932 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231129080623_AddPurchaseHistoryTable', '8.0.0');
2023-12-03 08:16:41.933 +00:00 [DBG] Committing transaction.
2023-12-03 08:16:41.939 +00:00 [DBG] Committed transaction.
2023-12-03 08:16:41.941 +00:00 [DBG] Disposing transaction.
2023-12-03 08:16:41.942 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:41.943 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 08:16:41.944 +00:00 [INF] Applying migration '20231130101822_InitAuth'.
2023-12-03 08:16:42.074 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:42.076 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:42.077 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-12-03 08:16:42.077 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-12-03 08:16:42.078 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.081 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-12-03 08:16:42.084 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2023-12-03 08:16:42.086 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2023-12-03 08:16:42.271 +00:00 [INF] Executed DbCommand (185ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoles" (
    "Id" text NOT NULL,
    "Name" character varying(256),
    "NormalizedName" character varying(256),
    "ConcurrencyStamp" text,
    CONSTRAINT "PK_AspNetRoles" PRIMARY KEY ("Id")
);
2023-12-03 08:16:42.272 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.272 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:42.273 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:42.274 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" text NOT NULL,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2023-12-03 08:16:42.316 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUsers" (
    "Id" text NOT NULL,
    "UserName" character varying(256),
    "NormalizedUserName" character varying(256),
    "Email" character varying(256),
    "NormalizedEmail" character varying(256),
    "EmailConfirmed" boolean NOT NULL,
    "PasswordHash" text,
    "SecurityStamp" text,
    "ConcurrencyStamp" text,
    "PhoneNumber" text,
    "PhoneNumberConfirmed" boolean NOT NULL,
    "TwoFactorEnabled" boolean NOT NULL,
    "LockoutEnd" timestamp with time zone,
    "LockoutEnabled" boolean NOT NULL,
    "AccessFailedCount" integer NOT NULL,
    CONSTRAINT "PK_AspNetUsers" PRIMARY KEY ("Id")
);
2023-12-03 08:16:42.316 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.317 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:42.318 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:42.318 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2023-12-03 08:16:42.401 +00:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetRoleClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetRoleClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetRoleClaims_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE
);
2023-12-03 08:16:42.402 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.403 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:42.418 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (16ms).
2023-12-03 08:16:42.425 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-12-03 08:16:42.546 +00:00 [INF] Executed DbCommand (121ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserClaims" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserId" text NOT NULL,
    "ClaimType" text,
    "ClaimValue" text,
    CONSTRAINT "PK_AspNetUserClaims" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_AspNetUserClaims_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-12-03 08:16:42.547 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.550 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-12-03 08:16:42.550 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2023-12-03 08:16:42.551 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-12-03 08:16:42.604 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserLogins" (
    "LoginProvider" text NOT NULL,
    "ProviderKey" text NOT NULL,
    "ProviderDisplayName" text,
    "UserId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserLogins" PRIMARY KEY ("LoginProvider", "ProviderKey"),
    CONSTRAINT "FK_AspNetUserLogins_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-12-03 08:16:42.605 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.607 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:42.608 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2023-12-03 08:16:42.609 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-12-03 08:16:42.663 +00:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserRoles" (
    "UserId" text NOT NULL,
    "RoleId" text NOT NULL,
    CONSTRAINT "PK_AspNetUserRoles" PRIMARY KEY ("UserId", "RoleId"),
    CONSTRAINT "FK_AspNetUserRoles_AspNetRoles_RoleId" FOREIGN KEY ("RoleId") REFERENCES "AspNetRoles" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_AspNetUserRoles_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-12-03 08:16:42.665 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.667 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-12-03 08:16:42.684 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (19ms).
2023-12-03 08:16:42.691 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-12-03 08:16:42.733 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "AspNetUserTokens" (
    "UserId" text NOT NULL,
    "LoginProvider" text NOT NULL,
    "Name" text NOT NULL,
    "Value" text,
    CONSTRAINT "PK_AspNetUserTokens" PRIMARY KEY ("UserId", "LoginProvider", "Name"),
    CONSTRAINT "FK_AspNetUserTokens_AspNetUsers_UserId" FOREIGN KEY ("UserId") REFERENCES "AspNetUsers" ("Id") ON DELETE CASCADE
);
2023-12-03 08:16:42.734 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.735 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:42.735 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:42.736 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2023-12-03 08:16:42.745 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetRoleClaims_RoleId" ON "AspNetRoleClaims" ("RoleId");
2023-12-03 08:16:42.746 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.748 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:42.748 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:42.749 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2023-12-03 08:16:42.760 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "RoleNameIndex" ON "AspNetRoles" ("NormalizedName");
2023-12-03 08:16:42.761 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.761 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:42.762 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:42.763 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2023-12-03 08:16:42.791 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserClaims_UserId" ON "AspNetUserClaims" ("UserId");
2023-12-03 08:16:42.792 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.792 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:42.793 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:42.793 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2023-12-03 08:16:42.812 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserLogins_UserId" ON "AspNetUserLogins" ("UserId");
2023-12-03 08:16:42.814 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.815 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:42.815 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:42.816 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2023-12-03 08:16:42.827 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_AspNetUserRoles_RoleId" ON "AspNetUserRoles" ("RoleId");
2023-12-03 08:16:42.833 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.834 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:42.836 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2023-12-03 08:16:42.838 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2023-12-03 08:16:42.859 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "EmailIndex" ON "AspNetUsers" ("NormalizedEmail");
2023-12-03 08:16:42.859 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.860 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:42.860 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:42.861 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2023-12-03 08:16:42.875 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "UserNameIndex" ON "AspNetUsers" ("NormalizedUserName");
2023-12-03 08:16:42.875 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-03 08:16:42.876 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-03 08:16:42.876 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-03 08:16:42.877 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231130101822_InitAuth', '8.0.0');
2023-12-03 08:16:42.878 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231130101822_InitAuth', '8.0.0');
2023-12-03 08:16:42.880 +00:00 [DBG] Committing transaction.
2023-12-03 08:16:42.885 +00:00 [DBG] Committed transaction.
2023-12-03 08:16:42.886 +00:00 [DBG] Disposing transaction.
2023-12-03 08:16:42.887 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:42.888 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 08:16:42.902 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 08:16:42.913 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:16:42.917 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-12-03 08:16:43.047 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-03 08:16:43.281 +00:00 [DBG] Hosting starting
2023-12-03 08:16:43.339 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-03 08:16:43.341 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-03 08:16:43.377 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-03 08:16:43.378 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-03 08:16:43.395 +00:00 [INF] Creating key {e7d638dc-0460-42df-acac-b6cd3644eda4} with creation date 2023-12-03 08:16:43Z, activation date 2023-12-03 08:16:43Z, and expiration date 2024-03-02 08:16:43Z.
2023-12-03 08:16:43.409 +00:00 [DBG] Descriptor deserializer type for key {e7d638dc-0460-42df-acac-b6cd3644eda4} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-03 08:16:43.417 +00:00 [DBG] No key escrow sink found. Not writing key {e7d638dc-0460-42df-acac-b6cd3644eda4} to escrow.
2023-12-03 08:16:43.420 +00:00 [WRN] No XML encryptor configured. Key {e7d638dc-0460-42df-acac-b6cd3644eda4} may be persisted to storage in unencrypted form.
2023-12-03 08:16:43.430 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-03 08:16:43.434 +00:00 [DBG] Found key {e7d638dc-0460-42df-acac-b6cd3644eda4}.
2023-12-03 08:16:43.458 +00:00 [DBG] Considering key {e7d638dc-0460-42df-acac-b6cd3644eda4} with expiration date 2024-03-02 08:16:43Z as default key.
2023-12-03 08:16:43.476 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-03 08:16:43.479 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-03 08:16:43.487 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-03 08:16:43.497 +00:00 [DBG] Using key {e7d638dc-0460-42df-acac-b6cd3644eda4} as the default key.
2023-12-03 08:16:43.499 +00:00 [DBG] Key ring with default key {e7d638dc-0460-42df-acac-b6cd3644eda4} was loaded during application startup.
2023-12-03 08:16:44.031 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BE2CD7E804037B286FD89483D53ADEA9C0025E51)
2023-12-03 08:16:44.809 +00:00 [INF] Now listening on: http://[::]:80
2023-12-03 08:16:44.810 +00:00 [INF] Now listening on: https://[::]:443
2023-12-03 08:16:44.811 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-03 08:16:44.812 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-03 08:16:44.814 +00:00 [INF] Hosting environment: Development
2023-12-03 08:16:44.815 +00:00 [INF] Content root path: /app
2023-12-03 08:16:44.816 +00:00 [DBG] Hosting started
2023-12-03 08:16:51.158 +00:00 [DBG] Connection id "0HMVJR0PTL3LK" accepted.
2023-12-03 08:16:51.167 +00:00 [DBG] Connection id "0HMVJR0PTL3LK" started.
2023-12-03 08:16:51.168 +00:00 [DBG] Connection id "0HMVJR0PTL3LL" accepted.
2023-12-03 08:16:51.199 +00:00 [DBG] Connection id "0HMVJR0PTL3LL" started.
2023-12-03 08:16:51.260 +00:00 [DBG] Connection 0HMVJR0PTL3LK established using the following protocol: "Tls13"
2023-12-03 08:16:51.260 +00:00 [DBG] Connection 0HMVJR0PTL3LL established using the following protocol: "Tls13"
2023-12-03 08:16:51.392 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger - null null
2023-12-03 08:16:51.395 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-03 08:16:51.438 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-12-03 08:16:51.440 +00:00 [DBG] Request did not match any endpoints
2023-12-03 08:16:51.488 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger - 301 0 null 97.7539ms
2023-12-03 08:16:51.526 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/index.html - null null
2023-12-03 08:16:51.528 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-03 08:16:51.529 +00:00 [DBG] Request did not match any endpoints
2023-12-03 08:16:51.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/index.html - 200 null text/html;charset=utf-8 154.0746ms
2023-12-03 08:16:51.716 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/swagger-ui.css - null null
2023-12-03 08:16:51.720 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-12-03 08:16:51.719 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/swagger-ui-bundle.js - null null
2023-12-03 08:16:51.719 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/swagger-ui-standalone-preset.js - null null
2023-12-03 08:16:51.727 +00:00 [DBG] Request did not match any endpoints
2023-12-03 08:16:51.729 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-12-03 08:16:51.731 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-12-03 08:16:51.734 +00:00 [DBG] Request did not match any endpoints
2023-12-03 08:16:51.736 +00:00 [DBG] Request did not match any endpoints
2023-12-03 08:16:51.868 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-12-03 08:16:51.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/swagger-ui.css - 200 144929 text/css 153.536ms
2023-12-03 08:16:51.983 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-12-03 08:16:51.984 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 265.0519ms
2023-12-03 08:16:52.046 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-12-03 08:16:52.048 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 329.2162ms
2023-12-03 08:16:52.470 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - null null
2023-12-03 08:16:52.473 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-03 08:16:52.476 +00:00 [DBG] Request did not match any endpoints
2023-12-03 08:16:52.494 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/favicon-32x32.png - null null
2023-12-03 08:16:52.497 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-12-03 08:16:52.498 +00:00 [DBG] Request did not match any endpoints
2023-12-03 08:16:52.501 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-12-03 08:16:52.502 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/favicon-32x32.png - 200 628 image/png 7.7501ms
2023-12-03 08:16:52.675 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 205.1515ms
2023-12-03 08:18:13.380 +00:00 [DBG] Connection id "0HMVJR0PTL3LL" received FIN.
2023-12-03 08:18:13.389 +00:00 [DBG] Connection id "0HMVJR0PTL3LL" is closed. The last processed stream ID was 0.
2023-12-03 08:18:13.389 +00:00 [DBG] The connection queue processing loop for 0HMVJR0PTL3LL completed.
2023-12-03 08:18:13.390 +00:00 [DBG] Connection id "0HMVJR0PTL3LL" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-03 08:18:13.399 +00:00 [DBG] Connection id "0HMVJR0PTL3LL" stopped.
2023-12-03 08:59:49.005 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-03 08:59:49.846 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-03 08:59:49.849 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-03 08:59:50.030 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 08:59:50.030 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 08:59:50.031 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 08:59:50.252 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 08:59:50.271 +00:00 [DBG] Creating DbConnection.
2023-12-03 08:59:50.331 +00:00 [DBG] Created DbConnection. (58ms).
2023-12-03 08:59:50.339 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:50.597 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:50.600 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:50.619 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (11ms).
2023-12-03 08:59:50.628 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 08:59:50.638 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2023-12-03 08:59:50.640 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (14ms).
2023-12-03 08:59:50.641 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:50.786 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:50.794 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 08:59:50.898 +00:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 08:59:50.902 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:50.905 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-12-03 08:59:50.924 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:50.926 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:50.927 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 08:59:50.929 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 08:59:50.930 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 08:59:50.931 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 08:59:50.938 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 08:59:50.949 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:50.952 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 10ms reading results.
2023-12-03 08:59:50.952 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:50.953 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 08:59:50.956 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:50.958 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.057 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.058 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.059 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 08:59:51.061 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 08:59:51.062 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 08:59:51.063 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-12-03 08:59:51.064 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.065 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.065 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 08:59:51.068 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 08:59:51.069 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.070 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 08:59:51.071 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.178 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.179 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.180 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 08:59:51.181 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 08:59:51.181 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 08:59:51.182 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 08:59:51.183 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.184 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.185 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 08:59:51.188 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 08:59:51.189 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.189 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 08:59:51.190 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.191 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.192 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 08:59:51.194 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 08:59:51.194 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 08:59:51.195 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 08:59:51.197 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 08:59:51.198 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.198 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-03 08:59:51.199 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.200 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 08:59:51.217 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-03 08:59:51.220 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 08:59:51.224 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 08:59:51.226 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 08:59:51.290 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-03 08:59:51.404 +00:00 [DBG] Hosting starting
2023-12-03 08:59:51.432 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-03 08:59:51.433 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-03 08:59:51.455 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-03 08:59:51.458 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-03 08:59:51.468 +00:00 [INF] Creating key {f51fcaef-f9e1-43af-aa0c-a69c45a06a55} with creation date 2023-12-03 08:59:51Z, activation date 2023-12-03 08:59:51Z, and expiration date 2024-03-02 08:59:51Z.
2023-12-03 08:59:51.485 +00:00 [DBG] Descriptor deserializer type for key {f51fcaef-f9e1-43af-aa0c-a69c45a06a55} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-03 08:59:51.492 +00:00 [DBG] No key escrow sink found. Not writing key {f51fcaef-f9e1-43af-aa0c-a69c45a06a55} to escrow.
2023-12-03 08:59:51.494 +00:00 [WRN] No XML encryptor configured. Key {f51fcaef-f9e1-43af-aa0c-a69c45a06a55} may be persisted to storage in unencrypted form.
2023-12-03 08:59:51.497 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-03 08:59:51.501 +00:00 [DBG] Found key {f51fcaef-f9e1-43af-aa0c-a69c45a06a55}.
2023-12-03 08:59:51.520 +00:00 [DBG] Considering key {f51fcaef-f9e1-43af-aa0c-a69c45a06a55} with expiration date 2024-03-02 08:59:51Z as default key.
2023-12-03 08:59:51.533 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-03 08:59:51.536 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-03 08:59:51.537 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-03 08:59:51.544 +00:00 [DBG] Using key {f51fcaef-f9e1-43af-aa0c-a69c45a06a55} as the default key.
2023-12-03 08:59:51.547 +00:00 [DBG] Key ring with default key {f51fcaef-f9e1-43af-aa0c-a69c45a06a55} was loaded during application startup.
2023-12-03 08:59:51.782 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BE2CD7E804037B286FD89483D53ADEA9C0025E51)
2023-12-03 08:59:52.111 +00:00 [INF] Now listening on: http://[::]:80
2023-12-03 08:59:52.112 +00:00 [INF] Now listening on: https://[::]:443
2023-12-03 08:59:52.113 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-03 08:59:52.115 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-03 08:59:52.116 +00:00 [INF] Hosting environment: Development
2023-12-03 08:59:52.119 +00:00 [INF] Content root path: /app
2023-12-03 08:59:52.119 +00:00 [DBG] Hosting started
2023-12-03 08:59:52.346 +00:00 [DBG] Connection id "0HMVJROR5RBTJ" accepted.
2023-12-03 08:59:52.349 +00:00 [DBG] Connection id "0HMVJROR5RBTJ" started.
2023-12-03 08:59:52.426 +00:00 [DBG] Connection 0HMVJROR5RBTJ established using the following protocol: "Tls13"
2023-12-03 08:59:52.530 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/index.html - null null
2023-12-03 08:59:52.535 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-03 08:59:52.577 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-03 08:59:52.578 +00:00 [DBG] Request did not match any endpoints
2023-12-03 08:59:52.744 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/index.html - 200 null text/html;charset=utf-8 216.1179ms
2023-12-03 08:59:53.387 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - null null
2023-12-03 08:59:53.390 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-03 08:59:53.391 +00:00 [DBG] Request did not match any endpoints
2023-12-03 08:59:53.553 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 166.1575ms
2023-12-03 09:00:05.877 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 64
2023-12-03 09:00:05.888 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:00:05.891 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:00:05.910 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:00:05.913 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:00:05.975 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 09:00:05.981 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:00:06.016 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:00:06.019 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:00:06.020 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:00:06.021 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:00:06.022 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:00:06.024 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:00:06.027 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:00:06.028 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:00:06.035 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:00:06.040 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:00:06.043 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:00:06.053 +00:00 [DBG] Connection id "0HMVJROR5RBTJ", Request id "0HMVJROR5RBTJ:00000005": started reading request body.
2023-12-03 09:00:06.055 +00:00 [DBG] Connection id "0HMVJROR5RBTJ", Request id "0HMVJROR5RBTJ:00000005": done reading request body.
2023-12-03 09:00:06.063 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:00:06.064 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:00:06.065 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:00:06.066 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:00:06.079 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:00:06.082 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:00:06.084 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:00:06.086 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:00:06.088 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:00:06.125 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:00:06.211 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-03 09:00:06.547 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 09:00:06.658 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:00:06.665 +00:00 [DBG] Created DbConnection. (7ms).
2023-12-03 09:00:06.669 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:06.672 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:06.673 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:00:06.674 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:00:06.680 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-12-03 09:00:06.685 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:00:06.735 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:00:06.746 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:06.748 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 12ms reading results.
2023-12-03 09:00:06.754 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:06.779 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (24ms).
2023-12-03 09:00:06.872 +00:00 [INF] Setting HTTP status code 401.
2023-12-03 09:00:06.882 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 849.8364ms
2023-12-03 09:00:06.886 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:00:06.891 +00:00 [INF] HTTP POST /api/Auth/login responded 401 in 973.5832 ms
2023-12-03 09:00:06.899 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:00:06.904 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:06.906 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 09:00:06.907 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 401 0 null 1030.0806ms
2023-12-03 09:00:27.671 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/register - application/json 83
2023-12-03 09:00:27.684 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register'
2023-12-03 09:00:27.685 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Register (WebApi)' with route pattern 'api/Auth/register' is valid for the request path '/api/Auth/register'
2023-12-03 09:00:27.686 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-12-03 09:00:27.687 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:00:27.690 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 09:00:27.691 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-12-03 09:00:27.697 +00:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Register(Application.Authentication.Register.RegisterCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:00:27.699 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:00:27.700 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:00:27.701 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:00:27.702 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:00:27.703 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:00:27.704 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:00:27.706 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:00:27.708 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-03 09:00:27.709 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' using the name '' in request data ...
2023-12-03 09:00:27.710 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:00:27.712 +00:00 [DBG] Connection id "0HMVJROR5RBTJ", Request id "0HMVJROR5RBTJ:00000007": started reading request body.
2023-12-03 09:00:27.712 +00:00 [DBG] Connection id "0HMVJROR5RBTJ", Request id "0HMVJROR5RBTJ:00000007": done reading request body.
2023-12-03 09:00:27.714 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Register.RegisterCommand'
2023-12-03 09:00:27.716 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-03 09:00:27.716 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-03 09:00:27.717 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-03 09:00:27.721 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-03 09:00:27.721 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:00:27.724 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:00:27.725 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:00:27.727 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:00:27.805 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:00:27.810 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-12-03 09:00:27.823 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 09:00:27.825 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:00:27.827 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-03 09:00:27.827 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:27.828 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:27.829 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:00:27.830 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:00:27.833 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-12-03 09:00:27.834 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-03 09:00:27.858 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-03 09:00:27.860 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:27.861 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-03 09:00:27.861 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:27.862 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:00:28.021 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:28.022 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:28.024 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:00:28.025 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:00:28.026 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 09:00:28.027 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-03 09:00:28.031 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-03 09:00:28.033 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:28.034 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-03 09:00:28.035 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:28.036 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:00:28.162 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:00:28.169 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-03 09:00:28.195 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-03 09:00:28.205 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-12-03 09:00:28.208 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-03 09:00:28.209 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-03 09:00:28.302 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:28.302 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:28.306 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:00:28.308 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:00:28.309 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 09:00:28.310 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-12-03 09:00:28.331 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-12-03 09:00:28.338 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:28.341 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 8ms reading results.
2023-12-03 09:00:28.343 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:28.343 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:00:28.382 +00:00 [DBG] An entity of type 'BaseAuthentication' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:00:28.385 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-12-03 09:00:28.398 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:00:28.399 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Register (WebApi) in 694.7148ms
2023-12-03 09:00:28.401 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Register (WebApi)'
2023-12-03 09:00:28.402 +00:00 [INF] HTTP POST /api/Auth/register responded 200 in 714.1515 ms
2023-12-03 09:00:28.404 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:00:28.405 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:28.408 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-12-03 09:00:28.410 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/register - 200 0 null 739.8752ms
2023-12-03 09:00:33.525 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 64
2023-12-03 09:00:33.526 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:00:33.527 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:00:33.528 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:00:33.529 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:00:33.534 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 09:00:33.534 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:00:33.536 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:00:33.536 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:00:33.537 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:00:33.538 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:00:33.539 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:00:33.541 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:00:33.542 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:00:33.543 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:00:33.544 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:00:33.545 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:00:33.546 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:00:33.547 +00:00 [DBG] Connection id "0HMVJROR5RBTJ", Request id "0HMVJROR5RBTJ:00000009": started reading request body.
2023-12-03 09:00:33.570 +00:00 [DBG] Connection id "0HMVJROR5RBTJ", Request id "0HMVJROR5RBTJ:00000009": done reading request body.
2023-12-03 09:00:33.575 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:00:33.576 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:00:33.578 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:00:33.578 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:00:33.579 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:00:33.581 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:00:33.583 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:00:33.584 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:00:33.585 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:00:33.589 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:00:33.592 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:00:33.596 +00:00 [DBG] Created DbConnection. (4ms).
2023-12-03 09:00:33.597 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:33.598 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:33.598 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:00:33.600 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:00:33.600 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:00:33.602 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:00:33.648 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:00:33.699 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:00:33.701 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:33.701 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 51ms reading results.
2023-12-03 09:00:33.702 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:33.703 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:00:33.841 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-03 09:00:33.927 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-03 09:00:33.930 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:33.931 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:33.933 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:00:33.934 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:00:33.934 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:00:33.935 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:00:33.961 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:00:33.965 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:33.967 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-12-03 09:00:33.968 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:33.970 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:00:34.023 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:00:34.031 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-03 09:00:34.039 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 496.7624ms
2023-12-03 09:00:34.039 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:00:34.041 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 510.3354 ms
2023-12-03 09:00:34.042 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:00:34.045 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:00:34.046 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:00:34.048 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 200 null application/json; charset=utf-8 522.7511ms
2023-12-03 09:02:31.696 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-03 09:02:32.552 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-03 09:02:32.555 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-03 09:02:32.737 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:02:32.738 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:02:32.739 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:02:33.001 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:02:33.018 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:02:33.072 +00:00 [DBG] Created DbConnection. (53ms).
2023-12-03 09:02:33.081 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.353 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.356 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.370 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (9ms).
2023-12-03 09:02:33.383 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:02:33.393 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (9ms).
2023-12-03 09:02:33.396 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (16ms).
2023-12-03 09:02:33.397 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.528 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.536 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:02:33.635 +00:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:02:33.638 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.642 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-12-03 09:02:33.657 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.659 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.660 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:02:33.661 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:02:33.662 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 09:02:33.663 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:02:33.669 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:02:33.677 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.680 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 8ms reading results.
2023-12-03 09:02:33.680 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.682 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:02:33.686 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.687 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.785 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.786 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.787 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:02:33.788 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:02:33.789 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 09:02:33.790 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:02:33.791 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.792 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.793 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:02:33.795 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:02:33.796 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.797 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:02:33.798 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.886 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.887 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.888 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:02:33.889 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:02:33.890 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:02:33.892 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-12-03 09:02:33.893 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.894 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.895 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:02:33.897 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:02:33.898 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.899 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:02:33.901 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.902 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.903 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:02:33.904 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:02:33.905 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:02:33.906 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:02:33.908 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:02:33.909 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.910 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-03 09:02:33.912 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.912 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:02:33.926 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-03 09:02:33.930 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:02:33.933 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:02:33.935 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:02:33.998 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-03 09:02:34.078 +00:00 [DBG] Hosting starting
2023-12-03 09:02:34.103 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-03 09:02:34.104 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-03 09:02:34.122 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-03 09:02:34.123 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-03 09:02:34.128 +00:00 [INF] Creating key {b72e6540-e962-4a1d-bd8c-f9d3384b8faf} with creation date 2023-12-03 09:02:34Z, activation date 2023-12-03 09:02:34Z, and expiration date 2024-03-02 09:02:34Z.
2023-12-03 09:02:34.137 +00:00 [DBG] Descriptor deserializer type for key {b72e6540-e962-4a1d-bd8c-f9d3384b8faf} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-03 09:02:34.144 +00:00 [DBG] No key escrow sink found. Not writing key {b72e6540-e962-4a1d-bd8c-f9d3384b8faf} to escrow.
2023-12-03 09:02:34.145 +00:00 [WRN] No XML encryptor configured. Key {b72e6540-e962-4a1d-bd8c-f9d3384b8faf} may be persisted to storage in unencrypted form.
2023-12-03 09:02:34.146 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-03 09:02:34.148 +00:00 [DBG] Found key {b72e6540-e962-4a1d-bd8c-f9d3384b8faf}.
2023-12-03 09:02:34.160 +00:00 [DBG] Considering key {b72e6540-e962-4a1d-bd8c-f9d3384b8faf} with expiration date 2024-03-02 09:02:34Z as default key.
2023-12-03 09:02:34.168 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-03 09:02:34.171 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-03 09:02:34.171 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-03 09:02:34.176 +00:00 [DBG] Using key {b72e6540-e962-4a1d-bd8c-f9d3384b8faf} as the default key.
2023-12-03 09:02:34.178 +00:00 [DBG] Key ring with default key {b72e6540-e962-4a1d-bd8c-f9d3384b8faf} was loaded during application startup.
2023-12-03 09:02:34.357 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BE2CD7E804037B286FD89483D53ADEA9C0025E51)
2023-12-03 09:02:34.594 +00:00 [INF] Now listening on: http://[::]:80
2023-12-03 09:02:34.595 +00:00 [INF] Now listening on: https://[::]:443
2023-12-03 09:02:34.596 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-03 09:02:34.597 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-03 09:02:34.598 +00:00 [INF] Hosting environment: Development
2023-12-03 09:02:34.599 +00:00 [INF] Content root path: /app
2023-12-03 09:02:34.600 +00:00 [DBG] Hosting started
2023-12-03 09:02:34.863 +00:00 [DBG] Connection id "0HMVJRQBJNQSV" accepted.
2023-12-03 09:02:34.866 +00:00 [DBG] Connection id "0HMVJRQBJNQSV" started.
2023-12-03 09:02:34.918 +00:00 [DBG] Connection 0HMVJRQBJNQSV established using the following protocol: "Tls13"
2023-12-03 09:02:35.012 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/index.html - null null
2023-12-03 09:02:35.015 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-03 09:02:35.046 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-03 09:02:35.047 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:02:35.221 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/index.html - 200 null text/html;charset=utf-8 212.2801ms
2023-12-03 09:02:35.657 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - null null
2023-12-03 09:02:35.661 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-03 09:02:35.663 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:02:35.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 184.7757ms
2023-12-03 09:03:05.642 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 64
2023-12-03 09:03:05.661 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:03:05.662 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:03:05.685 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:03:05.690 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:03:05.757 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 09:03:05.761 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:03:05.794 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:03:05.797 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:03:05.798 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:03:05.800 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:03:05.801 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:03:05.802 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:03:05.805 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:03:05.806 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:03:05.812 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:03:05.816 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:03:05.820 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:03:05.829 +00:00 [DBG] Connection id "0HMVJRQBJNQSV", Request id "0HMVJRQBJNQSV:00000005": started reading request body.
2023-12-03 09:03:05.830 +00:00 [DBG] Connection id "0HMVJRQBJNQSV", Request id "0HMVJRQBJNQSV:00000005": done reading request body.
2023-12-03 09:03:05.837 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:03:05.838 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:03:05.840 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:03:05.842 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:03:05.857 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:03:05.861 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:03:05.863 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:03:05.864 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:03:05.867 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:03:05.913 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:03:05.993 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-03 09:03:06.299 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 09:03:06.368 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:03:06.369 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-03 09:03:06.373 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:03:06.377 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:03:06.377 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:03:06.378 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:03:06.385 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-12-03 09:03:06.389 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:03:06.419 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:03:06.499 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:03:06.562 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:03:06.563 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 142ms reading results.
2023-12-03 09:03:06.568 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:03:06.569 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:03:06.705 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-03 09:03:06.787 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-03 09:03:06.790 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:03:06.792 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:03:06.793 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:03:06.794 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:03:06.795 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:03:06.796 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:03:06.809 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:03:06.811 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:03:06.812 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-03 09:03:06.813 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:03:06.814 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:04:59.403 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:04:59.412 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-03 09:04:59.429 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 113620.0102ms
2023-12-03 09:04:59.431 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:04:59.436 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 113743.4034 ms
2023-12-03 09:04:59.441 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:04:59.447 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:04:59.449 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 09:04:59.451 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 200 null application/json; charset=utf-8 113810.3042ms
2023-12-03 09:07:24.531 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-03 09:07:25.392 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-03 09:07:25.395 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-03 09:07:25.554 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:07:25.554 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:07:25.555 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:07:25.771 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:07:25.790 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:07:25.841 +00:00 [DBG] Created DbConnection. (48ms).
2023-12-03 09:07:25.850 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.114 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.119 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.134 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (9ms).
2023-12-03 09:07:26.147 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:07:26.157 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (8ms).
2023-12-03 09:07:26.160 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (16ms).
2023-12-03 09:07:26.161 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.333 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.346 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:07:26.446 +00:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:07:26.448 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.454 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-12-03 09:07:26.471 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.475 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.476 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:07:26.477 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:07:26.478 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 09:07:26.480 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:07:26.488 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:07:26.499 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.503 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 11ms reading results.
2023-12-03 09:07:26.504 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.505 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:07:26.510 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.513 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.626 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.627 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.628 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:07:26.629 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:07:26.632 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:07:26.633 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2023-12-03 09:07:26.635 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.637 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.639 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:07:26.642 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:07:26.644 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.645 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:07:26.646 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.788 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.789 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.790 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:07:26.791 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:07:26.794 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-12-03 09:07:26.796 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (4ms).
2023-12-03 09:07:26.797 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.799 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.800 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:07:26.803 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:07:26.804 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.805 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:07:26.806 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.808 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.811 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:07:26.813 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-12-03 09:07:26.815 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-12-03 09:07:26.819 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:07:26.823 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:07:26.825 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.827 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-03 09:07:26.828 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.829 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:07:26.850 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-03 09:07:26.854 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:07:26.859 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:26.862 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 09:07:26.945 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-03 09:07:27.068 +00:00 [DBG] Hosting starting
2023-12-03 09:07:27.096 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-03 09:07:27.097 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-03 09:07:27.120 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-03 09:07:27.122 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-03 09:07:27.132 +00:00 [INF] Creating key {54da1487-e41e-4962-b028-2b009c160b20} with creation date 2023-12-03 09:07:27Z, activation date 2023-12-03 09:07:27Z, and expiration date 2024-03-02 09:07:27Z.
2023-12-03 09:07:27.140 +00:00 [DBG] Descriptor deserializer type for key {54da1487-e41e-4962-b028-2b009c160b20} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-03 09:07:27.150 +00:00 [DBG] No key escrow sink found. Not writing key {54da1487-e41e-4962-b028-2b009c160b20} to escrow.
2023-12-03 09:07:27.152 +00:00 [WRN] No XML encryptor configured. Key {54da1487-e41e-4962-b028-2b009c160b20} may be persisted to storage in unencrypted form.
2023-12-03 09:07:27.153 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-03 09:07:27.161 +00:00 [DBG] Found key {54da1487-e41e-4962-b028-2b009c160b20}.
2023-12-03 09:07:27.178 +00:00 [DBG] Considering key {54da1487-e41e-4962-b028-2b009c160b20} with expiration date 2024-03-02 09:07:27Z as default key.
2023-12-03 09:07:27.192 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-03 09:07:27.195 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-03 09:07:27.196 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-03 09:07:27.203 +00:00 [DBG] Using key {54da1487-e41e-4962-b028-2b009c160b20} as the default key.
2023-12-03 09:07:27.205 +00:00 [DBG] Key ring with default key {54da1487-e41e-4962-b028-2b009c160b20} was loaded during application startup.
2023-12-03 09:07:27.388 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BE2CD7E804037B286FD89483D53ADEA9C0025E51)
2023-12-03 09:07:27.690 +00:00 [INF] Now listening on: http://[::]:80
2023-12-03 09:07:27.691 +00:00 [INF] Now listening on: https://[::]:443
2023-12-03 09:07:27.692 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-03 09:07:27.695 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-03 09:07:27.696 +00:00 [INF] Hosting environment: Development
2023-12-03 09:07:27.697 +00:00 [INF] Content root path: /app
2023-12-03 09:07:27.698 +00:00 [DBG] Hosting started
2023-12-03 09:07:27.991 +00:00 [DBG] Connection id "0HMVJRT2V72JM" accepted.
2023-12-03 09:07:27.995 +00:00 [DBG] Connection id "0HMVJRT2V72JM" started.
2023-12-03 09:07:28.053 +00:00 [DBG] Connection 0HMVJRT2V72JM established using the following protocol: "Tls13"
2023-12-03 09:07:28.161 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/index.html - null null
2023-12-03 09:07:28.164 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-03 09:07:28.210 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-03 09:07:28.213 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:07:28.391 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/index.html - 200 null text/html;charset=utf-8 232.9927ms
2023-12-03 09:07:28.905 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - null null
2023-12-03 09:07:28.908 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-03 09:07:28.910 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:07:29.125 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 220.5204ms
2023-12-03 09:07:34.495 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/Cart - application/json 93
2023-12-03 09:07:34.502 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-03 09:07:34.504 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-03 09:07:34.520 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-03 09:07:34.524 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:07:34.583 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 09:07:34.590 +00:00 [DBG] Policy authentication schemes  did not succeed
2023-12-03 09:07:34.596 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-12-03 09:07:34.603 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-03 09:07:34.607 +00:00 [INF] HTTP POST /Cart responded 401 in 77.0883 ms
2023-12-03 09:07:34.609 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/Cart - 401 0 null 114.9053ms
2023-12-03 09:07:34.612 +00:00 [DBG] Connection id "0HMVJRT2V72JM", Request id "0HMVJRT2V72JM:00000005": started reading request body.
2023-12-03 09:07:34.613 +00:00 [DBG] Connection id "0HMVJRT2V72JM", Request id "0HMVJRT2V72JM:00000005": done reading request body.
2023-12-03 09:07:58.318 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 64
2023-12-03 09:07:58.330 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:07:58.331 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:07:58.333 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:07:58.334 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:07:58.340 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 09:07:58.345 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:07:58.383 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:07:58.386 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:07:58.386 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:07:58.389 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:07:58.391 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:07:58.393 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:07:58.396 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:07:58.397 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:07:58.406 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:07:58.412 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:07:58.415 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:07:58.426 +00:00 [DBG] Connection id "0HMVJRT2V72JM", Request id "0HMVJRT2V72JM:00000007": started reading request body.
2023-12-03 09:07:58.427 +00:00 [DBG] Connection id "0HMVJRT2V72JM", Request id "0HMVJRT2V72JM:00000007": done reading request body.
2023-12-03 09:07:58.433 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:07:58.435 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:07:58.436 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:07:58.437 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:07:58.454 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:07:58.457 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:07:58.460 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:07:58.461 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:07:58.464 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:07:58.505 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:07:58.588 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-03 09:07:58.891 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 09:07:58.939 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:07:58.940 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-03 09:07:58.944 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:58.946 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:58.947 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:07:58.948 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:07:58.953 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-12-03 09:07:58.957 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:07:58.991 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:07:59.094 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:07:59.152 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:59.153 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 161ms reading results.
2023-12-03 09:07:59.159 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:59.161 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:07:59.296 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-03 09:07:59.370 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-03 09:07:59.376 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:59.378 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:59.379 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:07:59.380 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:07:59.382 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 09:07:59.383 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:07:59.399 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:07:59.402 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:59.403 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 3ms reading results.
2023-12-03 09:07:59.405 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:07:59.406 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:08:27.531 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:08:27.536 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-03 09:08:27.553 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 29154.0833ms
2023-12-03 09:08:27.554 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:08:27.557 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 29222.3879 ms
2023-12-03 09:08:27.561 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:08:27.566 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:08:27.568 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 09:08:27.570 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 200 null application/json; charset=utf-8 29254.8277ms
2023-12-03 09:08:46.271 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/Cart - application/json 93
2023-12-03 09:08:46.273 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-03 09:08:46.274 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-03 09:08:46.275 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-03 09:08:46.277 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:08:46.337 +00:00 [DBG] Successfully validated the token.
2023-12-03 09:08:46.340 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 09:08:46.344 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-12-03 09:08:46.347 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-03 09:08:46.348 +00:00 [INF] HTTP POST /Cart responded 403 in 69.6687 ms
2023-12-03 09:08:46.349 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/Cart - 403 0 null 78.1038ms
2023-12-03 09:08:46.350 +00:00 [DBG] Connection id "0HMVJRT2V72JM", Request id "0HMVJRT2V72JM:00000009": started reading request body.
2023-12-03 09:08:46.350 +00:00 [DBG] Connection id "0HMVJRT2V72JM", Request id "0HMVJRT2V72JM:00000009": done reading request body.
2023-12-03 09:09:15.631 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-03 09:09:16.548 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-03 09:09:16.550 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-03 09:09:16.689 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:09:16.690 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:09:16.690 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:09:16.859 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:09:16.879 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:09:16.932 +00:00 [DBG] Created DbConnection. (51ms).
2023-12-03 09:09:16.943 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.191 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.195 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.209 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (10ms).
2023-12-03 09:09:17.222 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:09:17.231 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (9ms).
2023-12-03 09:09:17.233 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (14ms).
2023-12-03 09:09:17.234 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.377 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.386 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:09:17.473 +00:00 [INF] Executed DbCommand (88ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:09:17.475 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.478 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-12-03 09:09:17.492 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.493 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.494 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:09:17.495 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:09:17.496 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 09:09:17.497 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:09:17.504 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:09:17.513 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.516 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 9ms reading results.
2023-12-03 09:09:17.517 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.518 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:09:17.520 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.521 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.615 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.616 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.617 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:09:17.618 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:09:17.619 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:09:17.620 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-12-03 09:09:17.621 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.622 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.622 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:09:17.624 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:09:17.625 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.626 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:09:17.627 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.725 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.726 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.727 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:09:17.728 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:09:17.729 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 09:09:17.730 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:09:17.731 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.732 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.732 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:09:17.735 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:09:17.736 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.737 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:09:17.738 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.738 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.739 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:09:17.740 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:09:17.740 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:09:17.742 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:09:17.744 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:09:17.745 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.746 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-03 09:09:17.747 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.748 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:09:17.761 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-03 09:09:17.764 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:09:17.767 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:09:17.768 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:09:17.823 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-03 09:09:17.902 +00:00 [DBG] Hosting starting
2023-12-03 09:09:17.925 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-03 09:09:17.926 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-03 09:09:17.943 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-03 09:09:17.943 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-03 09:09:17.948 +00:00 [INF] Creating key {dd88ec79-ef3c-4ebb-b24c-a7a8754cc778} with creation date 2023-12-03 09:09:17Z, activation date 2023-12-03 09:09:17Z, and expiration date 2024-03-02 09:09:17Z.
2023-12-03 09:09:17.957 +00:00 [DBG] Descriptor deserializer type for key {dd88ec79-ef3c-4ebb-b24c-a7a8754cc778} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-03 09:09:17.961 +00:00 [DBG] No key escrow sink found. Not writing key {dd88ec79-ef3c-4ebb-b24c-a7a8754cc778} to escrow.
2023-12-03 09:09:17.962 +00:00 [WRN] No XML encryptor configured. Key {dd88ec79-ef3c-4ebb-b24c-a7a8754cc778} may be persisted to storage in unencrypted form.
2023-12-03 09:09:17.964 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-03 09:09:17.966 +00:00 [DBG] Found key {dd88ec79-ef3c-4ebb-b24c-a7a8754cc778}.
2023-12-03 09:09:17.974 +00:00 [DBG] Considering key {dd88ec79-ef3c-4ebb-b24c-a7a8754cc778} with expiration date 2024-03-02 09:09:17Z as default key.
2023-12-03 09:09:17.982 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-03 09:09:17.985 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-03 09:09:17.985 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-03 09:09:17.990 +00:00 [DBG] Using key {dd88ec79-ef3c-4ebb-b24c-a7a8754cc778} as the default key.
2023-12-03 09:09:17.991 +00:00 [DBG] Key ring with default key {dd88ec79-ef3c-4ebb-b24c-a7a8754cc778} was loaded during application startup.
2023-12-03 09:09:18.192 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BE2CD7E804037B286FD89483D53ADEA9C0025E51)
2023-12-03 09:09:18.413 +00:00 [INF] Now listening on: http://[::]:80
2023-12-03 09:09:18.413 +00:00 [INF] Now listening on: https://[::]:443
2023-12-03 09:09:18.414 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-03 09:09:18.415 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-03 09:09:18.416 +00:00 [INF] Hosting environment: Development
2023-12-03 09:09:18.417 +00:00 [INF] Content root path: /app
2023-12-03 09:09:18.418 +00:00 [DBG] Hosting started
2023-12-03 09:09:19.705 +00:00 [DBG] Connection id "0HMVJRU48JN34" accepted.
2023-12-03 09:09:19.708 +00:00 [DBG] Connection id "0HMVJRU48JN34" started.
2023-12-03 09:09:19.782 +00:00 [DBG] Connection 0HMVJRU48JN34 established using the following protocol: "Tls13"
2023-12-03 09:09:19.872 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/index.html - null null
2023-12-03 09:09:19.877 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-03 09:09:19.929 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-03 09:09:19.930 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:09:20.222 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/index.html - 200 null text/html;charset=utf-8 353.0744ms
2023-12-03 09:09:20.649 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - null null
2023-12-03 09:09:20.652 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-03 09:09:20.653 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:09:20.827 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 178.4548ms
2023-12-03 09:09:31.028 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/Cart - application/json 93
2023-12-03 09:09:31.076 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-03 09:09:31.078 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-03 09:09:31.098 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-03 09:09:31.103 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:09:31.272 +00:00 [DBG] Successfully validated the token.
2023-12-03 09:09:31.276 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 09:09:31.288 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2023-12-03 09:09:31.292 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-03 09:09:31.295 +00:00 [INF] HTTP POST /Cart responded 403 in 187.1641 ms
2023-12-03 09:09:31.297 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/Cart - 403 0 null 269.0368ms
2023-12-03 09:09:31.300 +00:00 [DBG] Connection id "0HMVJRU48JN34", Request id "0HMVJRU48JN34:00000005": started reading request body.
2023-12-03 09:09:31.301 +00:00 [DBG] Connection id "0HMVJRU48JN34", Request id "0HMVJRU48JN34:00000005": done reading request body.
2023-12-03 09:10:56.626 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/register-admin - application/json 77
2023-12-03 09:10:56.650 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register-admin'
2023-12-03 09:10:56.650 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)' with route pattern 'api/Auth/register-admin' is valid for the request path '/api/Auth/register-admin'
2023-12-03 09:10:56.651 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-03 09:10:56.652 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:10:56.658 +00:00 [DBG] Successfully validated the token.
2023-12-03 09:10:56.659 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 09:10:56.661 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-03 09:10:56.711 +00:00 [INF] Route matched with {action = "RegisterAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] RegisterAdmin(Application.Authentication.Register.RegisterCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:10:56.714 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:10:56.715 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:10:56.717 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:10:56.718 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:10:56.719 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:10:56.722 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:10:56.723 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:10:56.730 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-03 09:10:56.736 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' using the name '' in request data ...
2023-12-03 09:10:56.738 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:10:56.750 +00:00 [DBG] Connection id "0HMVJRU48JN34", Request id "0HMVJRU48JN34:00000007": started reading request body.
2023-12-03 09:10:56.751 +00:00 [DBG] Connection id "0HMVJRU48JN34", Request id "0HMVJRU48JN34:00000007": done reading request body.
2023-12-03 09:10:56.757 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Register.RegisterCommand'
2023-12-03 09:10:56.759 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-03 09:10:56.759 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-03 09:10:56.760 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-03 09:10:56.771 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-03 09:10:56.773 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:10:56.776 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:10:56.777 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:10:56.779 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:10:56.825 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:10:56.907 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-12-03 09:10:57.202 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 09:10:57.248 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:10:57.250 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-03 09:10:57.253 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:10:57.255 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:10:57.256 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:10:57.257 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:10:57.263 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-12-03 09:10:57.267 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-03 09:10:57.293 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-03 09:10:57.305 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:10:57.305 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 11ms reading results.
2023-12-03 09:10:57.311 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:10:57.313 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 09:10:57.429 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:10:57.430 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:10:57.430 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:10:57.431 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:10:57.432 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 09:10:57.434 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-03 09:10:57.462 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-03 09:10:57.463 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:10:57.464 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-03 09:10:57.466 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:10:57.467 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:10:57.588 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:10:57.597 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-03 09:10:57.621 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-03 09:10:57.626 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-12-03 09:10:57.629 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-03 09:10:57.630 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-03 09:10:57.709 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:10:57.710 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:10:57.713 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:10:57.713 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:10:57.714 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:10:57.716 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-12-03 09:10:57.767 +00:00 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-12-03 09:10:57.776 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:10:57.777 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 9ms reading results.
2023-12-03 09:10:57.779 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:10:57.780 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:10:57.789 +00:00 [DBG] An entity of type 'BaseAuthentication' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:10:57.793 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-12-03 09:10:57.803 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:10:57.810 +00:00 [INF] Executed action WebApi.Controllers.AuthController.RegisterAdmin (WebApi) in 1085.8902ms
2023-12-03 09:10:57.811 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-03 09:10:57.813 +00:00 [INF] HTTP POST /api/Auth/register-admin responded 200 in 1160.3847 ms
2023-12-03 09:10:57.819 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:10:57.823 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:10:57.825 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 09:10:57.827 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/register-admin - 200 0 null 1201.0246ms
2023-12-03 09:11:13.124 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 58
2023-12-03 09:11:13.126 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:11:13.128 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:11:13.129 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:11:13.130 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:11:13.135 +00:00 [DBG] Successfully validated the token.
2023-12-03 09:11:13.136 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 09:11:13.137 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:11:13.143 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:11:13.144 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:11:13.144 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:11:13.145 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:11:13.146 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:11:13.146 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:11:13.147 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:11:13.148 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:11:13.150 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:11:13.151 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:11:13.152 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:11:13.154 +00:00 [DBG] Connection id "0HMVJRU48JN34", Request id "0HMVJRU48JN34:00000009": started reading request body.
2023-12-03 09:11:13.171 +00:00 [DBG] Connection id "0HMVJRU48JN34", Request id "0HMVJRU48JN34:00000009": done reading request body.
2023-12-03 09:11:13.180 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:11:13.181 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:11:13.182 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:11:13.183 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:11:13.185 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:11:13.187 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:11:13.188 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:11:13.188 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:11:13.189 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:11:13.271 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:11:13.276 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-03 09:11:13.288 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 09:11:13.289 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:11:13.290 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-03 09:11:13.292 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:11:13.293 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:11:13.294 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:11:13.295 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:11:13.296 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:11:13.296 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:11:13.302 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:11:13.316 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:11:13.318 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:11:13.320 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 16ms reading results.
2023-12-03 09:11:13.321 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:11:13.322 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:11:13.437 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-03 09:11:13.509 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-03 09:11:13.512 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:11:13.513 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:11:13.513 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:11:13.514 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:11:13.516 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 09:11:13.517 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:11:13.530 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:11:13.532 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:11:13.534 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-03 09:11:13.534 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:11:13.535 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:11:34.023 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:11:34.028 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-03 09:11:34.035 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 20887.9265ms
2023-12-03 09:11:34.035 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:11:34.036 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 20903.0599 ms
2023-12-03 09:11:34.037 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:11:34.039 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:11:34.041 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:11:34.041 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 200 null application/json; charset=utf-8 20917.6816ms
2023-12-03 09:12:37.641 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/Cart - application/json 93
2023-12-03 09:12:37.644 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-03 09:12:37.661 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-03 09:12:37.662 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-03 09:12:37.663 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:12:37.665 +00:00 [DBG] Successfully validated the token.
2023-12-03 09:12:37.666 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 09:12:37.670 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (User)
2023-12-03 09:12:37.671 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-03 09:12:37.673 +00:00 [INF] HTTP POST /Cart responded 403 in 8.4266 ms
2023-12-03 09:12:37.677 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/Cart - 403 0 null 36.3246ms
2023-12-03 09:12:37.678 +00:00 [DBG] Connection id "0HMVJRU48JN34", Request id "0HMVJRU48JN34:0000000B": started reading request body.
2023-12-03 09:12:37.679 +00:00 [DBG] Connection id "0HMVJRU48JN34", Request id "0HMVJRU48JN34:0000000B": done reading request body.
2023-12-03 09:12:58.660 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-03 09:12:59.397 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-03 09:12:59.400 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-03 09:12:59.547 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:12:59.548 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:12:59.550 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:12:59.771 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:12:59.787 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:12:59.838 +00:00 [DBG] Created DbConnection. (48ms).
2023-12-03 09:12:59.849 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.104 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.107 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.122 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (9ms).
2023-12-03 09:13:00.135 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:13:00.142 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2023-12-03 09:13:00.145 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (12ms).
2023-12-03 09:13:00.145 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.296 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.305 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:13:00.384 +00:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:13:00.386 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.389 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-12-03 09:13:00.404 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.405 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.406 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:13:00.407 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:13:00.408 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:13:00.409 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:13:00.415 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:13:00.424 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.426 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 8ms reading results.
2023-12-03 09:13:00.426 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.427 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:13:00.430 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.431 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.520 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.521 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.521 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:13:00.522 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:13:00.523 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 09:13:00.524 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:13:00.525 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.526 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.526 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:13:00.528 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:13:00.529 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.531 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:13:00.532 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.634 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.635 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.635 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:13:00.636 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:13:00.637 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 09:13:00.638 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:13:00.638 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.639 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.640 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:13:00.642 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:13:00.643 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.644 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:13:00.644 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.645 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.646 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:13:00.646 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:13:00.647 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:13:00.648 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:13:00.649 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:13:00.650 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.651 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-03 09:13:00.652 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.653 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:13:00.665 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-03 09:13:00.667 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:13:00.670 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:00.671 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:13:00.726 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-03 09:13:00.831 +00:00 [DBG] Hosting starting
2023-12-03 09:13:00.858 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-03 09:13:00.858 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-03 09:13:00.871 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-03 09:13:00.872 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-03 09:13:00.878 +00:00 [INF] Creating key {dda70161-96ea-46d9-9212-40cae325d831} with creation date 2023-12-03 09:13:00Z, activation date 2023-12-03 09:13:00Z, and expiration date 2024-03-02 09:13:00Z.
2023-12-03 09:13:00.886 +00:00 [DBG] Descriptor deserializer type for key {dda70161-96ea-46d9-9212-40cae325d831} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-03 09:13:00.892 +00:00 [DBG] No key escrow sink found. Not writing key {dda70161-96ea-46d9-9212-40cae325d831} to escrow.
2023-12-03 09:13:00.893 +00:00 [WRN] No XML encryptor configured. Key {dda70161-96ea-46d9-9212-40cae325d831} may be persisted to storage in unencrypted form.
2023-12-03 09:13:00.894 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-03 09:13:00.896 +00:00 [DBG] Found key {dda70161-96ea-46d9-9212-40cae325d831}.
2023-12-03 09:13:00.905 +00:00 [DBG] Considering key {dda70161-96ea-46d9-9212-40cae325d831} with expiration date 2024-03-02 09:13:00Z as default key.
2023-12-03 09:13:00.911 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-03 09:13:00.913 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-03 09:13:00.914 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-03 09:13:00.918 +00:00 [DBG] Using key {dda70161-96ea-46d9-9212-40cae325d831} as the default key.
2023-12-03 09:13:00.919 +00:00 [DBG] Key ring with default key {dda70161-96ea-46d9-9212-40cae325d831} was loaded during application startup.
2023-12-03 09:13:01.086 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BE2CD7E804037B286FD89483D53ADEA9C0025E51)
2023-12-03 09:13:01.337 +00:00 [INF] Now listening on: http://[::]:80
2023-12-03 09:13:01.337 +00:00 [INF] Now listening on: https://[::]:443
2023-12-03 09:13:01.338 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-03 09:13:01.339 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-03 09:13:01.340 +00:00 [INF] Hosting environment: Development
2023-12-03 09:13:01.341 +00:00 [INF] Content root path: /app
2023-12-03 09:13:01.341 +00:00 [DBG] Hosting started
2023-12-03 09:13:01.546 +00:00 [DBG] Connection id "0HMVJS06C85RM" accepted.
2023-12-03 09:13:01.568 +00:00 [DBG] Connection id "0HMVJS06C85RM" started.
2023-12-03 09:13:01.610 +00:00 [DBG] Connection 0HMVJS06C85RM established using the following protocol: "Tls13"
2023-12-03 09:13:01.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/index.html - null null
2023-12-03 09:13:01.684 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-03 09:13:01.718 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-03 09:13:01.720 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:13:01.892 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/index.html - 200 null text/html;charset=utf-8 212.9871ms
2023-12-03 09:13:02.299 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - null null
2023-12-03 09:13:02.301 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-03 09:13:02.302 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:13:02.473 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 173.7596ms
2023-12-03 09:13:36.976 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 58
2023-12-03 09:13:36.988 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:13:36.990 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:13:37.008 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:13:37.012 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:13:37.077 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 09:13:37.082 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:13:37.116 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:13:37.119 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:13:37.120 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:13:37.122 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:13:37.123 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:13:37.124 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:13:37.128 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:13:37.129 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:13:37.136 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:13:37.140 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:13:37.143 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:13:37.151 +00:00 [DBG] Connection id "0HMVJS06C85RM", Request id "0HMVJS06C85RM:00000005": started reading request body.
2023-12-03 09:13:37.152 +00:00 [DBG] Connection id "0HMVJS06C85RM", Request id "0HMVJS06C85RM:00000005": done reading request body.
2023-12-03 09:13:37.158 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:13:37.159 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:13:37.160 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:13:37.161 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:13:37.176 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:13:37.178 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:13:37.180 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:13:37.181 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:13:37.184 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:13:37.229 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:13:37.325 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-03 09:13:37.681 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 09:13:37.740 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:13:37.742 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-03 09:13:37.746 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:37.748 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:37.749 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:13:37.750 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:13:37.756 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-12-03 09:13:37.761 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:13:37.789 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:13:37.882 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:13:37.947 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:37.948 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 156ms reading results.
2023-12-03 09:13:37.953 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:37.955 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:13:38.105 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-03 09:13:38.204 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-03 09:13:38.208 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:38.209 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:38.210 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:13:38.212 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:13:38.214 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-03 09:13:38.218 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:13:38.236 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:13:38.238 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:38.239 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 3ms reading results.
2023-12-03 09:13:38.241 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:38.243 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:13:40.859 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:13:40.865 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-03 09:13:40.877 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 3746.9802ms
2023-12-03 09:13:40.879 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:13:40.882 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 3866.8566 ms
2023-12-03 09:13:40.885 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:13:40.889 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:13:40.892 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 09:13:40.893 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 200 null application/json; charset=utf-8 3920.496ms
2023-12-03 09:13:54.111 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/Cart - application/json 93
2023-12-03 09:13:54.112 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-03 09:13:54.113 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-03 09:13:54.114 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-03 09:13:54.116 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:13:54.178 +00:00 [DBG] Successfully validated the token.
2023-12-03 09:13:54.181 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 09:13:54.193 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-12-03 09:13:54.198 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-03 09:13:54.199 +00:00 [INF] HTTP POST /Cart responded 403 in 82.6674 ms
2023-12-03 09:13:54.201 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/Cart - 403 0 null 90.5189ms
2023-12-03 09:13:54.202 +00:00 [DBG] Connection id "0HMVJS06C85RM", Request id "0HMVJS06C85RM:00000007": started reading request body.
2023-12-03 09:13:54.202 +00:00 [DBG] Connection id "0HMVJS06C85RM", Request id "0HMVJS06C85RM:00000007": done reading request body.
2023-12-03 09:14:16.859 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/Cart - application/json 93
2023-12-03 09:14:16.901 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-03 09:14:16.902 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-03 09:14:16.903 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-03 09:14:16.904 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:14:16.908 +00:00 [DBG] Successfully validated the token.
2023-12-03 09:14:16.909 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 09:14:16.911 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-12-03 09:14:16.912 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-03 09:14:16.913 +00:00 [INF] HTTP POST /Cart responded 403 in 7.2441 ms
2023-12-03 09:14:16.914 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/Cart - 403 0 null 54.6483ms
2023-12-03 09:14:16.915 +00:00 [DBG] Connection id "0HMVJS06C85RM", Request id "0HMVJS06C85RM:00000009": started reading request body.
2023-12-03 09:14:16.916 +00:00 [DBG] Connection id "0HMVJS06C85RM", Request id "0HMVJS06C85RM:00000009": done reading request body.
2023-12-03 09:14:34.128 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/Cart - application/json 93
2023-12-03 09:14:34.129 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-03 09:14:34.130 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-03 09:14:34.131 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-03 09:14:34.132 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:14:34.134 +00:00 [DBG] Successfully validated the token.
2023-12-03 09:14:34.134 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 09:14:34.137 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-12-03 09:14:34.138 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-03 09:14:34.139 +00:00 [INF] HTTP POST /Cart responded 403 in 5.6759 ms
2023-12-03 09:14:34.140 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/Cart - 403 0 null 12.2287ms
2023-12-03 09:14:34.144 +00:00 [DBG] Connection id "0HMVJS06C85RM", Request id "0HMVJS06C85RM:0000000B": started reading request body.
2023-12-03 09:14:34.146 +00:00 [DBG] Connection id "0HMVJS06C85RM", Request id "0HMVJS06C85RM:0000000B": done reading request body.
2023-12-03 09:15:24.293 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 58
2023-12-03 09:15:24.296 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:15:24.297 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:15:24.298 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:15:24.299 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:15:24.301 +00:00 [DBG] Successfully validated the token.
2023-12-03 09:15:24.302 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 09:15:24.303 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:15:24.304 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:15:24.305 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:15:24.305 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:15:24.307 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:15:24.308 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:15:24.309 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:15:24.309 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:15:24.310 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:15:24.312 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:15:24.313 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:15:24.315 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:15:24.316 +00:00 [DBG] Connection id "0HMVJS06C85RM", Request id "0HMVJS06C85RM:0000000D": started reading request body.
2023-12-03 09:15:24.341 +00:00 [DBG] Connection id "0HMVJS06C85RM", Request id "0HMVJS06C85RM:0000000D": done reading request body.
2023-12-03 09:15:24.346 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:15:24.347 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:15:24.349 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:15:24.349 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:15:24.350 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:15:24.352 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:15:24.353 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:15:24.354 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:15:24.354 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:15:24.421 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:15:24.428 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:15:24.428 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-03 09:15:24.429 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:15:24.430 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:15:24.430 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:15:24.432 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:15:24.433 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 09:15:24.434 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:15:24.462 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:15:24.487 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:15:24.488 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:15:24.488 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 24ms reading results.
2023-12-03 09:15:24.489 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:15:24.490 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:15:24.582 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:15:24.583 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:15:24.584 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:15:24.584 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:15:24.585 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:15:24.586 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:15:24.591 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:15:24.612 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:15:24.613 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-03 09:15:24.614 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:15:24.614 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:15:59.502 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:15:59.527 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-03 09:15:59.529 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 35219.8504ms
2023-12-03 09:15:59.530 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:15:59.531 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 35230.1553 ms
2023-12-03 09:15:59.532 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:15:59.533 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:15:59.534 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:15:59.536 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 200 null application/json; charset=utf-8 35241.8824ms
2023-12-03 09:18:17.446 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 58
2023-12-03 09:18:17.450 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:18:17.452 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:18:17.464 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:18:17.464 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:18:17.467 +00:00 [DBG] Successfully validated the token.
2023-12-03 09:18:17.468 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 09:18:17.469 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:18:17.470 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:18:17.475 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:18:17.477 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:18:17.478 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:18:17.478 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:18:17.479 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:18:17.479 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:18:17.480 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:18:17.481 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:18:17.481 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:18:17.482 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:18:17.484 +00:00 [DBG] Connection id "0HMVJS06C85RM", Request id "0HMVJS06C85RM:0000000F": started reading request body.
2023-12-03 09:18:17.484 +00:00 [DBG] Connection id "0HMVJS06C85RM", Request id "0HMVJS06C85RM:0000000F": done reading request body.
2023-12-03 09:18:17.485 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:18:17.486 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:18:17.487 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:18:17.487 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:18:17.488 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:18:17.488 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:18:17.490 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:18:17.491 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:18:17.492 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:18:17.500 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:18:17.502 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:18:17.503 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-03 09:18:17.503 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:18:17.504 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:18:17.504 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:18:17.505 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:18:17.505 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:18:17.506 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:18:17.530 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:18:17.573 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:18:17.575 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:18:17.576 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 24ms reading results.
2023-12-03 09:18:17.577 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:18:17.579 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:18:17.696 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:18:17.696 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:18:17.697 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:18:17.697 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:18:17.698 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:18:17.699 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:18:17.705 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:18:17.707 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:18:17.708 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-03 09:18:17.709 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:18:17.710 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:18:49.006 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:18:49.008 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-03 09:18:49.032 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 31554.234ms
2023-12-03 09:18:49.036 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:18:49.039 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 31574.7021 ms
2023-12-03 09:18:49.041 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:18:49.044 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:18:49.047 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 09:18:49.049 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 200 null application/json; charset=utf-8 31605.3004ms
2023-12-03 09:20:11.904 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-03 09:20:12.712 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-03 09:20:12.715 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-03 09:20:12.869 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:20:12.870 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:20:12.870 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:20:13.037 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:20:13.051 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:20:13.102 +00:00 [DBG] Created DbConnection. (48ms).
2023-12-03 09:20:13.112 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.376 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.379 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.396 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (10ms).
2023-12-03 09:20:13.408 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:20:13.415 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2023-12-03 09:20:13.418 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (12ms).
2023-12-03 09:20:13.418 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.555 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.563 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:20:13.638 +00:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:20:13.640 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.644 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-12-03 09:20:13.661 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.662 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.663 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:20:13.663 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:20:13.664 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:20:13.666 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:20:13.672 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:20:13.681 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.683 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 8ms reading results.
2023-12-03 09:20:13.684 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.685 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:20:13.687 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.688 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.781 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.782 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.783 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:20:13.783 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:20:13.784 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 09:20:13.785 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:20:13.785 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.786 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.787 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:20:13.789 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:20:13.790 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.791 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:20:13.792 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.905 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.905 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.906 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:20:13.907 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:20:13.908 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 09:20:13.909 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:20:13.909 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.910 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.911 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:20:13.913 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:20:13.914 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.915 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:20:13.916 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.916 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.917 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:20:13.917 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:20:13.918 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:20:13.919 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:20:13.920 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:20:13.921 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.922 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-03 09:20:13.923 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.924 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:20:13.936 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-03 09:20:13.939 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:20:13.942 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:20:13.943 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:20:14.001 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-03 09:20:14.106 +00:00 [DBG] Hosting starting
2023-12-03 09:20:14.133 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-03 09:20:14.134 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-03 09:20:14.149 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-03 09:20:14.149 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-03 09:20:14.154 +00:00 [INF] Creating key {df92b4db-0de9-4a6b-8da7-6013838f6a09} with creation date 2023-12-03 09:20:14Z, activation date 2023-12-03 09:20:14Z, and expiration date 2024-03-02 09:20:14Z.
2023-12-03 09:20:14.162 +00:00 [DBG] Descriptor deserializer type for key {df92b4db-0de9-4a6b-8da7-6013838f6a09} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-03 09:20:14.167 +00:00 [DBG] No key escrow sink found. Not writing key {df92b4db-0de9-4a6b-8da7-6013838f6a09} to escrow.
2023-12-03 09:20:14.167 +00:00 [WRN] No XML encryptor configured. Key {df92b4db-0de9-4a6b-8da7-6013838f6a09} may be persisted to storage in unencrypted form.
2023-12-03 09:20:14.168 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-03 09:20:14.170 +00:00 [DBG] Found key {df92b4db-0de9-4a6b-8da7-6013838f6a09}.
2023-12-03 09:20:14.179 +00:00 [DBG] Considering key {df92b4db-0de9-4a6b-8da7-6013838f6a09} with expiration date 2024-03-02 09:20:14Z as default key.
2023-12-03 09:20:14.186 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-03 09:20:14.188 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-03 09:20:14.189 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-03 09:20:14.193 +00:00 [DBG] Using key {df92b4db-0de9-4a6b-8da7-6013838f6a09} as the default key.
2023-12-03 09:20:14.195 +00:00 [DBG] Key ring with default key {df92b4db-0de9-4a6b-8da7-6013838f6a09} was loaded during application startup.
2023-12-03 09:20:14.386 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BE2CD7E804037B286FD89483D53ADEA9C0025E51)
2023-12-03 09:20:14.666 +00:00 [INF] Now listening on: http://[::]:80
2023-12-03 09:20:14.667 +00:00 [INF] Now listening on: https://[::]:443
2023-12-03 09:20:14.668 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-03 09:20:14.669 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-03 09:20:14.670 +00:00 [INF] Hosting environment: Development
2023-12-03 09:20:14.670 +00:00 [INF] Content root path: /app
2023-12-03 09:20:14.671 +00:00 [DBG] Hosting started
2023-12-03 09:20:14.880 +00:00 [DBG] Connection id "0HMVJS47GRBJN" accepted.
2023-12-03 09:20:14.883 +00:00 [DBG] Connection id "0HMVJS47GRBJN" started.
2023-12-03 09:20:14.929 +00:00 [DBG] Connection 0HMVJS47GRBJN established using the following protocol: "Tls13"
2023-12-03 09:20:14.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/index.html - null null
2023-12-03 09:20:14.992 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-03 09:20:15.021 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-03 09:20:15.024 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:20:15.164 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/index.html - 200 null text/html;charset=utf-8 175.5674ms
2023-12-03 09:20:15.563 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - null null
2023-12-03 09:20:15.566 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-03 09:20:15.567 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:20:15.734 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 170.7566ms
2023-12-03 09:34:22.049 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 58
2023-12-03 09:34:22.060 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:34:22.062 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:34:22.081 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:34:22.085 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:34:22.163 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 09:34:22.169 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:34:22.200 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:34:22.203 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:34:22.204 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:34:22.206 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:34:22.207 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:34:22.208 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:34:22.211 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:34:22.212 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:34:22.218 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:34:22.223 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:34:22.225 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:34:22.234 +00:00 [DBG] Connection id "0HMVJS47GRBJN", Request id "0HMVJS47GRBJN:00000005": started reading request body.
2023-12-03 09:34:22.235 +00:00 [DBG] Connection id "0HMVJS47GRBJN", Request id "0HMVJS47GRBJN:00000005": done reading request body.
2023-12-03 09:34:22.240 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:34:22.241 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:34:22.242 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:34:22.242 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:34:22.256 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:34:22.258 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:34:22.260 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:34:22.260 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:34:22.262 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:34:22.299 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:34:22.367 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-03 09:34:22.725 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 09:34:22.786 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:34:22.787 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-03 09:34:22.791 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:34:22.957 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:34:22.959 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:34:22.959 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:34:22.965 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-12-03 09:34:22.970 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:34:23.000 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:34:23.075 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:34:23.135 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:34:23.136 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 134ms reading results.
2023-12-03 09:34:23.142 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:34:23.144 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:34:23.288 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-03 09:34:23.350 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-03 09:34:23.353 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:34:23.354 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:34:23.354 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:34:23.356 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:34:23.357 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 09:34:23.358 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:34:23.371 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:34:23.373 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:34:23.374 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-03 09:34:23.375 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:34:23.375 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:37:02.295 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-03 09:37:03.122 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-03 09:37:03.124 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-03 09:37:03.331 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:37:03.348 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:37:03.350 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:37:03.569 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:37:03.588 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:37:03.641 +00:00 [DBG] Created DbConnection. (48ms).
2023-12-03 09:37:03.651 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:03.902 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:03.906 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:03.920 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (9ms).
2023-12-03 09:37:03.931 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:37:03.939 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2023-12-03 09:37:03.941 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (12ms).
2023-12-03 09:37:03.941 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.101 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.110 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:37:04.207 +00:00 [INF] Executed DbCommand (98ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:37:04.209 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.212 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 09:37:04.223 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.224 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.225 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:37:04.226 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:37:04.227 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 09:37:04.229 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:37:04.234 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:37:04.243 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.245 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 8ms reading results.
2023-12-03 09:37:04.246 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.247 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:37:04.250 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.251 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.348 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.348 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.349 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:37:04.350 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:37:04.351 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 09:37:04.352 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:37:04.352 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.354 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.356 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:37:04.359 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:37:04.359 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.360 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:37:04.362 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.460 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.461 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.462 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:37:04.464 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:37:04.466 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:37:04.466 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-12-03 09:37:04.467 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.468 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.469 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:37:04.471 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:37:04.472 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.473 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:37:04.474 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.475 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.475 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:37:04.476 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:37:04.477 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:37:04.477 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:37:04.479 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:37:04.480 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.481 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-03 09:37:04.482 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.482 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:37:04.497 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-03 09:37:04.499 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:37:04.502 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:04.503 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:37:04.565 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-03 09:37:04.641 +00:00 [DBG] Hosting starting
2023-12-03 09:37:04.666 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-03 09:37:04.667 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-03 09:37:04.679 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-03 09:37:04.680 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-03 09:37:04.686 +00:00 [INF] Creating key {041129f9-037c-46be-8b30-a1d1379fa8a8} with creation date 2023-12-03 09:37:04Z, activation date 2023-12-03 09:37:04Z, and expiration date 2024-03-02 09:37:04Z.
2023-12-03 09:37:04.695 +00:00 [DBG] Descriptor deserializer type for key {041129f9-037c-46be-8b30-a1d1379fa8a8} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-03 09:37:04.700 +00:00 [DBG] No key escrow sink found. Not writing key {041129f9-037c-46be-8b30-a1d1379fa8a8} to escrow.
2023-12-03 09:37:04.701 +00:00 [WRN] No XML encryptor configured. Key {041129f9-037c-46be-8b30-a1d1379fa8a8} may be persisted to storage in unencrypted form.
2023-12-03 09:37:04.702 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-03 09:37:04.704 +00:00 [DBG] Found key {041129f9-037c-46be-8b30-a1d1379fa8a8}.
2023-12-03 09:37:04.712 +00:00 [DBG] Considering key {041129f9-037c-46be-8b30-a1d1379fa8a8} with expiration date 2024-03-02 09:37:04Z as default key.
2023-12-03 09:37:04.719 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-03 09:37:04.722 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-03 09:37:04.723 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-03 09:37:04.727 +00:00 [DBG] Using key {041129f9-037c-46be-8b30-a1d1379fa8a8} as the default key.
2023-12-03 09:37:04.729 +00:00 [DBG] Key ring with default key {041129f9-037c-46be-8b30-a1d1379fa8a8} was loaded during application startup.
2023-12-03 09:37:04.882 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BE2CD7E804037B286FD89483D53ADEA9C0025E51)
2023-12-03 09:37:05.143 +00:00 [INF] Now listening on: http://[::]:80
2023-12-03 09:37:05.144 +00:00 [INF] Now listening on: https://[::]:443
2023-12-03 09:37:05.144 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-03 09:37:05.146 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-03 09:37:05.147 +00:00 [INF] Hosting environment: Development
2023-12-03 09:37:05.148 +00:00 [INF] Content root path: /app
2023-12-03 09:37:05.149 +00:00 [DBG] Hosting started
2023-12-03 09:37:05.684 +00:00 [DBG] Connection id "0HMVJSDKOJK7V" accepted.
2023-12-03 09:37:05.690 +00:00 [DBG] Connection id "0HMVJSDKOJK7V" started.
2023-12-03 09:37:05.741 +00:00 [DBG] Connection 0HMVJSDKOJK7V established using the following protocol: "Tls13"
2023-12-03 09:37:05.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/index.html - null null
2023-12-03 09:37:05.813 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-03 09:37:05.852 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-03 09:37:05.854 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:37:06.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/index.html - 200 null text/html;charset=utf-8 216.1655ms
2023-12-03 09:37:06.455 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - null null
2023-12-03 09:37:06.458 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-03 09:37:06.459 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:37:06.605 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.4792ms
2023-12-03 09:37:38.486 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 58
2023-12-03 09:37:38.502 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:37:38.504 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:37:38.527 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:37:38.533 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:37:38.604 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 09:37:38.609 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:37:38.644 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:37:38.649 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:37:38.651 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:37:38.653 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:37:38.654 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:37:38.656 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:37:38.660 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:37:38.662 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:37:38.669 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:37:38.676 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:37:38.696 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:37:38.722 +00:00 [DBG] Connection id "0HMVJSDKOJK7V", Request id "0HMVJSDKOJK7V:00000005": started reading request body.
2023-12-03 09:37:38.725 +00:00 [DBG] Connection id "0HMVJSDKOJK7V", Request id "0HMVJSDKOJK7V:00000005": done reading request body.
2023-12-03 09:37:38.743 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:37:38.762 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:37:38.776 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:37:38.778 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:37:38.798 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:37:38.801 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:37:38.810 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:37:38.816 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:37:38.835 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:37:38.887 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:37:38.971 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-03 09:37:39.219 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 09:37:39.267 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:37:39.267 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-03 09:37:39.271 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:39.273 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:39.274 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:37:39.275 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:37:39.281 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-12-03 09:37:39.284 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:37:39.312 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:37:39.372 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:37:39.427 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:39.428 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 115ms reading results.
2023-12-03 09:37:39.433 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:39.434 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:37:39.547 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-03 09:37:39.600 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-03 09:37:39.603 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:39.605 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:39.606 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:37:39.607 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:37:39.607 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:37:39.608 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:37:39.620 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:37:39.622 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:39.623 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-03 09:37:39.624 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:37:39.624 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:39:50.348 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:39:50.356 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-03 09:39:50.372 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 131709.4047ms
2023-12-03 09:39:50.374 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:39:50.377 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 131840.9604 ms
2023-12-03 09:39:50.381 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:39:50.386 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:39:50.389 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-12-03 09:39:50.391 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 200 null application/json; charset=utf-8 131904.6153ms
2023-12-03 09:39:54.323 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 58
2023-12-03 09:39:54.325 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:39:54.326 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:39:54.327 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:39:54.338 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:39:54.341 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 09:39:54.342 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:39:54.349 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:39:54.351 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:39:54.352 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:39:54.352 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:39:54.353 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:39:54.354 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:39:54.356 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:39:54.357 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:39:54.358 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:39:54.359 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:39:54.359 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:39:54.361 +00:00 [DBG] Connection id "0HMVJSDKOJK7V", Request id "0HMVJSDKOJK7V:00000007": started reading request body.
2023-12-03 09:39:54.362 +00:00 [DBG] Connection id "0HMVJSDKOJK7V", Request id "0HMVJSDKOJK7V:00000007": done reading request body.
2023-12-03 09:39:54.363 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:39:54.364 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:39:54.365 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:39:54.365 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:39:54.368 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:39:54.369 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:39:54.369 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:39:54.371 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:39:54.372 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:39:54.459 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:39:54.467 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:39:54.467 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-03 09:39:54.468 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:39:54.470 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:39:54.472 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:39:54.473 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:39:54.474 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 09:39:54.475 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:39:54.501 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:39:54.568 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:39:54.590 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:39:54.591 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 88ms reading results.
2023-12-03 09:39:54.593 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:39:54.594 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:39:54.720 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:39:54.722 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:39:54.723 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:39:54.724 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:39:54.725 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:39:54.726 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:39:54.751 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:39:54.753 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:39:54.754 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-03 09:39:54.755 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:39:54.756 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:40:12.021 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:40:12.023 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-03 09:40:12.025 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 17669.6795ms
2023-12-03 09:40:12.026 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:40:12.027 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 17687.5377 ms
2023-12-03 09:40:12.028 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:40:12.032 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:40:12.033 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:40:12.034 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 200 null application/json; charset=utf-8 17710.2498ms
2023-12-03 09:42:26.822 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-03 09:42:27.560 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-03 09:42:27.562 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-03 09:42:27.694 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:42:27.694 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:42:27.695 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:42:27.858 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:42:27.871 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:42:27.916 +00:00 [DBG] Created DbConnection. (42ms).
2023-12-03 09:42:27.924 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.145 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.148 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.164 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (9ms).
2023-12-03 09:42:28.176 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:42:28.183 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2023-12-03 09:42:28.185 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (12ms).
2023-12-03 09:42:28.186 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.340 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.348 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:42:28.441 +00:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:42:28.442 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.446 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-12-03 09:42:28.460 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.461 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.463 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:42:28.464 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:42:28.464 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:42:28.466 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:42:28.472 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:42:28.482 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.484 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 9ms reading results.
2023-12-03 09:42:28.485 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.486 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:42:28.489 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.491 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.596 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.597 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.598 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:42:28.599 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:42:28.599 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 09:42:28.600 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:42:28.601 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.602 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.602 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:42:28.605 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:42:28.606 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.606 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:42:28.608 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.711 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.711 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.712 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:42:28.713 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:42:28.714 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 09:42:28.715 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:42:28.715 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.716 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.717 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:42:28.718 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:42:28.719 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.721 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:42:28.721 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.722 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.723 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:42:28.723 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:42:28.724 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:42:28.724 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:42:28.725 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:42:28.726 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.727 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-03 09:42:28.727 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.728 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:42:28.740 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-03 09:42:28.743 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:42:28.747 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:28.748 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:42:28.807 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-03 09:42:28.894 +00:00 [DBG] Hosting starting
2023-12-03 09:42:28.919 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-03 09:42:28.921 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-03 09:42:28.937 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-03 09:42:28.938 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-03 09:42:28.943 +00:00 [INF] Creating key {059791d7-a66b-425e-bc24-5d518ffc87f5} with creation date 2023-12-03 09:42:28Z, activation date 2023-12-03 09:42:28Z, and expiration date 2024-03-02 09:42:28Z.
2023-12-03 09:42:28.950 +00:00 [DBG] Descriptor deserializer type for key {059791d7-a66b-425e-bc24-5d518ffc87f5} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-03 09:42:28.956 +00:00 [DBG] No key escrow sink found. Not writing key {059791d7-a66b-425e-bc24-5d518ffc87f5} to escrow.
2023-12-03 09:42:28.956 +00:00 [WRN] No XML encryptor configured. Key {059791d7-a66b-425e-bc24-5d518ffc87f5} may be persisted to storage in unencrypted form.
2023-12-03 09:42:28.957 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-03 09:42:28.959 +00:00 [DBG] Found key {059791d7-a66b-425e-bc24-5d518ffc87f5}.
2023-12-03 09:42:28.969 +00:00 [DBG] Considering key {059791d7-a66b-425e-bc24-5d518ffc87f5} with expiration date 2024-03-02 09:42:28Z as default key.
2023-12-03 09:42:28.977 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-03 09:42:28.981 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-03 09:42:28.983 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-03 09:42:28.987 +00:00 [DBG] Using key {059791d7-a66b-425e-bc24-5d518ffc87f5} as the default key.
2023-12-03 09:42:28.989 +00:00 [DBG] Key ring with default key {059791d7-a66b-425e-bc24-5d518ffc87f5} was loaded during application startup.
2023-12-03 09:42:29.143 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BE2CD7E804037B286FD89483D53ADEA9C0025E51)
2023-12-03 09:42:29.428 +00:00 [INF] Now listening on: http://[::]:80
2023-12-03 09:42:29.428 +00:00 [INF] Now listening on: https://[::]:443
2023-12-03 09:42:29.429 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-03 09:42:29.430 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-03 09:42:29.431 +00:00 [INF] Hosting environment: Development
2023-12-03 09:42:29.432 +00:00 [INF] Content root path: /app
2023-12-03 09:42:29.432 +00:00 [DBG] Hosting started
2023-12-03 09:42:29.647 +00:00 [DBG] Connection id "0HMVJSGLA5O6P" accepted.
2023-12-03 09:42:29.650 +00:00 [DBG] Connection id "0HMVJSGLA5O6P" started.
2023-12-03 09:42:29.700 +00:00 [DBG] Connection 0HMVJSGLA5O6P established using the following protocol: "Tls13"
2023-12-03 09:42:29.769 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/index.html - null null
2023-12-03 09:42:29.772 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-03 09:42:29.806 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-03 09:42:29.808 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:42:29.939 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/index.html - 200 null text/html;charset=utf-8 170.2304ms
2023-12-03 09:42:30.317 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - null null
2023-12-03 09:42:30.320 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-03 09:42:30.322 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:42:30.486 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 168.605ms
2023-12-03 09:42:47.964 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 58
2023-12-03 09:42:47.972 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:42:47.974 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:42:47.992 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:42:47.996 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:42:48.060 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 09:42:48.066 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:42:48.102 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:42:48.107 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:42:48.108 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:42:48.109 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:42:48.110 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:42:48.111 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:42:48.116 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:42:48.118 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:42:48.126 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:42:48.132 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:42:48.135 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:42:48.147 +00:00 [DBG] Connection id "0HMVJSGLA5O6P", Request id "0HMVJSGLA5O6P:00000005": started reading request body.
2023-12-03 09:42:48.149 +00:00 [DBG] Connection id "0HMVJSGLA5O6P", Request id "0HMVJSGLA5O6P:00000005": done reading request body.
2023-12-03 09:42:48.156 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:42:48.157 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:42:48.158 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:42:48.160 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:42:48.174 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:42:48.177 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:42:48.179 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:42:48.180 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:42:48.183 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:42:48.227 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:42:48.301 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-03 09:42:48.614 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 09:42:48.660 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:42:48.661 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-03 09:42:48.665 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:48.668 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:48.669 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:42:48.670 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:42:48.677 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-12-03 09:42:48.681 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:42:48.706 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:42:48.806 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:42:48.852 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:48.853 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 146ms reading results.
2023-12-03 09:42:48.858 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:48.859 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:42:48.983 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-03 09:42:49.067 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-03 09:42:49.074 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:49.074 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:49.075 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:42:49.076 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:42:49.077 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:42:49.078 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:42:49.093 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:42:49.095 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:49.096 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-03 09:42:49.097 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:49.098 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:42:52.644 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:42:52.650 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-03 09:42:52.665 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 4546.2263ms
2023-12-03 09:42:52.667 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:42:52.672 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 4670.9509 ms
2023-12-03 09:42:52.675 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:42:52.678 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:42:52.681 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 09:42:52.682 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 200 null application/json; charset=utf-8 4719.0976ms
2023-12-03 09:43:17.566 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/Cart - application/json 93
2023-12-03 09:43:17.571 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-03 09:43:17.573 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Create (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-03 09:43:17.574 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-03 09:43:17.575 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:43:17.633 +00:00 [DBG] Successfully validated the token.
2023-12-03 09:43:17.636 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 09:43:17.639 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-03 09:43:17.646 +00:00 [INF] Route matched with {action = "Create", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.Carts.Create.CreateCartRequest, MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-12-03 09:43:17.646 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:43:17.647 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:43:17.648 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:43:17.648 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:43:17.649 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:43:17.650 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-03 09:43:17.651 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-03 09:43:17.652 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' ...
2023-12-03 09:43:17.652 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' using the name '' in request data ...
2023-12-03 09:43:17.653 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:43:17.665 +00:00 [DBG] Connection id "0HMVJSGLA5O6P", Request id "0HMVJSGLA5O6P:00000007": started reading request body.
2023-12-03 09:43:17.665 +00:00 [DBG] Connection id "0HMVJSGLA5O6P", Request id "0HMVJSGLA5O6P:00000007": done reading request body.
2023-12-03 09:43:17.673 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Carts.Create.CreateCartRequest'
2023-12-03 09:43:17.673 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-03 09:43:17.674 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-03 09:43:17.675 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Carts.Create.CreateCartRequest' ...
2023-12-03 09:43:17.679 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Carts.Create.CreateCartRequest'.
2023-12-03 09:43:17.680 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:43:17.681 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:43:17.681 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:43:17.683 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:43:24.577 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:43:24.614 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Cart' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:43:24.621 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-03 09:43:24.634 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-03 09:43:24.641 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-12-03 09:43:24.644 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-03 09:43:24.645 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-03 09:43:24.739 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:43:24.740 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-03 09:43:24.741 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:43:24.742 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:43:24.746 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:43:24.747 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:43:24.748 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:43:24.749 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Carts" ("ProductId", "UserId", "Quantity")
VALUES (@p0, @p1, @p2);
2023-12-03 09:43:24.770 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Carts" ("ProductId", "UserId", "Quantity")
VALUES (@p0, @p1, @p2);
2023-12-03 09:43:24.779 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:43:24.780 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 8ms reading results.
2023-12-03 09:43:24.808 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:43:24.809 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:43:24.821 +00:00 [DBG] An entity of type 'Cart' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:43:24.825 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-12-03 09:43:24.832 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:43:24.833 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Create (WebApi) in 7183.6753ms
2023-12-03 09:43:24.834 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Create (WebApi)'
2023-12-03 09:43:24.835 +00:00 [INF] HTTP POST /Cart responded 200 in 7258.9535 ms
2023-12-03 09:43:24.836 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:43:24.837 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:43:24.839 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:43:24.840 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/Cart - 200 0 null 7274.0711ms
2023-12-03 09:46:04.747 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-03 09:46:05.460 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-03 09:46:05.463 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-03 09:46:05.577 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:46:05.578 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:46:05.578 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:46:05.799 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:46:05.813 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:46:05.858 +00:00 [DBG] Created DbConnection. (42ms).
2023-12-03 09:46:05.867 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.086 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.090 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.099 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (6ms).
2023-12-03 09:46:06.108 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:46:06.116 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2023-12-03 09:46:06.118 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (12ms).
2023-12-03 09:46:06.119 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.275 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.285 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:46:06.383 +00:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:46:06.385 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.388 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-12-03 09:46:06.403 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.404 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.405 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:46:06.406 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:46:06.407 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:46:06.408 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:46:06.415 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:46:06.423 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.425 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 8ms reading results.
2023-12-03 09:46:06.426 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.427 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:46:06.429 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.431 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.519 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.519 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.520 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:46:06.521 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:46:06.522 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:46:06.523 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:46:06.524 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.525 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.525 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:46:06.527 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:46:06.528 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.529 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:46:06.530 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.637 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.638 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.639 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:46:06.639 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:46:06.640 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 09:46:06.641 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:46:06.641 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.642 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.643 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:46:06.644 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:46:06.646 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.647 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:46:06.648 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.649 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.649 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:46:06.650 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:46:06.651 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:46:06.651 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:46:06.653 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:46:06.654 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.655 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-03 09:46:06.656 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.657 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:46:06.669 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-03 09:46:06.672 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:46:06.675 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:06.677 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:46:06.735 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-03 09:46:06.816 +00:00 [DBG] Hosting starting
2023-12-03 09:46:06.841 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-03 09:46:06.842 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-03 09:46:06.858 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-03 09:46:06.859 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-03 09:46:06.865 +00:00 [INF] Creating key {5f9767fa-e9ef-4319-985d-4081ff570758} with creation date 2023-12-03 09:46:06Z, activation date 2023-12-03 09:46:06Z, and expiration date 2024-03-02 09:46:06Z.
2023-12-03 09:46:06.872 +00:00 [DBG] Descriptor deserializer type for key {5f9767fa-e9ef-4319-985d-4081ff570758} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-03 09:46:06.878 +00:00 [DBG] No key escrow sink found. Not writing key {5f9767fa-e9ef-4319-985d-4081ff570758} to escrow.
2023-12-03 09:46:06.879 +00:00 [WRN] No XML encryptor configured. Key {5f9767fa-e9ef-4319-985d-4081ff570758} may be persisted to storage in unencrypted form.
2023-12-03 09:46:06.881 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-03 09:46:06.883 +00:00 [DBG] Found key {5f9767fa-e9ef-4319-985d-4081ff570758}.
2023-12-03 09:46:06.891 +00:00 [DBG] Considering key {5f9767fa-e9ef-4319-985d-4081ff570758} with expiration date 2024-03-02 09:46:06Z as default key.
2023-12-03 09:46:06.898 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-03 09:46:06.901 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-03 09:46:06.901 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-03 09:46:06.905 +00:00 [DBG] Using key {5f9767fa-e9ef-4319-985d-4081ff570758} as the default key.
2023-12-03 09:46:06.907 +00:00 [DBG] Key ring with default key {5f9767fa-e9ef-4319-985d-4081ff570758} was loaded during application startup.
2023-12-03 09:46:07.072 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BE2CD7E804037B286FD89483D53ADEA9C0025E51)
2023-12-03 09:46:07.308 +00:00 [INF] Now listening on: http://[::]:80
2023-12-03 09:46:07.309 +00:00 [INF] Now listening on: https://[::]:443
2023-12-03 09:46:07.309 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-03 09:46:07.310 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-03 09:46:07.311 +00:00 [INF] Hosting environment: Development
2023-12-03 09:46:07.312 +00:00 [INF] Content root path: /app
2023-12-03 09:46:07.314 +00:00 [DBG] Hosting started
2023-12-03 09:46:07.508 +00:00 [DBG] Connection id "0HMVJSIM7RH9H" accepted.
2023-12-03 09:46:07.510 +00:00 [DBG] Connection id "0HMVJSIM7RH9H" started.
2023-12-03 09:46:07.559 +00:00 [DBG] Connection 0HMVJSIM7RH9H established using the following protocol: "Tls13"
2023-12-03 09:46:07.623 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/index.html - null null
2023-12-03 09:46:07.625 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-03 09:46:07.656 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-03 09:46:07.658 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:46:07.779 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/index.html - 200 null text/html;charset=utf-8 159.1911ms
2023-12-03 09:46:08.176 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - null null
2023-12-03 09:46:08.178 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-03 09:46:08.179 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:46:08.323 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 146.9589ms
2023-12-03 09:46:35.810 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 58
2023-12-03 09:46:35.823 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:46:35.825 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:46:35.845 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:46:35.850 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:46:35.926 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 09:46:35.931 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:46:35.969 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:46:35.973 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:46:35.974 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:46:35.976 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:46:35.977 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:46:35.978 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:46:35.982 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:46:35.984 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:46:35.991 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:46:35.997 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:46:36.000 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:46:36.011 +00:00 [DBG] Connection id "0HMVJSIM7RH9H", Request id "0HMVJSIM7RH9H:00000005": started reading request body.
2023-12-03 09:46:36.013 +00:00 [DBG] Connection id "0HMVJSIM7RH9H", Request id "0HMVJSIM7RH9H:00000005": done reading request body.
2023-12-03 09:46:36.020 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:46:36.023 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:46:36.024 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:46:36.025 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:46:36.041 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:46:36.044 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:46:36.047 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:46:36.047 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:46:36.049 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:46:36.086 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:46:36.179 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-03 09:46:36.475 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 09:46:36.530 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:46:36.532 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-03 09:46:36.536 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:36.540 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:36.540 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:46:36.541 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:46:36.548 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-12-03 09:46:36.554 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:46:36.585 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:46:36.679 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:46:36.733 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:36.734 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 148ms reading results.
2023-12-03 09:46:36.739 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:36.741 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:46:36.874 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-03 09:46:36.966 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-03 09:46:36.970 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:36.971 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:36.972 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:46:36.974 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:46:36.974 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:46:36.975 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:46:36.989 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:46:36.992 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:36.993 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-03 09:46:36.993 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:36.994 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:46:37.042 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:46:37.050 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-03 09:46:37.069 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 1080.795ms
2023-12-03 09:46:37.070 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:46:37.076 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 1221.5963 ms
2023-12-03 09:46:37.079 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:46:37.084 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:37.087 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 09:46:37.088 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 200 null application/json; charset=utf-8 1301.5696ms
2023-12-03 09:46:49.461 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/Cart - null null
2023-12-03 09:46:49.462 +00:00 [DBG] 1 candidate(s) found for the request path '/Cart'
2023-12-03 09:46:49.463 +00:00 [DBG] Endpoint 'Web.API.Endpoints.CartController.Get (WebApi)' with route pattern 'Cart' is valid for the request path '/Cart'
2023-12-03 09:46:49.464 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-12-03 09:46:49.465 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:46:49.520 +00:00 [DBG] Successfully validated the token.
2023-12-03 09:46:49.523 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 09:46:49.525 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-12-03 09:46:49.531 +00:00 [INF] Route matched with {action = "Get", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(MediatR.ISender) on controller Web.API.Endpoints.CartController (WebApi).
2023-12-03 09:46:49.531 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:46:49.532 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:46:49.533 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:46:49.534 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:46:49.534 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:46:49.535 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-03 09:46:49.536 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.CartController (WebApi)
2023-12-03 09:46:49.537 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:46:49.538 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:46:49.539 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:46:49.540 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:46:49.598 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:46:49.602 +00:00 [DBG] Compiling query expression: 
'DbSet<Cart>()
    .Where(c => c.UserId == __request_UserId_0)
    .Select(c => new CartResponse(
        c.UserId.Value, 
        c.ProductId.Value, 
        c.Quantity
    ))'
2023-12-03 09:46:49.616 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<CartResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
        SELECT c.UserId, c.ProductId, c.Quantity
        FROM Carts AS c
        WHERE c.UserId == @__request_UserId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, CartResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-03 09:46:49.618 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:46:49.618 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-03 09:46:49.619 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:49.620 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:49.621 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:46:49.622 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:46:49.625 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-12-03 09:46:49.626 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__request_UserId_0
2023-12-03 09:46:49.696 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT c."UserId", c."ProductId", c."Quantity"
FROM "Carts" AS c
WHERE c."UserId" = @__request_UserId_0
2023-12-03 09:46:49.731 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:49.732 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 34ms reading results.
2023-12-03 09:46:49.732 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:49.733 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:46:49.735 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:46:49.748 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-12-03 09:46:49.755 +00:00 [INF] Executed action Web.API.Endpoints.CartController.Get (WebApi) in 220.1588ms
2023-12-03 09:46:49.756 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.CartController.Get (WebApi)'
2023-12-03 09:46:49.757 +00:00 [INF] HTTP GET /Cart responded 200 in 291.3255 ms
2023-12-03 09:46:49.758 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:46:49.760 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:46:49.761 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:46:49.763 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/Cart - 200 null application/json; charset=utf-8 302.3586ms
2023-12-03 09:57:41.005 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-03 09:57:41.717 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-03 09:57:41.719 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-03 09:57:41.862 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:57:41.862 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:57:41.863 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 09:57:42.040 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:57:42.060 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:57:42.112 +00:00 [DBG] Created DbConnection. (49ms).
2023-12-03 09:57:42.121 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.371 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.374 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.389 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (9ms).
2023-12-03 09:57:42.401 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:57:42.409 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (8ms).
2023-12-03 09:57:42.412 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (13ms).
2023-12-03 09:57:42.413 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.564 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.574 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:57:42.651 +00:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:57:42.653 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.656 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-12-03 09:57:42.668 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.670 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.671 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:57:42.672 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:57:42.672 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:57:42.674 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:57:42.680 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:57:42.689 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.691 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 8ms reading results.
2023-12-03 09:57:42.692 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.693 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:57:42.697 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.698 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.796 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.797 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.797 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:57:42.799 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:57:42.799 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 09:57:42.800 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:57:42.801 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.802 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.802 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:57:42.804 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:57:42.805 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.806 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:57:42.807 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.899 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.899 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.900 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:57:42.901 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 09:57:42.901 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-03 09:57:42.902 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 09:57:42.903 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.904 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.905 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:57:42.907 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 09:57:42.907 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.908 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:57:42.909 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.910 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.910 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:57:42.911 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:57:42.912 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:57:42.913 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:57:42.914 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 09:57:42.915 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.916 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-03 09:57:42.917 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.917 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:57:42.929 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-03 09:57:42.932 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:57:42.935 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:57:42.937 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:57:42.998 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-03 09:57:43.089 +00:00 [DBG] Hosting starting
2023-12-03 09:57:43.116 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-03 09:57:43.116 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-03 09:57:43.131 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-03 09:57:43.132 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-03 09:57:43.138 +00:00 [INF] Creating key {39a8f7ee-ce8f-40fb-8da1-d10e69ad5530} with creation date 2023-12-03 09:57:43Z, activation date 2023-12-03 09:57:43Z, and expiration date 2024-03-02 09:57:43Z.
2023-12-03 09:57:43.146 +00:00 [DBG] Descriptor deserializer type for key {39a8f7ee-ce8f-40fb-8da1-d10e69ad5530} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-03 09:57:43.150 +00:00 [DBG] No key escrow sink found. Not writing key {39a8f7ee-ce8f-40fb-8da1-d10e69ad5530} to escrow.
2023-12-03 09:57:43.151 +00:00 [WRN] No XML encryptor configured. Key {39a8f7ee-ce8f-40fb-8da1-d10e69ad5530} may be persisted to storage in unencrypted form.
2023-12-03 09:57:43.152 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-03 09:57:43.154 +00:00 [DBG] Found key {39a8f7ee-ce8f-40fb-8da1-d10e69ad5530}.
2023-12-03 09:57:43.164 +00:00 [DBG] Considering key {39a8f7ee-ce8f-40fb-8da1-d10e69ad5530} with expiration date 2024-03-02 09:57:43Z as default key.
2023-12-03 09:57:43.171 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-03 09:57:43.174 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-03 09:57:43.175 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-03 09:57:43.179 +00:00 [DBG] Using key {39a8f7ee-ce8f-40fb-8da1-d10e69ad5530} as the default key.
2023-12-03 09:57:43.181 +00:00 [DBG] Key ring with default key {39a8f7ee-ce8f-40fb-8da1-d10e69ad5530} was loaded during application startup.
2023-12-03 09:57:43.344 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BE2CD7E804037B286FD89483D53ADEA9C0025E51)
2023-12-03 09:57:43.633 +00:00 [INF] Now listening on: http://[::]:80
2023-12-03 09:57:43.634 +00:00 [INF] Now listening on: https://[::]:443
2023-12-03 09:57:43.635 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-03 09:57:43.636 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-03 09:57:43.637 +00:00 [INF] Hosting environment: Development
2023-12-03 09:57:43.637 +00:00 [INF] Content root path: /app
2023-12-03 09:57:43.638 +00:00 [DBG] Hosting started
2023-12-03 09:57:43.859 +00:00 [DBG] Connection id "0HMVJSP5OP1OQ" accepted.
2023-12-03 09:57:43.862 +00:00 [DBG] Connection id "0HMVJSP5OP1OQ" started.
2023-12-03 09:57:43.927 +00:00 [DBG] Connection 0HMVJSP5OP1OQ established using the following protocol: "Tls13"
2023-12-03 09:57:44.005 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/index.html - null null
2023-12-03 09:57:44.008 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-03 09:57:44.048 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-03 09:57:44.049 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:57:44.222 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/index.html - 200 null text/html;charset=utf-8 220.5035ms
2023-12-03 09:57:44.616 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - null null
2023-12-03 09:57:44.618 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-03 09:57:44.619 +00:00 [DBG] Request did not match any endpoints
2023-12-03 09:57:44.810 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 193.6952ms
2023-12-03 09:58:01.272 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 48
2023-12-03 09:58:01.281 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:58:01.283 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:58:01.302 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:58:01.306 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:58:01.373 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 09:58:01.378 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:58:01.408 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:58:01.411 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:58:01.413 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:58:01.414 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:58:01.415 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:58:01.416 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:58:01.419 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:58:01.421 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:58:01.427 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:58:01.432 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:58:01.434 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:58:01.443 +00:00 [DBG] Connection id "0HMVJSP5OP1OQ", Request id "0HMVJSP5OP1OQ:00000005": started reading request body.
2023-12-03 09:58:01.445 +00:00 [DBG] Connection id "0HMVJSP5OP1OQ", Request id "0HMVJSP5OP1OQ:00000005": done reading request body.
2023-12-03 09:58:01.452 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:58:01.454 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:58:01.455 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:58:01.456 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:58:01.471 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:58:01.474 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:58:01.476 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:58:01.477 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:58:01.479 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:58:01.525 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:58:01.614 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-03 09:58:01.869 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 09:58:01.926 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:58:01.927 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-03 09:58:01.931 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:01.933 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:01.933 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:58:01.934 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:58:01.939 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-12-03 09:58:01.943 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:58:01.970 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:58:01.982 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:01.983 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 11ms reading results.
2023-12-03 09:58:02.011 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:02.014 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 09:58:02.085 +00:00 [INF] Setting HTTP status code 401.
2023-12-03 09:58:02.092 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 670.9838ms
2023-12-03 09:58:02.094 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:58:02.098 +00:00 [INF] HTTP POST /api/Auth/login responded 401 in 788.6406 ms
2023-12-03 09:58:02.104 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:58:02.109 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:02.112 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 09:58:02.114 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 401 0 null 862.4765ms
2023-12-03 09:58:10.317 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 58
2023-12-03 09:58:10.321 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 09:58:10.322 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 09:58:10.323 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:58:10.324 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:58:10.327 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 09:58:10.328 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:58:10.330 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 09:58:10.331 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:58:10.332 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:58:10.332 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:58:10.333 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:58:10.334 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:58:10.336 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:58:10.337 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 09:58:10.339 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:58:10.340 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 09:58:10.341 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 09:58:10.342 +00:00 [DBG] Connection id "0HMVJSP5OP1OQ", Request id "0HMVJSP5OP1OQ:00000007": started reading request body.
2023-12-03 09:58:10.374 +00:00 [DBG] Connection id "0HMVJSP5OP1OQ", Request id "0HMVJSP5OP1OQ:00000007": done reading request body.
2023-12-03 09:58:10.379 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 09:58:10.380 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:58:10.382 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:58:10.382 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 09:58:10.384 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 09:58:10.387 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:58:10.388 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:58:10.388 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:58:10.389 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:58:10.441 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:58:10.447 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:58:10.447 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-03 09:58:10.448 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:10.448 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:10.449 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:58:10.449 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:58:10.450 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:58:10.450 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:58:10.479 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 09:58:10.540 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 09:58:10.595 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:10.596 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 115ms reading results.
2023-12-03 09:58:10.597 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:10.597 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:58:10.720 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-03 09:58:10.776 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-03 09:58:10.780 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:10.781 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:10.782 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:58:10.782 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:58:10.783 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 09:58:10.784 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:58:10.849 +00:00 [INF] Executed DbCommand (65ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 09:58:10.853 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:10.854 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-12-03 09:58:10.855 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:10.856 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 09:58:10.901 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 09:58:10.907 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-03 09:58:10.914 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 578.5005ms
2023-12-03 09:58:10.916 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 09:58:10.916 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 591.4848 ms
2023-12-03 09:58:10.918 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:58:10.940 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:10.944 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-12-03 09:58:10.945 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 200 null application/json; charset=utf-8 627.8264ms
2023-12-03 09:58:25.567 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/me - null null
2023-12-03 09:58:25.583 +00:00 [DBG] 1 candidate(s) found for the request path '/me'
2023-12-03 09:58:25.584 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.GetByCurrentUserId (WebApi)' with route pattern 'me' is valid for the request path '/me'
2023-12-03 09:58:25.585 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.GetByCurrentUserId (WebApi)'
2023-12-03 09:58:25.586 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 09:58:25.643 +00:00 [DBG] Successfully validated the token.
2023-12-03 09:58:25.646 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 09:58:25.648 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.UserController.GetByCurrentUserId (WebApi)'
2023-12-03 09:58:25.655 +00:00 [INF] Route matched with {action = "GetByCurrentUserId", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] GetByCurrentUserId(MediatR.ISender) on controller Web.API.Endpoints.UserController (WebApi).
2023-12-03 09:58:25.656 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 09:58:25.656 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 09:58:25.657 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:58:25.657 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 09:58:25.658 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 09:58:25.658 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-12-03 09:58:25.659 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.UserController (WebApi)
2023-12-03 09:58:25.660 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:58:25.662 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:58:25.662 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 09:58:25.663 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 09:58:25.669 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 09:58:25.673 +00:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Where(p => p.Id == __request_UserId_0)
    .Select(p => new UserResponse(
        p.Id.Value, 
        p.Email, 
        p.Name, 
        p.Role
    ))
    .FirstOrDefault()'
2023-12-03 09:58:25.692 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UserResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<UserResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(1) u.Id, u.Email, u.Name, u.Role
            FROM Users AS u
            WHERE u.Id == @__request_UserId_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UserResponse>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 09:58:25.694 +00:00 [DBG] Creating DbConnection.
2023-12-03 09:58:25.695 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-03 09:58:25.695 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:25.696 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:25.697 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 09:58:25.697 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 09:58:25.700 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-03 09:58:25.701 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__request_UserId_0
LIMIT 1
2023-12-03 09:58:25.750 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT u."Id", u."Email", u."Name", u."Role"
FROM "Users" AS u
WHERE u."Id" = @__request_UserId_0
LIMIT 1
2023-12-03 09:58:25.859 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:25.859 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 87ms reading results.
2023-12-03 09:58:25.860 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:25.861 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:58:25.951 +00:00 [INF] Setting HTTP status code 404.
2023-12-03 09:58:25.952 +00:00 [INF] Writing value of type 'String' as Json.
2023-12-03 09:58:25.953 +00:00 [INF] Executed action Web.API.Endpoints.UserController.GetByCurrentUserId (WebApi) in 295.1936ms
2023-12-03 09:58:25.955 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.UserController.GetByCurrentUserId (WebApi)'
2023-12-03 09:58:25.956 +00:00 [INF] HTTP GET /me responded 404 in 369.0248 ms
2023-12-03 09:58:25.957 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 09:58:25.958 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 09:58:25.960 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 09:58:25.961 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/me - 404 null application/json; charset=utf-8 394.3534ms
2023-12-03 12:50:12.939 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-03 12:50:13.902 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-03 12:50:13.906 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-03 12:50:14.102 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 12:50:14.103 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 12:50:14.104 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 12:50:14.104 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-03 12:50:14.316 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 12:50:14.331 +00:00 [DBG] Creating DbConnection.
2023-12-03 12:50:14.381 +00:00 [DBG] Created DbConnection. (47ms).
2023-12-03 12:50:14.390 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:14.629 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:14.632 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:14.647 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (10ms).
2023-12-03 12:50:14.660 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 12:50:14.668 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (8ms).
2023-12-03 12:50:14.670 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (13ms).
2023-12-03 12:50:14.671 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:14.820 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:14.830 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 12:50:14.915 +00:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 12:50:14.917 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:14.921 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (3ms).
2023-12-03 12:50:14.934 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:14.935 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:14.937 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 12:50:14.937 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 12:50:14.938 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 12:50:14.939 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 12:50:14.946 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 12:50:14.954 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:14.957 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 8ms reading results.
2023-12-03 12:50:14.958 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:14.958 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 12:50:14.962 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:14.963 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.057 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.057 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.058 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 12:50:15.059 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 12:50:15.060 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 12:50:15.061 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-12-03 12:50:15.062 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.063 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.064 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 12:50:15.066 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 12:50:15.067 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.067 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 12:50:15.069 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.175 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.175 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.176 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 12:50:15.178 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-03 12:50:15.179 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 12:50:15.180 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-03 12:50:15.181 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.181 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.182 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 12:50:15.183 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-03 12:50:15.184 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.185 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 12:50:15.186 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.187 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.188 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 12:50:15.189 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 12:50:15.190 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 12:50:15.190 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 12:50:15.192 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-03 12:50:15.194 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.195 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-03 12:50:15.196 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.196 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 12:50:15.210 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-03 12:50:15.213 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 12:50:15.216 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:15.218 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 12:50:15.275 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-03 12:50:15.369 +00:00 [DBG] Hosting starting
2023-12-03 12:50:15.393 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-03 12:50:15.394 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-03 12:50:15.406 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-03 12:50:15.407 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-03 12:50:15.412 +00:00 [INF] Creating key {0f235b22-a767-463f-842e-100be9688cfc} with creation date 2023-12-03 12:50:15Z, activation date 2023-12-03 12:50:15Z, and expiration date 2024-03-02 12:50:15Z.
2023-12-03 12:50:15.422 +00:00 [DBG] Descriptor deserializer type for key {0f235b22-a767-463f-842e-100be9688cfc} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-03 12:50:15.427 +00:00 [DBG] No key escrow sink found. Not writing key {0f235b22-a767-463f-842e-100be9688cfc} to escrow.
2023-12-03 12:50:15.429 +00:00 [WRN] No XML encryptor configured. Key {0f235b22-a767-463f-842e-100be9688cfc} may be persisted to storage in unencrypted form.
2023-12-03 12:50:15.431 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-03 12:50:15.433 +00:00 [DBG] Found key {0f235b22-a767-463f-842e-100be9688cfc}.
2023-12-03 12:50:15.442 +00:00 [DBG] Considering key {0f235b22-a767-463f-842e-100be9688cfc} with expiration date 2024-03-02 12:50:15Z as default key.
2023-12-03 12:50:15.450 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-03 12:50:15.453 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-03 12:50:15.453 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-03 12:50:15.458 +00:00 [DBG] Using key {0f235b22-a767-463f-842e-100be9688cfc} as the default key.
2023-12-03 12:50:15.460 +00:00 [DBG] Key ring with default key {0f235b22-a767-463f-842e-100be9688cfc} was loaded during application startup.
2023-12-03 12:50:15.622 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: BE2CD7E804037B286FD89483D53ADEA9C0025E51)
2023-12-03 12:50:15.853 +00:00 [INF] Now listening on: http://[::]:80
2023-12-03 12:50:15.854 +00:00 [INF] Now listening on: https://[::]:443
2023-12-03 12:50:15.855 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-03 12:50:15.856 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-03 12:50:15.856 +00:00 [INF] Hosting environment: Development
2023-12-03 12:50:15.857 +00:00 [INF] Content root path: /app
2023-12-03 12:50:15.858 +00:00 [DBG] Hosting started
2023-12-03 12:50:16.113 +00:00 [DBG] Connection id "0HMVJVPIVI8BG" accepted.
2023-12-03 12:50:16.119 +00:00 [DBG] Connection id "0HMVJVPIVI8BG" started.
2023-12-03 12:50:16.183 +00:00 [DBG] Connection 0HMVJVPIVI8BG established using the following protocol: "Tls13"
2023-12-03 12:50:16.317 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/index.html - null null
2023-12-03 12:50:16.321 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-03 12:50:16.352 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-03 12:50:16.353 +00:00 [DBG] Request did not match any endpoints
2023-12-03 12:50:16.504 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/index.html - 200 null text/html;charset=utf-8 187.2727ms
2023-12-03 12:50:16.952 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - null null
2023-12-03 12:50:16.955 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-03 12:50:16.956 +00:00 [DBG] Request did not match any endpoints
2023-12-03 12:50:17.130 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 177.6658ms
2023-12-03 12:50:31.262 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/api/Auth/login - application/json 58
2023-12-03 12:50:31.273 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-03 12:50:31.274 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-03 12:50:31.298 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 12:50:31.302 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 12:50:31.372 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-03 12:50:31.376 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 12:50:31.411 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-03 12:50:31.414 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 12:50:31.415 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 12:50:31.416 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 12:50:31.417 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 12:50:31.419 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 12:50:31.422 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 12:50:31.424 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-03 12:50:31.431 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 12:50:31.436 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-03 12:50:31.438 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 12:50:31.448 +00:00 [DBG] Connection id "0HMVJVPIVI8BG", Request id "0HMVJVPIVI8BG:00000005": started reading request body.
2023-12-03 12:50:31.449 +00:00 [DBG] Connection id "0HMVJVPIVI8BG", Request id "0HMVJVPIVI8BG:00000005": done reading request body.
2023-12-03 12:50:31.456 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-03 12:50:31.457 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 12:50:31.458 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 12:50:31.458 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-03 12:50:31.472 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-03 12:50:31.475 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 12:50:31.477 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 12:50:31.478 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 12:50:31.481 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 12:50:31.525 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 12:50:31.603 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-03 12:50:31.925 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 12:50:31.972 +00:00 [DBG] Creating DbConnection.
2023-12-03 12:50:31.973 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-03 12:50:31.978 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:31.980 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:31.981 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 12:50:31.982 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 12:50:31.988 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2023-12-03 12:50:31.992 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 12:50:32.039 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-03 12:50:32.131 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 12:50:32.214 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:32.215 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 174ms reading results.
2023-12-03 12:50:32.226 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:32.228 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-03 12:50:32.367 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-03 12:50:32.432 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-03 12:50:32.435 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:32.436 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:32.437 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 12:50:32.438 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 12:50:32.439 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 12:50:32.439 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 12:50:32.466 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-03 12:50:32.470 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:32.471 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 3ms reading results.
2023-12-03 12:50:32.472 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:32.473 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 12:50:32.522 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 12:50:32.529 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-03 12:50:32.545 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 1118.7477ms
2023-12-03 12:50:32.546 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-03 12:50:32.550 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 1243.7671 ms
2023-12-03 12:50:32.554 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 12:50:32.558 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:32.562 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-12-03 12:50:32.564 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/api/Auth/login - 200 null application/json; charset=utf-8 1302.0516ms
2023-12-03 12:50:58.411 +00:00 [INF] Request starting HTTP/2 POST https://localhost:56559/PurchaseHistory - application/json 38
2023-12-03 12:50:58.425 +00:00 [DBG] 1 candidate(s) found for the request path '/PurchaseHistory'
2023-12-03 12:50:58.426 +00:00 [DBG] Endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)' with route pattern 'PurchaseHistory' is valid for the request path '/PurchaseHistory'
2023-12-03 12:50:58.429 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-03 12:50:58.431 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 12:50:58.492 +00:00 [DBG] Successfully validated the token.
2023-12-03 12:50:58.497 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 12:50:58.498 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-03 12:50:58.505 +00:00 [INF] Route matched with {action = "Create", controller = "PurchaseHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest, MediatR.ISender) on controller Web.API.Endpoints.PurchaseHistoryController (WebApi).
2023-12-03 12:50:58.506 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 12:50:58.506 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 12:50:58.507 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 12:50:58.508 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 12:50:58.508 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 12:50:58.509 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-03 12:50:58.511 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-03 12:50:58.513 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' ...
2023-12-03 12:50:58.514 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' using the name '' in request data ...
2023-12-03 12:50:58.514 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-03 12:50:58.522 +00:00 [DBG] Connection id "0HMVJVPIVI8BG", Request id "0HMVJVPIVI8BG:00000007": started reading request body.
2023-12-03 12:50:58.522 +00:00 [DBG] Connection id "0HMVJVPIVI8BG", Request id "0HMVJVPIVI8BG:00000007": done reading request body.
2023-12-03 12:50:58.526 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'
2023-12-03 12:50:58.527 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-03 12:50:58.528 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-03 12:50:58.529 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' ...
2023-12-03 12:50:58.531 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-03 12:50:58.532 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 12:50:58.533 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 12:50:58.533 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 12:50:58.534 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 12:50:58.609 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 12:50:58.645 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'PurchaseHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 12:50:58.680 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 12:50:58.687 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-03 12:50:58.699 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-03 12:50:58.706 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-12-03 12:50:58.708 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-03 12:50:58.710 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-03 12:50:58.804 +00:00 [DBG] Creating DbConnection.
2023-12-03 12:50:58.805 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-03 12:50:58.805 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:58.806 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:58.810 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 12:50:58.811 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-03 12:50:58.813 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-03 12:50:58.814 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Decimal), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PurchaseHistories" ("Id", "UserId", "Amount_Amount", "Amount_Currency")
VALUES (@p0, @p1, @p2, @p3);
2023-12-03 12:50:58.833 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Decimal), @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PurchaseHistories" ("Id", "UserId", "Amount_Amount", "Amount_Currency")
VALUES (@p0, @p1, @p2, @p3);
2023-12-03 12:50:58.841 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:58.842 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 7ms reading results.
2023-12-03 12:50:58.844 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:58.845 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 12:50:58.858 +00:00 [DBG] An entity of type 'PurchaseHistory' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 12:50:58.859 +00:00 [DBG] An entity of type 'Money' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-03 12:50:58.864 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-12-03 12:50:58.869 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 12:50:58.870 +00:00 [INF] Executed action Web.API.Endpoints.PurchaseHistoryController.Create (WebApi) in 361.0432ms
2023-12-03 12:50:58.871 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-03 12:50:58.872 +00:00 [INF] HTTP POST /PurchaseHistory responded 200 in 440.2347 ms
2023-12-03 12:50:58.873 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 12:50:58.874 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:50:58.874 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 12:50:58.875 +00:00 [INF] Request finished HTTP/2 POST https://localhost:56559/PurchaseHistory - 200 0 null 464.0617ms
2023-12-03 12:51:06.919 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/PurchaseHistory - null null
2023-12-03 12:51:06.921 +00:00 [DBG] 1 candidate(s) found for the request path '/PurchaseHistory'
2023-12-03 12:51:06.921 +00:00 [DBG] Endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)' with route pattern 'PurchaseHistory' is valid for the request path '/PurchaseHistory'
2023-12-03 12:51:06.922 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-03 12:51:06.923 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 12:51:06.929 +00:00 [DBG] Successfully validated the token.
2023-12-03 12:51:06.930 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 12:51:06.931 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-03 12:51:06.937 +00:00 [INF] Route matched with {action = "Get", controller = "PurchaseHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(MediatR.ISender) on controller Web.API.Endpoints.PurchaseHistoryController (WebApi).
2023-12-03 12:51:06.938 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 12:51:06.939 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 12:51:06.939 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 12:51:06.940 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 12:51:06.941 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 12:51:06.941 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-03 12:51:06.942 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-03 12:51:06.942 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 12:51:06.944 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 12:51:06.945 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 12:51:06.946 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 12:51:06.954 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 12:51:06.959 +00:00 [DBG] Compiling query expression: 
'DbSet<PurchaseHistory>()
    .Where(p => p.UserId == __request_UserId_0)
    .Select(p => new PurchaseHistoryResponse(
        p.Id.Value, 
        p.UserId.Value, 
        p.Amount.Currency, 
        p.Amount.Amount
    ))'
2023-12-03 12:51:07.000 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PurchaseHistoryResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
        SELECT p.Id, p.UserId, p.Amount_Currency, p.Amount_Amount
        FROM PurchaseHistories AS p
        WHERE p.UserId == @__request_UserId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PurchaseHistoryResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-03 12:51:07.002 +00:00 [DBG] Creating DbConnection.
2023-12-03 12:51:07.003 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-03 12:51:07.004 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:51:07.004 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:51:07.005 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 12:51:07.006 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 12:51:07.006 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 12:51:07.007 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."UserId", p."Amount_Currency", p."Amount_Amount"
FROM "PurchaseHistories" AS p
WHERE p."UserId" = @__request_UserId_0
2023-12-03 12:51:07.011 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."UserId", p."Amount_Currency", p."Amount_Amount"
FROM "PurchaseHistories" AS p
WHERE p."UserId" = @__request_UserId_0
2023-12-03 12:51:07.063 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:51:07.063 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 50ms reading results.
2023-12-03 12:51:07.064 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:51:07.065 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-03 12:51:07.066 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 12:51:07.075 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-12-03 12:51:07.083 +00:00 [INF] Executed action Web.API.Endpoints.PurchaseHistoryController.Get (WebApi) in 141.4822ms
2023-12-03 12:51:07.083 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-03 12:51:07.084 +00:00 [INF] HTTP GET /PurchaseHistory responded 200 in 160.2062 ms
2023-12-03 12:51:07.086 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 12:51:07.088 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:51:07.094 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-12-03 12:51:07.116 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/PurchaseHistory - 200 null application/json; charset=utf-8 196.6562ms
2023-12-03 12:51:16.679 +00:00 [INF] Request starting HTTP/2 GET https://localhost:56559/PurchaseHistory/5ead0821-645a-4a25-ad8f-a0559ea1112b - null null
2023-12-03 12:51:16.680 +00:00 [DBG] 1 candidate(s) found for the request path '/PurchaseHistory/5ead0821-645a-4a25-ad8f-a0559ea1112b'
2023-12-03 12:51:16.682 +00:00 [DBG] Endpoint 'Web.API.Endpoints.PurchaseHistoryController.GetById (WebApi)' with route pattern 'PurchaseHistory/{id:guid}' is valid for the request path '/PurchaseHistory/5ead0821-645a-4a25-ad8f-a0559ea1112b'
2023-12-03 12:51:16.682 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.PurchaseHistoryController.GetById (WebApi)'
2023-12-03 12:51:16.683 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-03 12:51:16.684 +00:00 [DBG] Successfully validated the token.
2023-12-03 12:51:16.686 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-03 12:51:16.687 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.PurchaseHistoryController.GetById (WebApi)'
2023-12-03 12:51:16.695 +00:00 [INF] Route matched with {action = "GetById", controller = "PurchaseHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] GetById(System.Guid, MediatR.ISender) on controller Web.API.Endpoints.PurchaseHistoryController (WebApi).
2023-12-03 12:51:16.696 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-03 12:51:16.696 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-03 12:51:16.697 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 12:51:16.698 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-03 12:51:16.698 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-03 12:51:16.699 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-03 12:51:16.699 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-03 12:51:16.700 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-12-03 12:51:16.702 +00:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-12-03 12:51:16.704 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-12-03 12:51:16.705 +00:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-12-03 12:51:16.705 +00:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-12-03 12:51:16.706 +00:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-12-03 12:51:16.707 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 12:51:16.708 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 12:51:16.708 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-03 12:51:16.709 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-03 12:51:16.717 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-03 12:51:16.722 +00:00 [DBG] Compiling query expression: 
'DbSet<PurchaseHistory>()
    .Where(p => p.Id == __request_PurchaseHistoryId_0 && p.UserId == __request_UserId_1)
    .Select(p => new PurchaseHistoryResponse(
        p.Id.Value, 
        p.UserId.Value, 
        p.Amount.Currency, 
        p.Amount.Amount
    ))
    .FirstOrDefault()'
2023-12-03 12:51:16.730 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PurchaseHistoryResponse>(
    asyncEnumerable: new SingleQueryingEnumerable<PurchaseHistoryResponse>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> 0
                1 -> 1
                2 -> 2
                3 -> 3
            SELECT TOP(1) p.Id, p.UserId, p.Amount_Currency, p.Amount_Amount
            FROM PurchaseHistories AS p
            WHERE (p.Id == @__request_PurchaseHistoryId_0) && (p.UserId == @__request_UserId_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PurchaseHistoryResponse>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-03 12:51:16.738 +00:00 [DBG] Creating DbConnection.
2023-12-03 12:51:16.739 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-03 12:51:16.739 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:51:16.740 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:51:16.740 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-03 12:51:16.741 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-03 12:51:16.742 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-03 12:51:16.743 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_PurchaseHistoryId_0='?' (DbType = Guid), @__request_UserId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."UserId", p."Amount_Currency", p."Amount_Amount"
FROM "PurchaseHistories" AS p
WHERE p."Id" = @__request_PurchaseHistoryId_0 AND p."UserId" = @__request_UserId_1
LIMIT 1
2023-12-03 12:51:16.749 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_PurchaseHistoryId_0='?' (DbType = Guid), @__request_UserId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."UserId", p."Amount_Currency", p."Amount_Amount"
FROM "PurchaseHistories" AS p
WHERE p."Id" = @__request_PurchaseHistoryId_0 AND p."UserId" = @__request_UserId_1
LIMIT 1
2023-12-03 12:51:16.752 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:51:16.754 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-12-03 12:51:16.755 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:51:16.757 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 12:51:16.821 +00:00 [INF] Setting HTTP status code 200.
2023-12-03 12:51:16.822 +00:00 [INF] Writing value of type 'PurchaseHistoryResponse' as Json.
2023-12-03 12:51:16.823 +00:00 [INF] Executed action Web.API.Endpoints.PurchaseHistoryController.GetById (WebApi) in 124.1746ms
2023-12-03 12:51:16.824 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.PurchaseHistoryController.GetById (WebApi)'
2023-12-03 12:51:16.824 +00:00 [INF] HTTP GET /PurchaseHistory/5ead0821-645a-4a25-ad8f-a0559ea1112b responded 200 in 140.6143 ms
2023-12-03 12:51:16.826 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-03 12:51:16.829 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-03 12:51:16.831 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-03 12:51:16.831 +00:00 [INF] Request finished HTTP/2 GET https://localhost:56559/PurchaseHistory/5ead0821-645a-4a25-ad8f-a0559ea1112b - 200 null application/json; charset=utf-8 152.703ms
2023-12-04 01:52:02.769 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 01:52:03.212 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 01:52:03.213 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 01:52:03.288 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 01:52:03.289 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 01:52:03.289 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 01:52:03.290 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 01:52:03.394 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 01:52:03.402 +00:00 [DBG] Creating DbConnection.
2023-12-04 01:52:03.431 +00:00 [DBG] Created DbConnection. (27ms).
2023-12-04 01:52:03.435 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.607 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.609 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.615 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-12-04 01:52:03.621 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 01:52:03.628 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2023-12-04 01:52:03.630 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2023-12-04 01:52:03.630 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.719 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.724 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 01:52:03.768 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 01:52:03.769 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.771 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 01:52:03.778 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.778 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.779 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 01:52:03.779 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 01:52:03.779 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 01:52:03.780 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 01:52:03.785 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 01:52:03.790 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.791 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-12-04 01:52:03.791 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.791 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:52:03.793 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.794 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.844 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.844 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.845 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:52:03.845 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 01:52:03.846 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 01:52:03.846 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 01:52:03.846 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.847 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.847 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 01:52:03.848 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 01:52:03.848 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.848 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:52:03.849 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.905 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.906 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.906 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:52:03.906 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 01:52:03.907 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 01:52:03.907 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 01:52:03.908 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.908 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.908 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 01:52:03.910 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 01:52:03.910 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.911 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:52:03.911 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.911 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.912 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 01:52:03.912 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 01:52:03.912 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 01:52:03.913 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 01:52:03.914 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 01:52:03.914 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.914 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 01:52:03.915 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.915 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:52:03.923 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-04 01:52:03.924 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 01:52:03.926 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:52:03.928 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 01:52:03.963 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 01:52:04.011 +00:00 [DBG] Hosting starting
2023-12-04 01:52:04.025 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-04 01:52:04.026 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-04 01:52:04.033 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-04 01:52:04.033 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-04 01:52:04.036 +00:00 [INF] Creating key {25d9f1d5-fd87-44b0-8447-ad44497b74cc} with creation date 2023-12-04 01:52:04Z, activation date 2023-12-04 01:52:04Z, and expiration date 2024-03-03 01:52:04Z.
2023-12-04 01:52:04.040 +00:00 [DBG] Descriptor deserializer type for key {25d9f1d5-fd87-44b0-8447-ad44497b74cc} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-04 01:52:04.043 +00:00 [DBG] No key escrow sink found. Not writing key {25d9f1d5-fd87-44b0-8447-ad44497b74cc} to escrow.
2023-12-04 01:52:04.043 +00:00 [WRN] No XML encryptor configured. Key {25d9f1d5-fd87-44b0-8447-ad44497b74cc} may be persisted to storage in unencrypted form.
2023-12-04 01:52:04.044 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-04 01:52:04.045 +00:00 [DBG] Found key {25d9f1d5-fd87-44b0-8447-ad44497b74cc}.
2023-12-04 01:52:04.050 +00:00 [DBG] Considering key {25d9f1d5-fd87-44b0-8447-ad44497b74cc} with expiration date 2024-03-03 01:52:04Z as default key.
2023-12-04 01:52:04.053 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 01:52:04.054 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-04 01:52:04.055 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-04 01:52:04.057 +00:00 [DBG] Using key {25d9f1d5-fd87-44b0-8447-ad44497b74cc} as the default key.
2023-12-04 01:52:04.058 +00:00 [DBG] Key ring with default key {25d9f1d5-fd87-44b0-8447-ad44497b74cc} was loaded during application startup.
2023-12-04 01:52:04.169 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-04 01:52:04.331 +00:00 [INF] Now listening on: http://[::]:80
2023-12-04 01:52:04.332 +00:00 [INF] Now listening on: https://[::]:443
2023-12-04 01:52:04.332 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-04 01:52:04.333 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 01:52:04.333 +00:00 [INF] Hosting environment: Development
2023-12-04 01:52:04.334 +00:00 [INF] Content root path: /app
2023-12-04 01:52:04.334 +00:00 [DBG] Hosting started
2023-12-04 01:52:05.941 +00:00 [DBG] Connection id "0HMVKDEF6HJT5" accepted.
2023-12-04 01:52:05.943 +00:00 [DBG] Connection id "0HMVKDEF6HJT5" started.
2023-12-04 01:52:05.943 +00:00 [DBG] Connection id "0HMVKDEF6HJT6" accepted.
2023-12-04 01:52:05.946 +00:00 [DBG] Connection id "0HMVKDEF6HJT6" started.
2023-12-04 01:52:05.982 +00:00 [DBG] Connection id "0HMVKDEF6HJT5" received FIN.
2023-12-04 01:52:06.015 +00:00 [DBG] Connection 0HMVKDEF6HJT5 established using the following protocol: "Tls13"
2023-12-04 01:52:06.015 +00:00 [DBG] Connection 0HMVKDEF6HJT6 established using the following protocol: "Tls13"
2023-12-04 01:52:06.030 +00:00 [DBG] Connection id "0HMVKDEF6HJT5" is closed. The last processed stream ID was 0.
2023-12-04 01:52:06.031 +00:00 [DBG] Connection id "0HMVKDEF6HJT5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 01:52:06.037 +00:00 [DBG] The connection queue processing loop for 0HMVKDEF6HJT5 completed.
2023-12-04 01:52:06.046 +00:00 [DBG] Connection id "0HMVKDEF6HJT5" stopped.
2023-12-04 01:52:06.070 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger - null null
2023-12-04 01:52:06.072 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 01:52:06.089 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-12-04 01:52:06.090 +00:00 [DBG] Request did not match any endpoints
2023-12-04 01:52:06.113 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger - 301 0 null 39.0251ms
2023-12-04 01:52:06.121 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/index.html - null null
2023-12-04 01:52:06.122 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-04 01:52:06.122 +00:00 [DBG] Request did not match any endpoints
2023-12-04 01:52:06.190 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/index.html - 200 null text/html;charset=utf-8 69.6898ms
2023-12-04 01:52:06.204 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/swagger-ui.css - null null
2023-12-04 01:52:06.246 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-12-04 01:52:06.287 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/swagger-ui-bundle.js - null null
2023-12-04 01:52:06.287 +00:00 [DBG] Request did not match any endpoints
2023-12-04 01:52:06.307 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/swagger-ui-standalone-preset.js - null null
2023-12-04 01:52:06.312 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-12-04 01:52:06.318 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-12-04 01:52:06.319 +00:00 [DBG] Request did not match any endpoints
2023-12-04 01:52:06.320 +00:00 [DBG] Request did not match any endpoints
2023-12-04 01:52:06.355 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-12-04 01:52:06.355 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/swagger-ui.css - 200 144929 text/css 151.66ms
2023-12-04 01:52:06.367 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-12-04 01:52:06.368 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 81.733ms
2023-12-04 01:52:06.467 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-12-04 01:52:06.467 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 201.3557ms
2023-12-04 01:52:06.740 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - null null
2023-12-04 01:52:06.741 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/favicon-32x32.png - null null
2023-12-04 01:52:06.742 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-04 01:52:06.742 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-12-04 01:52:06.743 +00:00 [DBG] Request did not match any endpoints
2023-12-04 01:52:06.744 +00:00 [DBG] Request did not match any endpoints
2023-12-04 01:52:06.745 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-12-04 01:52:06.746 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/favicon-32x32.png - 200 628 image/png 4.9864ms
2023-12-04 01:52:06.833 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.5291ms
2023-12-04 01:57:07.605 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 01:57:07.987 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 01:57:07.988 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 01:57:08.061 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 01:57:08.062 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 01:57:08.062 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 01:57:08.062 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 01:57:08.162 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 01:57:08.171 +00:00 [DBG] Creating DbConnection.
2023-12-04 01:57:08.201 +00:00 [DBG] Created DbConnection. (28ms).
2023-12-04 01:57:08.206 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.459 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.461 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.469 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-12-04 01:57:08.474 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 01:57:08.479 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-12-04 01:57:08.480 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-12-04 01:57:08.480 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.565 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.571 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 01:57:08.616 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 01:57:08.617 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.619 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-04 01:57:08.627 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.627 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.628 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 01:57:08.628 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 01:57:08.628 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 01:57:08.629 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 01:57:08.642 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 01:57:08.648 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.650 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-12-04 01:57:08.650 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.651 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:57:08.652 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.653 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.724 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.724 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.724 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:57:08.725 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 01:57:08.725 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 01:57:08.726 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 01:57:08.726 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.727 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.727 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 01:57:08.728 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 01:57:08.729 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.729 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:57:08.730 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.793 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.793 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.794 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:57:08.794 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 01:57:08.795 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 01:57:08.795 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-04 01:57:08.796 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.796 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.797 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 01:57:08.798 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 01:57:08.799 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.799 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:57:08.800 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.800 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.801 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 01:57:08.801 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 01:57:08.801 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 01:57:08.802 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 01:57:08.803 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 01:57:08.803 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.804 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 01:57:08.804 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.805 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:57:08.813 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-04 01:57:08.815 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 01:57:08.817 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:08.819 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 01:57:08.856 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 01:57:08.900 +00:00 [DBG] Hosting starting
2023-12-04 01:57:08.916 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-04 01:57:08.917 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-04 01:57:08.924 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-04 01:57:08.925 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-04 01:57:08.927 +00:00 [INF] Creating key {a584ff09-d8f0-47b2-b57f-75293c2f58b1} with creation date 2023-12-04 01:57:08Z, activation date 2023-12-04 01:57:08Z, and expiration date 2024-03-03 01:57:08Z.
2023-12-04 01:57:08.932 +00:00 [DBG] Descriptor deserializer type for key {a584ff09-d8f0-47b2-b57f-75293c2f58b1} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-04 01:57:08.935 +00:00 [DBG] No key escrow sink found. Not writing key {a584ff09-d8f0-47b2-b57f-75293c2f58b1} to escrow.
2023-12-04 01:57:08.936 +00:00 [WRN] No XML encryptor configured. Key {a584ff09-d8f0-47b2-b57f-75293c2f58b1} may be persisted to storage in unencrypted form.
2023-12-04 01:57:08.937 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-04 01:57:08.938 +00:00 [DBG] Found key {a584ff09-d8f0-47b2-b57f-75293c2f58b1}.
2023-12-04 01:57:08.943 +00:00 [DBG] Considering key {a584ff09-d8f0-47b2-b57f-75293c2f58b1} with expiration date 2024-03-03 01:57:08Z as default key.
2023-12-04 01:57:08.947 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 01:57:08.948 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-04 01:57:08.949 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-04 01:57:08.951 +00:00 [DBG] Using key {a584ff09-d8f0-47b2-b57f-75293c2f58b1} as the default key.
2023-12-04 01:57:08.952 +00:00 [DBG] Key ring with default key {a584ff09-d8f0-47b2-b57f-75293c2f58b1} was loaded during application startup.
2023-12-04 01:57:09.061 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-04 01:57:09.171 +00:00 [INF] Now listening on: http://[::]:80
2023-12-04 01:57:09.172 +00:00 [INF] Now listening on: https://[::]:443
2023-12-04 01:57:09.172 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-04 01:57:09.173 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 01:57:09.173 +00:00 [INF] Hosting environment: Development
2023-12-04 01:57:09.173 +00:00 [INF] Content root path: /app
2023-12-04 01:57:09.174 +00:00 [DBG] Hosting started
2023-12-04 01:57:09.332 +00:00 [DBG] Connection id "0HMVKDH9JTFM8" accepted.
2023-12-04 01:57:09.334 +00:00 [DBG] Connection id "0HMVKDH9JTFM8" started.
2023-12-04 01:57:09.364 +00:00 [DBG] Connection 0HMVKDH9JTFM8 established using the following protocol: "Tls13"
2023-12-04 01:57:09.406 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/index.html - null null
2023-12-04 01:57:09.408 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 01:57:09.428 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-04 01:57:09.429 +00:00 [DBG] Request did not match any endpoints
2023-12-04 01:57:09.508 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/index.html - 200 null text/html;charset=utf-8 102.9795ms
2023-12-04 01:57:09.957 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - null null
2023-12-04 01:57:09.959 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-04 01:57:09.960 +00:00 [DBG] Request did not match any endpoints
2023-12-04 01:57:10.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.8843ms
2023-12-04 01:57:28.196 +00:00 [INF] Request starting HTTP/2 POST https://localhost:51092/api/Auth/register-admin - application/json 77
2023-12-04 01:57:28.201 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register-admin'
2023-12-04 01:57:28.202 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)' with route pattern 'api/Auth/register-admin' is valid for the request path '/api/Auth/register-admin'
2023-12-04 01:57:28.215 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 01:57:28.217 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 01:57:28.266 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 01:57:28.268 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 01:57:28.285 +00:00 [INF] Route matched with {action = "RegisterAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] RegisterAdmin(Application.Authentication.Register.RegisterCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 01:57:28.286 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 01:57:28.287 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 01:57:28.288 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 01:57:28.289 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 01:57:28.289 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 01:57:28.291 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 01:57:28.292 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 01:57:28.296 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-04 01:57:28.300 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' using the name '' in request data ...
2023-12-04 01:57:28.301 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 01:57:28.306 +00:00 [DBG] Connection id "0HMVKDH9JTFM8", Request id "0HMVKDH9JTFM8:00000005": started reading request body.
2023-12-04 01:57:28.307 +00:00 [DBG] Connection id "0HMVKDH9JTFM8", Request id "0HMVKDH9JTFM8:00000005": done reading request body.
2023-12-04 01:57:28.312 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Register.RegisterCommand'
2023-12-04 01:57:28.313 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-04 01:57:28.314 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-04 01:57:28.315 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-04 01:57:28.322 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-04 01:57:28.323 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 01:57:28.325 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 01:57:28.325 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 01:57:28.328 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 01:57:28.350 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 01:57:28.388 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-12-04 01:57:28.511 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 01:57:28.540 +00:00 [DBG] Creating DbConnection.
2023-12-04 01:57:28.540 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 01:57:28.542 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:28.544 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:28.545 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 01:57:28.545 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 01:57:28.550 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-12-04 01:57:28.552 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 01:57:28.609 +00:00 [INF] Executed DbCommand (59ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 01:57:28.615 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:28.615 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-12-04 01:57:28.618 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:28.619 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:57:28.698 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:28.698 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:28.698 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 01:57:28.699 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 01:57:28.700 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 01:57:28.700 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 01:57:28.725 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 01:57:28.726 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:28.727 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-04 01:57:28.728 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:28.729 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:57:28.793 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 01:57:28.798 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 01:57:28.813 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 01:57:28.816 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-12-04 01:57:28.817 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 01:57:28.818 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 01:57:28.857 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:28.857 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:28.859 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 01:57:28.860 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 01:57:28.861 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 01:57:28.861 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-12-04 01:57:28.880 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-12-04 01:57:28.883 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:28.883 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-04 01:57:28.884 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:28.885 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:57:28.891 +00:00 [DBG] An entity of type 'BaseAuthentication' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 01:57:28.893 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-12-04 01:57:28.901 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 01:57:28.905 +00:00 [INF] Executed action WebApi.Controllers.AuthController.RegisterAdmin (WebApi) in 612.5192ms
2023-12-04 01:57:28.906 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 01:57:28.909 +00:00 [INF] HTTP POST /api/Auth/register-admin responded 200 in 688.2639 ms
2023-12-04 01:57:28.912 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 01:57:28.916 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:28.917 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 01:57:28.918 +00:00 [INF] Request finished HTTP/2 POST https://localhost:51092/api/Auth/register-admin - 200 0 null 722.4073ms
2023-12-04 01:57:44.109 +00:00 [INF] Request starting HTTP/2 POST https://localhost:51092/api/Auth/login - application/json 58
2023-12-04 01:57:44.110 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-04 01:57:44.111 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-04 01:57:44.112 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 01:57:44.112 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 01:57:44.114 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 01:57:44.115 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 01:57:44.122 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 01:57:44.122 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 01:57:44.122 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 01:57:44.123 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 01:57:44.123 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 01:57:44.124 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 01:57:44.124 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 01:57:44.125 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 01:57:44.126 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 01:57:44.126 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-04 01:57:44.126 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 01:57:44.127 +00:00 [DBG] Connection id "0HMVKDH9JTFM8", Request id "0HMVKDH9JTFM8:00000007": started reading request body.
2023-12-04 01:57:44.161 +00:00 [DBG] Connection id "0HMVKDH9JTFM8", Request id "0HMVKDH9JTFM8:00000007": done reading request body.
2023-12-04 01:57:44.164 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-04 01:57:44.166 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 01:57:44.167 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 01:57:44.168 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 01:57:44.170 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 01:57:44.171 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 01:57:44.171 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 01:57:44.172 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 01:57:44.172 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 01:57:44.213 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 01:57:44.215 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-04 01:57:44.222 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 01:57:44.222 +00:00 [DBG] Creating DbConnection.
2023-12-04 01:57:44.223 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 01:57:44.223 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:44.224 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:44.224 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 01:57:44.224 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 01:57:44.225 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 01:57:44.225 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 01:57:44.228 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 01:57:44.234 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 01:57:44.235 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:44.236 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 7ms reading results.
2023-12-04 01:57:44.236 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:44.237 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:57:44.314 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-04 01:57:44.348 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 01:57:44.350 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:44.351 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:44.351 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 01:57:44.352 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 01:57:44.353 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 01:57:44.353 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 01:57:44.401 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 01:57:44.402 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:44.403 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-04 01:57:44.404 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:44.404 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:57:44.430 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 01:57:44.434 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-04 01:57:44.439 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 314.8861ms
2023-12-04 01:57:44.440 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 01:57:44.440 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 327.6227 ms
2023-12-04 01:57:44.441 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 01:57:44.441 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 01:57:44.443 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 01:57:44.443 +00:00 [INF] Request finished HTTP/2 POST https://localhost:51092/api/Auth/login - 200 null application/json; charset=utf-8 334.9051ms
2023-12-04 01:58:34.561 +00:00 [INF] Request starting HTTP/2 POST https://localhost:51092/User - application/json 83
2023-12-04 01:58:34.564 +00:00 [DBG] 1 candidate(s) found for the request path '/User'
2023-12-04 01:58:34.565 +00:00 [DBG] Endpoint 'Web.API.Endpoints.UserController.Register (WebApi)' with route pattern 'User' is valid for the request path '/User'
2023-12-04 01:58:34.566 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.UserController.Register (WebApi)'
2023-12-04 01:58:34.567 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 01:58:34.595 +00:00 [DBG] Successfully validated the token.
2023-12-04 01:58:34.596 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 01:58:34.603 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-12-04 01:58:34.606 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-04 01:58:34.606 +00:00 [INF] HTTP POST /User responded 403 in 38.9077 ms
2023-12-04 01:58:34.607 +00:00 [INF] Request finished HTTP/2 POST https://localhost:51092/User - 403 0 null 45.6547ms
2023-12-04 01:58:34.608 +00:00 [DBG] Connection id "0HMVKDH9JTFM8", Request id "0HMVKDH9JTFM8:00000009": started reading request body.
2023-12-04 01:58:34.608 +00:00 [DBG] Connection id "0HMVKDH9JTFM8", Request id "0HMVKDH9JTFM8:00000009": done reading request body.
2023-12-04 02:07:14.759 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 02:07:15.199 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 02:07:15.200 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 02:07:15.282 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:07:15.283 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:07:15.283 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:07:15.284 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:07:15.392 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:07:15.403 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:07:15.434 +00:00 [DBG] Created DbConnection. (28ms).
2023-12-04 02:07:15.438 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.573 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.575 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.585 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-12-04 02:07:15.591 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:07:15.597 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-12-04 02:07:15.599 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2023-12-04 02:07:15.599 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.694 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.700 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:07:15.751 +00:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:07:15.752 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.754 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:07:15.763 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.764 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.765 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:07:15.765 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:07:15.765 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:07:15.766 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:07:15.770 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:07:15.776 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.779 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-12-04 02:07:15.779 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.780 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:07:15.782 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.782 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.848 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.848 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.849 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:07:15.850 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:07:15.850 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:07:15.851 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:07:15.851 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.851 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.852 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:07:15.853 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:07:15.854 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.854 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:07:15.855 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.910 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.911 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.912 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:07:15.912 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:07:15.913 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:07:15.913 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:07:15.914 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.915 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.915 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:07:15.916 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:07:15.917 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.917 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:07:15.918 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.918 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.919 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:07:15.919 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:07:15.919 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:07:15.920 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:07:15.921 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:07:15.921 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.921 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:07:15.922 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.922 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:07:15.932 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-04 02:07:15.934 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:07:15.936 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:15.937 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:07:15.973 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 02:07:16.021 +00:00 [DBG] Hosting starting
2023-12-04 02:07:16.037 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-04 02:07:16.038 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-04 02:07:16.045 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-04 02:07:16.046 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-04 02:07:16.049 +00:00 [INF] Creating key {0988bddb-1ed8-4237-a9ee-a99ea7266b98} with creation date 2023-12-04 02:07:16Z, activation date 2023-12-04 02:07:16Z, and expiration date 2024-03-03 02:07:16Z.
2023-12-04 02:07:16.054 +00:00 [DBG] Descriptor deserializer type for key {0988bddb-1ed8-4237-a9ee-a99ea7266b98} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-04 02:07:16.056 +00:00 [DBG] No key escrow sink found. Not writing key {0988bddb-1ed8-4237-a9ee-a99ea7266b98} to escrow.
2023-12-04 02:07:16.057 +00:00 [WRN] No XML encryptor configured. Key {0988bddb-1ed8-4237-a9ee-a99ea7266b98} may be persisted to storage in unencrypted form.
2023-12-04 02:07:16.058 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-04 02:07:16.059 +00:00 [DBG] Found key {0988bddb-1ed8-4237-a9ee-a99ea7266b98}.
2023-12-04 02:07:16.065 +00:00 [DBG] Considering key {0988bddb-1ed8-4237-a9ee-a99ea7266b98} with expiration date 2024-03-03 02:07:16Z as default key.
2023-12-04 02:07:16.070 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 02:07:16.071 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-04 02:07:16.072 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-04 02:07:16.075 +00:00 [DBG] Using key {0988bddb-1ed8-4237-a9ee-a99ea7266b98} as the default key.
2023-12-04 02:07:16.076 +00:00 [DBG] Key ring with default key {0988bddb-1ed8-4237-a9ee-a99ea7266b98} was loaded during application startup.
2023-12-04 02:07:16.185 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-04 02:07:16.294 +00:00 [INF] Now listening on: http://[::]:80
2023-12-04 02:07:16.294 +00:00 [INF] Now listening on: https://[::]:443
2023-12-04 02:07:16.295 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-04 02:07:16.296 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 02:07:16.296 +00:00 [INF] Hosting environment: Development
2023-12-04 02:07:16.297 +00:00 [INF] Content root path: /app
2023-12-04 02:07:16.297 +00:00 [DBG] Hosting started
2023-12-04 02:07:16.464 +00:00 [DBG] Connection id "0HMVKDMUHV9CB" accepted.
2023-12-04 02:07:16.469 +00:00 [DBG] Connection id "0HMVKDMUHV9CB" started.
2023-12-04 02:07:16.496 +00:00 [DBG] Connection 0HMVKDMUHV9CB established using the following protocol: "Tls13"
2023-12-04 02:07:16.537 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/index.html - null null
2023-12-04 02:07:16.538 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 02:07:16.563 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-04 02:07:16.564 +00:00 [DBG] Request did not match any endpoints
2023-12-04 02:07:16.650 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/index.html - 200 null text/html;charset=utf-8 113.5399ms
2023-12-04 02:07:17.053 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - null null
2023-12-04 02:07:17.054 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-04 02:07:17.055 +00:00 [DBG] Request did not match any endpoints
2023-12-04 02:07:17.144 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.6563ms
2023-12-04 02:07:40.684 +00:00 [INF] Request starting HTTP/2 POST https://localhost:51092/api/Auth/register-admin - application/json 77
2023-12-04 02:07:40.731 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register-admin'
2023-12-04 02:07:40.731 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)' with route pattern 'api/Auth/register-admin' is valid for the request path '/api/Auth/register-admin'
2023-12-04 02:07:40.742 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 02:07:40.744 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 02:07:40.780 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 02:07:40.783 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 02:07:40.800 +00:00 [INF] Route matched with {action = "RegisterAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] RegisterAdmin(Application.Authentication.Register.RegisterCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 02:07:40.802 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 02:07:40.803 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 02:07:40.805 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:07:40.807 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 02:07:40.808 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:07:40.810 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:07:40.811 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:07:40.814 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-04 02:07:40.817 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' using the name '' in request data ...
2023-12-04 02:07:40.818 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 02:07:40.826 +00:00 [DBG] Connection id "0HMVKDMUHV9CB", Request id "0HMVKDMUHV9CB:00000005": started reading request body.
2023-12-04 02:07:40.827 +00:00 [DBG] Connection id "0HMVKDMUHV9CB", Request id "0HMVKDMUHV9CB:00000005": done reading request body.
2023-12-04 02:07:40.831 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Register.RegisterCommand'
2023-12-04 02:07:40.832 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-04 02:07:40.832 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-04 02:07:40.833 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-04 02:07:40.843 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-04 02:07:40.844 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:07:40.846 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:07:40.846 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:07:40.847 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:07:40.875 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:07:40.917 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-12-04 02:07:41.051 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 02:07:41.081 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:07:41.082 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 02:07:41.084 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:41.085 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:41.086 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:07:41.086 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:07:41.091 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-12-04 02:07:41.095 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:07:41.115 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:07:41.178 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:07:41.209 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:41.210 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 93ms reading results.
2023-12-04 02:07:41.213 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:41.214 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:07:41.252 +00:00 [INF] Setting HTTP status code 403.
2023-12-04 02:07:41.259 +00:00 [INF] Writing value of type 'ProblemDetails' as Json.
2023-12-04 02:07:41.268 +00:00 [INF] Executed action WebApi.Controllers.AuthController.RegisterAdmin (WebApi) in 456.9778ms
2023-12-04 02:07:41.269 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 02:07:41.273 +00:00 [INF] HTTP POST /api/Auth/register-admin responded 403 in 525.7053 ms
2023-12-04 02:07:41.275 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:07:41.278 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:41.280 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:07:41.281 +00:00 [INF] Request finished HTTP/2 POST https://localhost:51092/api/Auth/register-admin - 403 null application/problem+json 597.3874ms
2023-12-04 02:07:46.337 +00:00 [INF] Request starting HTTP/2 POST https://localhost:51092/api/Auth/register-admin - application/json 78
2023-12-04 02:07:46.339 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register-admin'
2023-12-04 02:07:46.339 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)' with route pattern 'api/Auth/register-admin' is valid for the request path '/api/Auth/register-admin'
2023-12-04 02:07:46.340 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 02:07:46.341 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 02:07:46.344 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 02:07:46.345 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 02:07:46.346 +00:00 [INF] Route matched with {action = "RegisterAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] RegisterAdmin(Application.Authentication.Register.RegisterCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 02:07:46.347 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 02:07:46.347 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 02:07:46.348 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:07:46.348 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 02:07:46.349 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:07:46.349 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:07:46.351 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:07:46.352 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-04 02:07:46.352 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' using the name '' in request data ...
2023-12-04 02:07:46.353 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 02:07:46.353 +00:00 [DBG] Connection id "0HMVKDMUHV9CB", Request id "0HMVKDMUHV9CB:00000007": started reading request body.
2023-12-04 02:07:46.380 +00:00 [DBG] Connection id "0HMVKDMUHV9CB", Request id "0HMVKDMUHV9CB:00000007": done reading request body.
2023-12-04 02:07:46.382 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Register.RegisterCommand'
2023-12-04 02:07:46.383 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-04 02:07:46.384 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-04 02:07:46.384 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-04 02:07:46.385 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-04 02:07:46.386 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:07:46.387 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:07:46.387 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:07:46.388 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:07:46.429 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:07:46.434 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:07:46.434 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 02:07:46.434 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:46.435 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:46.435 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:07:46.436 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:07:46.436 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:07:46.437 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:07:46.463 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:07:46.485 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:46.486 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 22ms reading results.
2023-12-04 02:07:46.487 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:46.488 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:07:46.565 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:46.565 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:46.566 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:07:46.566 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:07:46.566 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:07:46.567 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:07:46.591 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:07:46.592 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:46.594 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-04 02:07:46.595 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:46.596 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:07:46.613 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:07:46.618 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 02:07:46.631 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 02:07:46.635 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-12-04 02:07:46.636 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 02:07:46.637 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 02:07:46.682 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:46.682 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:46.684 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:07:46.684 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:07:46.685 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:07:46.686 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-12-04 02:07:46.715 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-12-04 02:07:46.718 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:46.719 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 3ms reading results.
2023-12-04 02:07:46.720 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:46.721 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:07:46.728 +00:00 [DBG] An entity of type 'BaseAuthentication' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:07:46.730 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-12-04 02:07:46.734 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 02:07:46.734 +00:00 [INF] Executed action WebApi.Controllers.AuthController.RegisterAdmin (WebApi) in 384.8104ms
2023-12-04 02:07:46.735 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 02:07:46.735 +00:00 [INF] HTTP POST /api/Auth/register-admin responded 200 in 392.6533 ms
2023-12-04 02:07:46.737 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:07:46.737 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:07:46.738 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:07:46.738 +00:00 [INF] Request finished HTTP/2 POST https://localhost:51092/api/Auth/register-admin - 200 0 null 400.6361ms
2023-12-04 02:08:14.303 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 02:08:14.730 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 02:08:14.732 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 02:08:14.813 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:08:14.814 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:08:14.814 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:08:14.814 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:08:14.924 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:08:14.933 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:08:14.963 +00:00 [DBG] Created DbConnection. (28ms).
2023-12-04 02:08:14.968 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.134 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.137 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.145 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (6ms).
2023-12-04 02:08:15.152 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:08:15.157 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-12-04 02:08:15.159 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-12-04 02:08:15.159 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.248 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.254 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:08:15.301 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:08:15.302 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.305 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-04 02:08:15.314 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.315 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.316 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:08:15.316 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:08:15.316 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:08:15.317 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:08:15.322 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:08:15.328 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.330 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-12-04 02:08:15.330 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.330 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:08:15.332 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.333 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.388 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.388 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.389 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:08:15.390 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:08:15.391 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-12-04 02:08:15.392 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-04 02:08:15.392 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.393 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.393 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:08:15.394 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:08:15.395 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.395 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:08:15.396 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.457 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.458 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.458 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:08:15.467 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:08:15.467 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:08:15.468 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-04 02:08:15.468 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.468 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.469 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:08:15.471 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:08:15.472 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.473 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:08:15.474 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.474 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.475 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:08:15.475 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:08:15.476 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:08:15.477 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:08:15.478 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:08:15.479 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.479 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:08:15.480 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.480 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:08:15.489 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-04 02:08:15.492 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:08:15.494 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:15.495 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:08:15.531 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 02:08:15.579 +00:00 [DBG] Hosting starting
2023-12-04 02:08:15.597 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-04 02:08:15.598 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-04 02:08:15.607 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-04 02:08:15.608 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-04 02:08:15.611 +00:00 [INF] Creating key {7d847791-aa3d-48d7-a99f-ca8f70d05093} with creation date 2023-12-04 02:08:15Z, activation date 2023-12-04 02:08:15Z, and expiration date 2024-03-03 02:08:15Z.
2023-12-04 02:08:15.616 +00:00 [DBG] Descriptor deserializer type for key {7d847791-aa3d-48d7-a99f-ca8f70d05093} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-04 02:08:15.619 +00:00 [DBG] No key escrow sink found. Not writing key {7d847791-aa3d-48d7-a99f-ca8f70d05093} to escrow.
2023-12-04 02:08:15.620 +00:00 [WRN] No XML encryptor configured. Key {7d847791-aa3d-48d7-a99f-ca8f70d05093} may be persisted to storage in unencrypted form.
2023-12-04 02:08:15.622 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-04 02:08:15.624 +00:00 [DBG] Found key {7d847791-aa3d-48d7-a99f-ca8f70d05093}.
2023-12-04 02:08:15.630 +00:00 [DBG] Considering key {7d847791-aa3d-48d7-a99f-ca8f70d05093} with expiration date 2024-03-03 02:08:15Z as default key.
2023-12-04 02:08:15.634 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 02:08:15.635 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-04 02:08:15.636 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-04 02:08:15.640 +00:00 [DBG] Using key {7d847791-aa3d-48d7-a99f-ca8f70d05093} as the default key.
2023-12-04 02:08:15.641 +00:00 [DBG] Key ring with default key {7d847791-aa3d-48d7-a99f-ca8f70d05093} was loaded during application startup.
2023-12-04 02:08:15.753 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-04 02:08:15.864 +00:00 [INF] Now listening on: http://[::]:80
2023-12-04 02:08:15.865 +00:00 [INF] Now listening on: https://[::]:443
2023-12-04 02:08:15.865 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-04 02:08:15.866 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 02:08:15.866 +00:00 [INF] Hosting environment: Development
2023-12-04 02:08:15.866 +00:00 [INF] Content root path: /app
2023-12-04 02:08:15.867 +00:00 [DBG] Hosting started
2023-12-04 02:08:16.038 +00:00 [DBG] Connection id "0HMVKDNGA3SGC" accepted.
2023-12-04 02:08:16.040 +00:00 [DBG] Connection id "0HMVKDNGA3SGC" started.
2023-12-04 02:08:16.071 +00:00 [DBG] Connection 0HMVKDNGA3SGC established using the following protocol: "Tls13"
2023-12-04 02:08:16.121 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/index.html - null null
2023-12-04 02:08:16.123 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 02:08:16.144 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-04 02:08:16.145 +00:00 [DBG] Request did not match any endpoints
2023-12-04 02:08:16.251 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/index.html - 200 null text/html;charset=utf-8 130.5306ms
2023-12-04 02:08:16.625 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - null null
2023-12-04 02:08:16.627 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-04 02:08:16.627 +00:00 [DBG] Request did not match any endpoints
2023-12-04 02:08:16.718 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.1416ms
2023-12-04 02:08:52.468 +00:00 [INF] Request starting HTTP/2 POST https://localhost:51092/api/Auth/register-admin - application/json 78
2023-12-04 02:08:52.473 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register-admin'
2023-12-04 02:08:52.474 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)' with route pattern 'api/Auth/register-admin' is valid for the request path '/api/Auth/register-admin'
2023-12-04 02:08:52.484 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 02:08:52.486 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 02:08:52.526 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 02:08:52.528 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 02:08:52.545 +00:00 [INF] Route matched with {action = "RegisterAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] RegisterAdmin(Application.Authentication.Register.RegisterCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 02:08:52.547 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 02:08:52.547 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 02:08:52.548 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:08:52.548 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 02:08:52.549 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:08:52.551 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:08:52.551 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:08:52.556 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-04 02:08:52.559 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' using the name '' in request data ...
2023-12-04 02:08:52.561 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 02:08:52.566 +00:00 [DBG] Connection id "0HMVKDNGA3SGC", Request id "0HMVKDNGA3SGC:00000005": started reading request body.
2023-12-04 02:08:52.567 +00:00 [DBG] Connection id "0HMVKDNGA3SGC", Request id "0HMVKDNGA3SGC:00000005": done reading request body.
2023-12-04 02:08:52.570 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Register.RegisterCommand'
2023-12-04 02:08:52.572 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-04 02:08:52.573 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-04 02:08:52.574 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand' ...
2023-12-04 02:08:52.582 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Register.RegisterCommand'.
2023-12-04 02:08:52.583 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:08:52.585 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:08:52.585 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:08:52.586 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:08:52.613 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:08:52.648 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-12-04 02:08:52.770 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 02:08:52.801 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:08:52.801 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 02:08:52.803 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:52.806 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:52.807 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:08:52.807 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:08:52.811 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-12-04 02:08:52.814 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:08:52.836 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:08:52.846 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:52.847 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 10ms reading results.
2023-12-04 02:08:52.850 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:52.852 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:08:52.939 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:52.940 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:52.941 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:08:52.942 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:08:52.943 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:08:52.943 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:08:52.952 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:08:52.953 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:52.954 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-04 02:08:52.956 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:52.957 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:08:53.017 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:08:53.022 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 02:08:53.036 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 02:08:53.043 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-12-04 02:08:53.044 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 02:08:53.045 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 02:08:53.094 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:53.094 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:53.096 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:08:53.097 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:08:53.098 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:08:53.098 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-12-04 02:08:53.127 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-12-04 02:08:53.131 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:53.132 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-12-04 02:08:53.133 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:53.133 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:08:53.141 +00:00 [DBG] An entity of type 'BaseAuthentication' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:08:53.143 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-12-04 02:08:53.150 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 02:08:53.153 +00:00 [INF] Executed action WebApi.Controllers.AuthController.RegisterAdmin (WebApi) in 601.8367ms
2023-12-04 02:08:53.156 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 02:08:53.160 +00:00 [INF] HTTP POST /api/Auth/register-admin responded 200 in 671.3010 ms
2023-12-04 02:08:53.164 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:08:53.166 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:08:53.168 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:08:53.168 +00:00 [INF] Request finished HTTP/2 POST https://localhost:51092/api/Auth/register-admin - 200 0 null 700.2847ms
2023-12-04 02:09:40.192 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 02:09:40.598 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 02:09:40.600 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 02:09:40.681 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:09:40.682 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:09:40.682 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:09:40.682 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:09:40.786 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:09:40.796 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:09:40.821 +00:00 [DBG] Created DbConnection. (23ms).
2023-12-04 02:09:40.825 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:40.966 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:40.967 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:40.975 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-12-04 02:09:40.981 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:09:40.986 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-12-04 02:09:40.987 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-12-04 02:09:40.988 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.074 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.080 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:09:41.126 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:09:41.127 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.130 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-04 02:09:41.138 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.139 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.139 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:09:41.139 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:09:41.140 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:09:41.141 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:09:41.145 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:09:41.152 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.153 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-12-04 02:09:41.154 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.154 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:09:41.156 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.157 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.217 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.217 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.218 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:09:41.218 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:09:41.219 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:09:41.219 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:09:41.219 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.220 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.220 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:09:41.222 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:09:41.222 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.223 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:09:41.224 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.284 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.284 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.284 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:09:41.285 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:09:41.285 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:09:41.286 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:09:41.286 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.287 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.287 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:09:41.288 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:09:41.289 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.289 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:09:41.290 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.290 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.290 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:09:41.291 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:09:41.291 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:09:41.291 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:09:41.292 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:09:41.293 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.294 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:09:41.294 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.295 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:09:41.304 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-04 02:09:41.306 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:09:41.307 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:09:41.309 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:09:41.341 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 02:09:41.387 +00:00 [DBG] Hosting starting
2023-12-04 02:09:41.401 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-04 02:09:41.401 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-04 02:09:41.409 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-04 02:09:41.410 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-04 02:09:41.413 +00:00 [INF] Creating key {05d38ddd-c903-4bef-a737-bb18d010f69f} with creation date 2023-12-04 02:09:41Z, activation date 2023-12-04 02:09:41Z, and expiration date 2024-03-03 02:09:41Z.
2023-12-04 02:09:41.419 +00:00 [DBG] Descriptor deserializer type for key {05d38ddd-c903-4bef-a737-bb18d010f69f} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-04 02:09:41.422 +00:00 [DBG] No key escrow sink found. Not writing key {05d38ddd-c903-4bef-a737-bb18d010f69f} to escrow.
2023-12-04 02:09:41.423 +00:00 [WRN] No XML encryptor configured. Key {05d38ddd-c903-4bef-a737-bb18d010f69f} may be persisted to storage in unencrypted form.
2023-12-04 02:09:41.424 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-04 02:09:41.425 +00:00 [DBG] Found key {05d38ddd-c903-4bef-a737-bb18d010f69f}.
2023-12-04 02:09:41.432 +00:00 [DBG] Considering key {05d38ddd-c903-4bef-a737-bb18d010f69f} with expiration date 2024-03-03 02:09:41Z as default key.
2023-12-04 02:09:41.436 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 02:09:41.438 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-04 02:09:41.439 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-04 02:09:41.441 +00:00 [DBG] Using key {05d38ddd-c903-4bef-a737-bb18d010f69f} as the default key.
2023-12-04 02:09:41.442 +00:00 [DBG] Key ring with default key {05d38ddd-c903-4bef-a737-bb18d010f69f} was loaded during application startup.
2023-12-04 02:09:41.547 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-04 02:09:41.655 +00:00 [INF] Now listening on: http://[::]:80
2023-12-04 02:09:41.656 +00:00 [INF] Now listening on: https://[::]:443
2023-12-04 02:09:41.656 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-04 02:09:41.657 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 02:09:41.657 +00:00 [INF] Hosting environment: Development
2023-12-04 02:09:41.658 +00:00 [INF] Content root path: /app
2023-12-04 02:09:41.658 +00:00 [DBG] Hosting started
2023-12-04 02:09:41.822 +00:00 [DBG] Connection id "0HMVKDO9S76EJ" accepted.
2023-12-04 02:09:41.824 +00:00 [DBG] Connection id "0HMVKDO9S76EJ" started.
2023-12-04 02:09:41.851 +00:00 [DBG] Connection 0HMVKDO9S76EJ established using the following protocol: "Tls13"
2023-12-04 02:09:41.896 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/index.html - null null
2023-12-04 02:09:41.898 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 02:09:41.923 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-04 02:09:41.924 +00:00 [DBG] Request did not match any endpoints
2023-12-04 02:09:42.008 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/index.html - 200 null text/html;charset=utf-8 113.74ms
2023-12-04 02:09:42.355 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - null null
2023-12-04 02:09:42.356 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-04 02:09:42.357 +00:00 [DBG] Request did not match any endpoints
2023-12-04 02:09:42.445 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 90.0752ms
2023-12-04 02:10:17.237 +00:00 [INF] Request starting HTTP/2 POST https://localhost:51092/api/Auth/register-admin - application/json 78
2023-12-04 02:10:17.244 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/register-admin'
2023-12-04 02:10:17.245 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)' with route pattern 'api/Auth/register-admin' is valid for the request path '/api/Auth/register-admin'
2023-12-04 02:10:17.257 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 02:10:17.260 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 02:10:17.303 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 02:10:17.305 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 02:10:17.325 +00:00 [INF] Route matched with {action = "RegisterAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] RegisterAdmin(Application.Authentication.RegisterAdmin.RegisterAdminCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 02:10:17.326 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 02:10:17.327 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 02:10:17.329 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:10:17.330 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 02:10:17.331 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:10:17.334 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:10:17.335 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:10:17.339 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.RegisterAdmin.RegisterAdminCommand' ...
2023-12-04 02:10:17.342 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.RegisterAdmin.RegisterAdminCommand' using the name '' in request data ...
2023-12-04 02:10:17.345 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 02:10:17.352 +00:00 [DBG] Connection id "0HMVKDO9S76EJ", Request id "0HMVKDO9S76EJ:00000005": started reading request body.
2023-12-04 02:10:17.353 +00:00 [DBG] Connection id "0HMVKDO9S76EJ", Request id "0HMVKDO9S76EJ:00000005": done reading request body.
2023-12-04 02:10:17.357 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.RegisterAdmin.RegisterAdminCommand'
2023-12-04 02:10:17.358 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.RegisterAdmin.RegisterAdminCommand'.
2023-12-04 02:10:17.358 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.RegisterAdmin.RegisterAdminCommand'.
2023-12-04 02:10:17.359 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.RegisterAdmin.RegisterAdminCommand' ...
2023-12-04 02:10:17.370 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.RegisterAdmin.RegisterAdminCommand'.
2023-12-04 02:10:17.371 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:10:17.373 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:10:17.373 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:10:17.374 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:10:17.402 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:10:17.441 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2023-12-04 02:10:17.584 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 02:10:17.614 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:10:17.615 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 02:10:17.618 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:17.621 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:17.621 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:17.622 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:17.625 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-12-04 02:10:17.629 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:10:17.652 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:10:17.659 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:17.661 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 7ms reading results.
2023-12-04 02:10:17.665 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:17.668 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-04 02:10:32.746 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:32.747 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:32.747 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:32.748 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:32.748 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:32.749 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:10:32.774 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:10:32.775 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:32.776 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:10:32.776 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:32.777 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:10:32.837 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:10:32.842 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 02:10:32.857 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 02:10:32.860 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-12-04 02:10:32.862 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 02:10:32.862 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 02:10:32.904 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:32.905 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:32.907 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:32.907 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:32.908 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:10:32.909 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-12-04 02:10:32.926 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime), @p7='?', @p8='?', @p9='?', @p10='?', @p11='?' (DbType = Boolean), @p12='?', @p13='?' (DbType = Boolean), @p14='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "Email", "EmailConfirmed", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "SecurityStamp", "TwoFactorEnabled", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2023-12-04 02:10:32.928 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:32.929 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-04 02:10:32.930 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:32.930 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:10:32.937 +00:00 [DBG] An entity of type 'BaseAuthentication' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:10:32.938 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-12-04 02:10:45.148 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2023-12-04 02:10:45.152 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 02:10:45.153 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.154 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.154 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:45.155 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:45.157 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-04 02:10:45.157 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-12-04 02:10:45.164 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-12-04 02:10:45.165 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.165 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:10:45.166 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.167 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:10:45.171 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.173 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.175 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:45.176 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:45.176 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:10:45.176 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-12-04 02:10:45.222 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-12-04 02:10:45.224 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.225 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-04 02:10:45.227 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.228 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:10:45.242 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:10:45.244 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 02:10:45.248 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 02:10:45.248 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-12-04 02:10:45.249 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 02:10:45.249 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 02:10:45.251 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.252 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.252 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:45.253 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:45.253 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:45.253 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-12-04 02:10:45.279 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-12-04 02:10:45.302 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.302 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:10:45.303 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.304 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:10:45.305 +00:00 [DBG] An entity of type 'IdentityRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:10:45.307 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-12-04 02:10:45.310 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.311 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.312 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:45.312 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:45.313 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:45.313 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-12-04 02:10:45.338 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-12-04 02:10:45.360 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.361 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:10:45.362 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.363 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:10:45.364 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.365 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.365 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:45.366 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:45.366 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:10:45.367 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-12-04 02:10:45.412 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-12-04 02:10:45.434 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.435 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:10:45.435 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.436 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:10:45.436 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:10:45.437 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 02:10:45.437 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 02:10:45.437 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-12-04 02:10:45.438 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 02:10:45.439 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 02:10:45.441 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.441 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.442 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:45.442 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:45.443 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:10:45.443 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-12-04 02:10:45.450 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetRoles" ("Id", "ConcurrencyStamp", "Name", "NormalizedName")
VALUES (@p0, @p1, @p2, @p3);
2023-12-04 02:10:45.451 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.452 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:10:45.452 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:45.453 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:10:45.453 +00:00 [DBG] An entity of type 'IdentityRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:10:45.454 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-12-04 02:10:55.733 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.734 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.734 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:55.735 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:55.735 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:10:55.736 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-12-04 02:10:55.805 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[@__normalizedName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedName_0
LIMIT 1
2023-12-04 02:10:55.830 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.831 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-04 02:10:55.832 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.833 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:10:55.836 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2023-12-04 02:10:55.840 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 02:10:55.840 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.841 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.841 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:55.842 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:55.842 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:55.843 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-12-04 02:10:55.867 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-12-04 02:10:55.869 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.869 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:10:55.870 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.870 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:10:55.880 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2023-12-04 02:10:55.888 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 02:10:55.891 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.892 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.893 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:55.893 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:55.896 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-04 02:10:55.896 +00:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2023-12-04 02:10:55.922 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?', @__p_1='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."UserId", a."RoleId"
FROM "AspNetUserRoles" AS a
WHERE a."UserId" = @__p_0 AND a."RoleId" = @__p_1
LIMIT 1
2023-12-04 02:10:55.923 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.924 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:10:55.924 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.925 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:10:55.929 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.929 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.930 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:55.931 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:10:55.932 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:10:55.932 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-12-04 02:10:55.956 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedRoleName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."ConcurrencyStamp", a."Name", a."NormalizedName"
FROM "AspNetRoles" AS a
WHERE a."NormalizedName" = @__normalizedRoleName_0
LIMIT 2
2023-12-04 02:10:55.957 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.959 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-04 02:10:55.960 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.961 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:10:55.972 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:10:55.973 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.974 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:55.974 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:55.975 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:55.975 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:55.975 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:10:56.001 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2023-12-04 02:10:56.064 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:56.065 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 21ms reading results.
2023-12-04 02:10:56.066 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:56.066 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:10:56.070 +00:00 [DBG] An entity of type 'BaseAuthentication' tracked by 'ApplicationDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:10:56.071 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 02:10:56.072 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 02:10:56.073 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-12-04 02:10:56.073 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 02:10:56.074 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 02:10:56.086 +00:00 [DBG] Executing 2 update commands as a batch.
2023-12-04 02:10:56.088 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:56.089 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:56.091 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-12-04 02:10:56.095 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-12-04 02:10:56.098 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:10:56.098 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:10:56.100 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-04 02:10:56.101 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?', @p1='?', @p16='?', @p2='?' (DbType = Int32), @p3='?', @p17='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2023-12-04 02:10:56.128 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@p0='?', @p1='?', @p16='?', @p2='?' (DbType = Int32), @p3='?', @p17='?', @p4='?', @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?', @p9='?', @p10='?', @p11='?', @p12='?' (DbType = Boolean), @p13='?', @p14='?' (DbType = Boolean), @p15='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUserRoles" ("RoleId", "UserId")
VALUES (@p0, @p1);
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p2, "ConcurrencyStamp" = @p3, "Email" = @p4, "EmailConfirmed" = @p5, "LockoutEnabled" = @p6, "LockoutEnd" = @p7, "NormalizedEmail" = @p8, "NormalizedUserName" = @p9, "PasswordHash" = @p10, "PhoneNumber" = @p11, "PhoneNumberConfirmed" = @p12, "SecurityStamp" = @p13, "TwoFactorEnabled" = @p14, "UserName" = @p15
WHERE "Id" = @p16 AND "ConcurrencyStamp" = @p17;
2023-12-04 02:10:56.129 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:56.130 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:10:56.134 +00:00 [DBG] Committing transaction.
2023-12-04 02:10:56.141 +00:00 [DBG] Committed transaction.
2023-12-04 02:10:56.143 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:56.145 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:10:56.148 +00:00 [DBG] Disposing transaction.
2023-12-04 02:10:56.149 +00:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:10:56.149 +00:00 [DBG] An entity of type 'BaseAuthentication' tracked by 'ApplicationDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:10:56.150 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2023-12-04 02:10:56.155 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 02:10:56.159 +00:00 [INF] Executed action WebApi.Controllers.AuthController.RegisterAdmin (WebApi) in 38824.7517ms
2023-12-04 02:10:56.160 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.RegisterAdmin (WebApi)'
2023-12-04 02:10:56.166 +00:00 [INF] HTTP POST /api/Auth/register-admin responded 200 in 38900.6204 ms
2023-12-04 02:10:56.170 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:10:56.173 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:10:56.175 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:10:56.176 +00:00 [INF] Request finished HTTP/2 POST https://localhost:51092/api/Auth/register-admin - 200 0 null 38939.8256ms
2023-12-04 02:11:11.227 +00:00 [INF] Request starting HTTP/2 POST https://localhost:51092/api/Auth/login - application/json 59
2023-12-04 02:11:11.229 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-04 02:11:11.229 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-04 02:11:11.230 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:11:11.231 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 02:11:11.233 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 02:11:11.233 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:11:11.240 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 02:11:11.241 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 02:11:11.241 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 02:11:11.242 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:11:11.242 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 02:11:11.243 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:11:11.243 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:11:11.244 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:11:11.244 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 02:11:11.245 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-04 02:11:11.245 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 02:11:11.246 +00:00 [DBG] Connection id "0HMVKDO9S76EJ", Request id "0HMVKDO9S76EJ:00000007": started reading request body.
2023-12-04 02:11:11.270 +00:00 [DBG] Connection id "0HMVKDO9S76EJ", Request id "0HMVKDO9S76EJ:00000007": done reading request body.
2023-12-04 02:11:11.273 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-04 02:11:11.274 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:11:11.275 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:11:11.275 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 02:11:11.277 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:11:11.279 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:11:11.279 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:11:11.279 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:11:11.280 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:11:11.326 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:11:11.328 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-04 02:11:11.333 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 02:11:11.333 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:11:11.335 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-04 02:11:11.335 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:11:11.336 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:11:11.337 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:11:11.338 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:11:11.338 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:11:11.339 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 02:11:11.364 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 02:11:11.412 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:11:11.413 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:11:11.413 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 7ms reading results.
2023-12-04 02:11:11.414 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:11:11.414 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:11:11.493 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-04 02:11:11.526 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 02:11:11.528 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:11:11.528 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:11:11.528 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:11:11.529 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:11:11.529 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:11:11.529 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 02:11:11.553 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 02:11:11.576 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:11:11.577 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-04 02:11:11.577 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:11:11.578 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:11:11.608 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 02:11:11.611 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-04 02:11:11.615 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 372.2666ms
2023-12-04 02:11:11.616 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:11:11.616 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 385.0111 ms
2023-12-04 02:11:11.617 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:11:11.617 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:11:11.639 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (21ms).
2023-12-04 02:11:11.640 +00:00 [INF] Request finished HTTP/2 POST https://localhost:51092/api/Auth/login - 200 null application/json; charset=utf-8 412.9586ms
2023-12-04 02:12:43.549 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 02:12:43.981 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 02:12:43.983 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 02:12:44.064 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:12:44.065 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:12:44.065 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:12:44.066 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:12:44.169 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:12:44.178 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:12:44.208 +00:00 [DBG] Created DbConnection. (29ms).
2023-12-04 02:12:44.214 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.364 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.366 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.374 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-12-04 02:12:44.382 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:12:44.387 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-12-04 02:12:44.389 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2023-12-04 02:12:44.389 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.490 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.497 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:12:44.542 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:12:44.543 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.546 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-04 02:12:44.554 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.555 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.556 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:12:44.556 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:12:44.557 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:12:44.558 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:12:44.562 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:12:44.568 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.570 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-12-04 02:12:44.570 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.571 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:12:44.572 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.573 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.640 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.640 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.641 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:12:44.642 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:12:44.642 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:12:44.642 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:12:44.643 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.644 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.645 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:12:44.646 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:12:44.647 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.647 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:12:44.648 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.716 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.717 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.717 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:12:44.718 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:12:44.718 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:12:44.719 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:12:44.719 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.720 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.720 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:12:44.721 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:12:44.722 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.722 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:12:44.723 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.723 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.723 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:12:44.724 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:12:44.724 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:12:44.725 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:12:44.726 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:12:44.726 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.727 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:12:44.728 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.728 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:12:44.737 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-04 02:12:44.739 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:12:44.740 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:12:44.742 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:12:44.777 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 02:12:44.826 +00:00 [DBG] Hosting starting
2023-12-04 02:12:44.841 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-04 02:12:44.842 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-04 02:12:44.851 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-04 02:12:44.852 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-04 02:12:44.854 +00:00 [INF] Creating key {4d40b766-2a2c-451c-a3fe-d8f2caf35590} with creation date 2023-12-04 02:12:44Z, activation date 2023-12-04 02:12:44Z, and expiration date 2024-03-03 02:12:44Z.
2023-12-04 02:12:44.859 +00:00 [DBG] Descriptor deserializer type for key {4d40b766-2a2c-451c-a3fe-d8f2caf35590} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-04 02:12:44.862 +00:00 [DBG] No key escrow sink found. Not writing key {4d40b766-2a2c-451c-a3fe-d8f2caf35590} to escrow.
2023-12-04 02:12:44.862 +00:00 [WRN] No XML encryptor configured. Key {4d40b766-2a2c-451c-a3fe-d8f2caf35590} may be persisted to storage in unencrypted form.
2023-12-04 02:12:44.863 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-04 02:12:44.865 +00:00 [DBG] Found key {4d40b766-2a2c-451c-a3fe-d8f2caf35590}.
2023-12-04 02:12:44.870 +00:00 [DBG] Considering key {4d40b766-2a2c-451c-a3fe-d8f2caf35590} with expiration date 2024-03-03 02:12:44Z as default key.
2023-12-04 02:12:44.874 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 02:12:44.876 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-04 02:12:44.877 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-04 02:12:44.880 +00:00 [DBG] Using key {4d40b766-2a2c-451c-a3fe-d8f2caf35590} as the default key.
2023-12-04 02:12:44.882 +00:00 [DBG] Key ring with default key {4d40b766-2a2c-451c-a3fe-d8f2caf35590} was loaded during application startup.
2023-12-04 02:12:44.996 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-04 02:12:45.108 +00:00 [INF] Now listening on: http://[::]:80
2023-12-04 02:12:45.108 +00:00 [INF] Now listening on: https://[::]:443
2023-12-04 02:12:45.109 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-04 02:12:45.109 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 02:12:45.110 +00:00 [INF] Hosting environment: Development
2023-12-04 02:12:45.110 +00:00 [INF] Content root path: /app
2023-12-04 02:12:45.111 +00:00 [DBG] Hosting started
2023-12-04 02:12:45.276 +00:00 [DBG] Connection id "0HMVKDQ0HOSV6" accepted.
2023-12-04 02:12:45.278 +00:00 [DBG] Connection id "0HMVKDQ0HOSV6" started.
2023-12-04 02:12:45.306 +00:00 [DBG] Connection 0HMVKDQ0HOSV6 established using the following protocol: "Tls13"
2023-12-04 02:12:45.351 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/index.html - null null
2023-12-04 02:12:45.353 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 02:12:45.373 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-04 02:12:45.374 +00:00 [DBG] Request did not match any endpoints
2023-12-04 02:12:45.467 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/index.html - 200 null text/html;charset=utf-8 116.0928ms
2023-12-04 02:12:45.838 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - null null
2023-12-04 02:12:45.839 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-04 02:12:45.840 +00:00 [DBG] Request did not match any endpoints
2023-12-04 02:12:45.945 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 107.6376ms
2023-12-04 02:13:02.885 +00:00 [INF] Request starting HTTP/2 POST https://localhost:51092/api/Auth/login - application/json 64
2023-12-04 02:13:02.891 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-04 02:13:02.892 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-04 02:13:02.906 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:13:02.909 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 02:13:02.956 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 02:13:02.959 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:13:02.976 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 02:13:02.978 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 02:13:02.979 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 02:13:02.979 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:13:02.980 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 02:13:02.981 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:13:02.982 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:13:02.983 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:13:02.990 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 02:13:02.992 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-04 02:13:02.994 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 02:13:03.001 +00:00 [DBG] Connection id "0HMVKDQ0HOSV6", Request id "0HMVKDQ0HOSV6:00000005": started reading request body.
2023-12-04 02:13:03.003 +00:00 [DBG] Connection id "0HMVKDQ0HOSV6", Request id "0HMVKDQ0HOSV6:00000005": done reading request body.
2023-12-04 02:13:03.008 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-04 02:13:03.009 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:13:03.010 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:13:03.010 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 02:13:03.017 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:13:03.018 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:13:03.020 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:13:03.021 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:13:03.022 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:13:03.046 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:13:03.084 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-04 02:13:03.215 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 02:13:03.242 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:13:03.243 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 02:13:03.245 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:03.247 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:03.248 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:13:03.248 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:13:03.253 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-12-04 02:13:03.257 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 02:13:03.278 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 02:13:03.318 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:13:03.349 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:03.350 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 71ms reading results.
2023-12-04 02:13:03.353 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:03.356 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-04 02:13:03.437 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-04 02:13:03.474 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 02:13:03.476 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:03.477 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:03.477 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:13:03.478 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:13:03.478 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:13:03.479 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 02:13:03.488 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 02:13:03.489 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:03.490 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-04 02:13:03.490 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:03.491 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:13:03.521 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 02:13:03.525 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-04 02:13:03.535 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 550.6437ms
2023-12-04 02:13:03.538 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:13:03.542 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 630.5103 ms
2023-12-04 02:13:03.544 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:13:03.546 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:03.548 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:13:03.549 +00:00 [INF] Request finished HTTP/2 POST https://localhost:51092/api/Auth/login - 200 null application/json; charset=utf-8 664.764ms
2023-12-04 02:13:13.145 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/Product - null null
2023-12-04 02:13:13.147 +00:00 [DBG] 1 candidate(s) found for the request path '/Product'
2023-12-04 02:13:13.155 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)' with route pattern 'Product' is valid for the request path '/Product'
2023-12-04 02:13:13.155 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-12-04 02:13:13.156 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 02:13:13.159 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 02:13:13.163 +00:00 [DBG] Policy authentication schemes  did not succeed
2023-12-04 02:13:13.167 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2023-12-04 02:13:13.171 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2023-12-04 02:13:13.172 +00:00 [INF] HTTP GET /Product responded 401 in 15.2213 ms
2023-12-04 02:13:13.172 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/Product - 401 0 null 27.3208ms
2023-12-04 02:13:22.235 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/Product - null null
2023-12-04 02:13:22.236 +00:00 [DBG] 1 candidate(s) found for the request path '/Product'
2023-12-04 02:13:22.236 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)' with route pattern 'Product' is valid for the request path '/Product'
2023-12-04 02:13:22.246 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-12-04 02:13:22.247 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 02:13:22.278 +00:00 [DBG] Successfully validated the token.
2023-12-04 02:13:22.280 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 02:13:22.284 +00:00 [DBG] Authorization was successful.
2023-12-04 02:13:22.284 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-12-04 02:13:22.288 +00:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(MediatR.ISender) on controller Web.API.Endpoints.ProductController (WebApi).
2023-12-04 02:13:22.289 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 02:13:22.289 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 02:13:22.290 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:13:22.290 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 02:13:22.290 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:13:22.291 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-12-04 02:13:22.291 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-12-04 02:13:22.292 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:13:22.293 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:13:22.293 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:13:22.293 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:13:22.334 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:13:22.335 +00:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Select(p => new ProductResponse(
        p.Id.Value, 
        p.Name, 
        p.Sku.Value, 
        p.Price.Currency, 
        p.Price.Amount
    ))'
2023-12-04 02:13:22.354 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
        SELECT p.Id, p.Name, p.Sku, p.Price_Currency, p.Price_Amount
        FROM Products AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 02:13:22.355 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:13:22.355 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 02:13:22.356 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:22.356 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:22.357 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:13:22.357 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:13:22.358 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:13:22.358 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-12-04 02:13:22.375 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-12-04 02:13:22.381 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:22.381 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-12-04 02:13:22.382 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:22.382 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:13:22.383 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 02:13:22.389 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-12-04 02:13:22.392 +00:00 [INF] Executed action Web.API.Endpoints.ProductController.Get (WebApi) in 101.5539ms
2023-12-04 02:13:22.393 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-12-04 02:13:22.393 +00:00 [INF] HTTP GET /Product responded 200 in 144.4287 ms
2023-12-04 02:13:22.394 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:13:22.396 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:22.397 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:13:22.398 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/Product - 200 null application/json; charset=utf-8 162.5839ms
2023-12-04 02:13:44.706 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 02:13:45.146 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 02:13:45.147 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 02:13:45.232 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:13:45.232 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:13:45.233 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:13:45.233 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:13:45.343 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:13:45.352 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:13:45.383 +00:00 [DBG] Created DbConnection. (29ms).
2023-12-04 02:13:45.388 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.529 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.531 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.540 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-12-04 02:13:45.546 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:13:45.551 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-12-04 02:13:45.552 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-12-04 02:13:45.553 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.639 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.645 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:13:45.701 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:13:45.702 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.704 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:13:45.715 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.716 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.717 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:13:45.717 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:13:45.718 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:13:45.719 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:13:45.724 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:13:45.730 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.732 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-12-04 02:13:45.732 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.733 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:13:45.735 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.735 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.803 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.803 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.804 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:13:45.804 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:13:45.805 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:13:45.806 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-04 02:13:45.807 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.808 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.809 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:13:45.810 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:13:45.811 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.811 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:13:45.812 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.878 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.878 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.879 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:13:45.879 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:13:45.880 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:13:45.880 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:13:45.881 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.881 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.882 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:13:45.883 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:13:45.883 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.884 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:13:45.885 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.885 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.885 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:13:45.886 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:13:45.886 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:13:45.886 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:13:45.887 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:13:45.888 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.889 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:13:45.889 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.889 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:13:45.899 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-04 02:13:45.900 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:13:45.902 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:13:45.903 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:13:45.946 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 02:13:45.995 +00:00 [DBG] Hosting starting
2023-12-04 02:13:46.010 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-04 02:13:46.010 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-04 02:13:46.017 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-04 02:13:46.018 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-04 02:13:46.020 +00:00 [INF] Creating key {3ce2f72f-8e85-4657-b1da-8edb5fd40600} with creation date 2023-12-04 02:13:46Z, activation date 2023-12-04 02:13:46Z, and expiration date 2024-03-03 02:13:46Z.
2023-12-04 02:13:46.026 +00:00 [DBG] Descriptor deserializer type for key {3ce2f72f-8e85-4657-b1da-8edb5fd40600} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-04 02:13:46.029 +00:00 [DBG] No key escrow sink found. Not writing key {3ce2f72f-8e85-4657-b1da-8edb5fd40600} to escrow.
2023-12-04 02:13:46.030 +00:00 [WRN] No XML encryptor configured. Key {3ce2f72f-8e85-4657-b1da-8edb5fd40600} may be persisted to storage in unencrypted form.
2023-12-04 02:13:46.031 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-04 02:13:46.032 +00:00 [DBG] Found key {3ce2f72f-8e85-4657-b1da-8edb5fd40600}.
2023-12-04 02:13:46.038 +00:00 [DBG] Considering key {3ce2f72f-8e85-4657-b1da-8edb5fd40600} with expiration date 2024-03-03 02:13:46Z as default key.
2023-12-04 02:13:46.043 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 02:13:46.044 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-04 02:13:46.045 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-04 02:13:46.047 +00:00 [DBG] Using key {3ce2f72f-8e85-4657-b1da-8edb5fd40600} as the default key.
2023-12-04 02:13:46.049 +00:00 [DBG] Key ring with default key {3ce2f72f-8e85-4657-b1da-8edb5fd40600} was loaded during application startup.
2023-12-04 02:13:46.159 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-04 02:13:46.265 +00:00 [INF] Now listening on: http://[::]:80
2023-12-04 02:13:46.266 +00:00 [INF] Now listening on: https://[::]:443
2023-12-04 02:13:46.266 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-04 02:13:46.267 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 02:13:46.268 +00:00 [INF] Hosting environment: Development
2023-12-04 02:13:46.268 +00:00 [INF] Content root path: /app
2023-12-04 02:13:46.269 +00:00 [DBG] Hosting started
2023-12-04 02:13:46.445 +00:00 [DBG] Connection id "0HMVKDQIP48QP" accepted.
2023-12-04 02:13:46.447 +00:00 [DBG] Connection id "0HMVKDQIP48QP" started.
2023-12-04 02:13:46.478 +00:00 [DBG] Connection 0HMVKDQIP48QP established using the following protocol: "Tls13"
2023-12-04 02:13:46.536 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/index.html - null null
2023-12-04 02:13:46.538 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 02:13:46.565 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-04 02:13:46.566 +00:00 [DBG] Request did not match any endpoints
2023-12-04 02:13:46.644 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/index.html - 200 null text/html;charset=utf-8 108.5051ms
2023-12-04 02:13:47.003 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - null null
2023-12-04 02:13:47.005 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-04 02:13:47.006 +00:00 [DBG] Request did not match any endpoints
2023-12-04 02:13:47.118 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 115.1015ms
2023-12-04 02:14:04.946 +00:00 [INF] Request starting HTTP/2 POST https://localhost:51092/api/Auth/login - application/json 64
2023-12-04 02:14:04.952 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-04 02:14:04.953 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-04 02:14:04.966 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:14:04.969 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 02:14:05.008 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 02:14:05.010 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:14:05.028 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 02:14:05.030 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 02:14:05.030 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 02:14:05.033 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:14:05.034 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 02:14:05.035 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:14:05.037 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:14:05.038 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:14:05.041 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 02:14:05.044 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-04 02:14:05.046 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 02:14:05.052 +00:00 [DBG] Connection id "0HMVKDQIP48QP", Request id "0HMVKDQIP48QP:00000005": started reading request body.
2023-12-04 02:14:05.053 +00:00 [DBG] Connection id "0HMVKDQIP48QP", Request id "0HMVKDQIP48QP:00000005": done reading request body.
2023-12-04 02:14:05.056 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-04 02:14:05.057 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:14:05.058 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:14:05.058 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 02:14:05.067 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:14:05.068 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:14:05.069 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:14:05.070 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:14:05.071 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:14:05.093 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:14:05.129 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-04 02:14:05.258 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 02:14:05.289 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:14:05.290 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 02:14:05.293 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:05.295 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:05.295 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:14:05.296 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:14:05.301 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-12-04 02:14:05.304 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 02:14:05.325 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 02:14:05.393 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:14:05.424 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:05.424 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 98ms reading results.
2023-12-04 02:14:05.427 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:05.428 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:14:05.506 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-04 02:14:05.540 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 02:14:05.542 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:05.542 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:05.543 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:14:05.544 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:14:05.544 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:14:05.545 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 02:14:05.554 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 02:14:05.556 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:05.556 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-04 02:14:05.557 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:05.557 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:14:05.585 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 02:14:05.589 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-04 02:14:05.599 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 559.3397ms
2023-12-04 02:14:05.601 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:14:05.604 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 632.3071 ms
2023-12-04 02:14:05.606 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:14:05.609 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:05.610 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:14:05.611 +00:00 [INF] Request finished HTTP/2 POST https://localhost:51092/api/Auth/login - 200 null application/json; charset=utf-8 666.4059ms
2023-12-04 02:14:22.346 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/Product - null null
2023-12-04 02:14:22.347 +00:00 [DBG] 1 candidate(s) found for the request path '/Product'
2023-12-04 02:14:22.347 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)' with route pattern 'Product' is valid for the request path '/Product'
2023-12-04 02:14:22.348 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-12-04 02:14:22.349 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 02:14:22.376 +00:00 [DBG] Successfully validated the token.
2023-12-04 02:14:22.378 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 02:14:22.383 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2023-12-04 02:14:22.386 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2023-12-04 02:14:22.386 +00:00 [INF] HTTP GET /Product responded 403 in 37.5951 ms
2023-12-04 02:14:22.387 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/Product - 403 0 null 42.3986ms
2023-12-04 02:14:33.627 +00:00 [INF] Request starting HTTP/2 POST https://localhost:51092/api/Auth/login - application/json 59
2023-12-04 02:14:33.629 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-04 02:14:33.631 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-04 02:14:33.632 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:14:33.632 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 02:14:33.634 +00:00 [DBG] Successfully validated the token.
2023-12-04 02:14:33.634 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 02:14:33.635 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:14:33.636 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 02:14:33.636 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 02:14:33.637 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 02:14:33.637 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:14:33.637 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 02:14:33.638 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:14:33.638 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:14:33.639 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:14:33.639 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 02:14:33.640 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-04 02:14:33.640 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 02:14:33.641 +00:00 [DBG] Connection id "0HMVKDQIP48QP", Request id "0HMVKDQIP48QP:00000009": started reading request body.
2023-12-04 02:14:33.651 +00:00 [DBG] Connection id "0HMVKDQIP48QP", Request id "0HMVKDQIP48QP:00000009": done reading request body.
2023-12-04 02:14:33.655 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-04 02:14:33.656 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:14:33.657 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:14:33.658 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 02:14:33.722 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:14:33.723 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:14:33.724 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:14:33.725 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:14:33.725 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:14:33.772 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:14:33.775 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:14:33.776 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 02:14:33.776 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:33.777 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:33.778 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:14:33.780 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:14:33.781 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-04 02:14:33.782 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 02:14:33.871 +00:00 [INF] Executed DbCommand (68ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 02:14:33.894 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:14:33.894 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:33.895 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 23ms reading results.
2023-12-04 02:14:33.896 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:33.897 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:14:33.967 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:33.967 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:33.968 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:14:33.968 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:14:33.968 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:14:33.969 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 02:14:33.970 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 02:14:33.971 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:33.971 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:14:33.972 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:33.972 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:14:33.973 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 02:14:33.975 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-04 02:14:33.976 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 337.6009ms
2023-12-04 02:14:33.976 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:14:33.978 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 345.4441 ms
2023-12-04 02:14:33.980 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:14:33.981 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:14:33.983 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:14:33.985 +00:00 [INF] Request finished HTTP/2 POST https://localhost:51092/api/Auth/login - 200 null application/json; charset=utf-8 357.7921ms
2023-12-04 02:15:04.316 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/Product - null null
2023-12-04 02:15:04.339 +00:00 [DBG] 1 candidate(s) found for the request path '/Product'
2023-12-04 02:15:04.339 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)' with route pattern 'Product' is valid for the request path '/Product'
2023-12-04 02:15:04.340 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-12-04 02:15:04.341 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 02:15:04.343 +00:00 [DBG] Successfully validated the token.
2023-12-04 02:15:04.343 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 02:15:04.346 +00:00 [DBG] Authorization was successful.
2023-12-04 02:15:04.346 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-12-04 02:15:04.350 +00:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(MediatR.ISender) on controller Web.API.Endpoints.ProductController (WebApi).
2023-12-04 02:15:04.350 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 02:15:04.351 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 02:15:04.351 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:15:04.352 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 02:15:04.352 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:15:04.352 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-12-04 02:15:04.353 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-12-04 02:15:04.354 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:15:04.354 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:15:04.355 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:15:04.355 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:15:04.360 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:15:04.362 +00:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Select(p => new ProductResponse(
        p.Id.Value, 
        p.Name, 
        p.Sku.Value, 
        p.Price.Currency, 
        p.Price.Amount
    ))'
2023-12-04 02:15:04.405 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
        SELECT p.Id, p.Name, p.Sku, p.Price_Currency, p.Price_Amount
        FROM Products AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 02:15:04.406 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:15:04.407 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 02:15:04.408 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:04.408 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:04.409 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:15:04.410 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:15:04.410 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 02:15:04.411 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-12-04 02:15:04.457 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-12-04 02:15:04.488 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:04.488 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 29ms reading results.
2023-12-04 02:15:04.488 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:04.489 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:15:04.490 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 02:15:04.497 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-12-04 02:15:04.501 +00:00 [INF] Executed action Web.API.Endpoints.ProductController.Get (WebApi) in 148.4418ms
2023-12-04 02:15:04.501 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-12-04 02:15:04.502 +00:00 [INF] HTTP GET /Product responded 200 in 159.7196 ms
2023-12-04 02:15:04.502 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:15:04.503 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:04.504 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:15:04.507 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/Product - 200 null application/json; charset=utf-8 190.809ms
2023-12-04 02:15:38.244 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 02:15:38.668 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 02:15:38.669 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 02:15:38.753 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:15:38.754 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:15:38.754 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:15:38.754 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:15:38.860 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:15:38.870 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:15:38.899 +00:00 [DBG] Created DbConnection. (28ms).
2023-12-04 02:15:38.904 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.037 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.039 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.046 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-12-04 02:15:39.052 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:15:39.057 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-12-04 02:15:39.059 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (7ms).
2023-12-04 02:15:39.060 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.151 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.156 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:15:39.205 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:15:39.206 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.208 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-04 02:15:39.216 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.217 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.217 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:15:39.218 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:15:39.218 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:15:39.219 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:15:39.223 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:15:39.229 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.230 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 6ms reading results.
2023-12-04 02:15:39.231 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.231 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:15:39.233 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.234 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.304 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.304 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.304 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:15:39.305 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:15:39.306 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:15:39.306 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-04 02:15:39.307 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.307 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.308 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:15:39.310 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:15:39.311 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.312 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:15:39.313 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.380 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.381 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.381 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:15:39.382 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:15:39.382 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:15:39.383 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:15:39.383 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.384 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.384 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:15:39.385 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:15:39.386 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.386 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:15:39.387 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.387 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.387 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:15:39.388 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:15:39.388 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:15:39.388 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:15:39.401 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:15:39.401 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.402 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:15:39.403 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.403 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:15:39.413 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-04 02:15:39.415 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:15:39.417 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:39.418 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 02:15:39.466 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 02:15:39.527 +00:00 [DBG] Hosting starting
2023-12-04 02:15:39.543 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-04 02:15:39.543 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-04 02:15:39.551 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-04 02:15:39.551 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-04 02:15:39.554 +00:00 [INF] Creating key {2dc6d7c4-7884-4127-8123-f082258fcad1} with creation date 2023-12-04 02:15:39Z, activation date 2023-12-04 02:15:39Z, and expiration date 2024-03-03 02:15:39Z.
2023-12-04 02:15:39.559 +00:00 [DBG] Descriptor deserializer type for key {2dc6d7c4-7884-4127-8123-f082258fcad1} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-04 02:15:39.563 +00:00 [DBG] No key escrow sink found. Not writing key {2dc6d7c4-7884-4127-8123-f082258fcad1} to escrow.
2023-12-04 02:15:39.563 +00:00 [WRN] No XML encryptor configured. Key {2dc6d7c4-7884-4127-8123-f082258fcad1} may be persisted to storage in unencrypted form.
2023-12-04 02:15:39.564 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-04 02:15:39.565 +00:00 [DBG] Found key {2dc6d7c4-7884-4127-8123-f082258fcad1}.
2023-12-04 02:15:39.570 +00:00 [DBG] Considering key {2dc6d7c4-7884-4127-8123-f082258fcad1} with expiration date 2024-03-03 02:15:39Z as default key.
2023-12-04 02:15:39.576 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 02:15:39.579 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-04 02:15:39.579 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-04 02:15:39.582 +00:00 [DBG] Using key {2dc6d7c4-7884-4127-8123-f082258fcad1} as the default key.
2023-12-04 02:15:39.583 +00:00 [DBG] Key ring with default key {2dc6d7c4-7884-4127-8123-f082258fcad1} was loaded during application startup.
2023-12-04 02:15:39.699 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-04 02:15:39.811 +00:00 [INF] Now listening on: http://[::]:80
2023-12-04 02:15:39.812 +00:00 [INF] Now listening on: https://[::]:443
2023-12-04 02:15:39.812 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-04 02:15:39.813 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 02:15:39.814 +00:00 [INF] Hosting environment: Development
2023-12-04 02:15:39.814 +00:00 [INF] Content root path: /app
2023-12-04 02:15:39.815 +00:00 [DBG] Hosting started
2023-12-04 02:15:39.970 +00:00 [DBG] Connection id "0HMVKDRKJP6PB" accepted.
2023-12-04 02:15:39.972 +00:00 [DBG] Connection id "0HMVKDRKJP6PB" started.
2023-12-04 02:15:40.004 +00:00 [DBG] Connection 0HMVKDRKJP6PB established using the following protocol: "Tls13"
2023-12-04 02:15:40.049 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/index.html - null null
2023-12-04 02:15:40.051 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 02:15:40.071 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-04 02:15:40.072 +00:00 [DBG] Request did not match any endpoints
2023-12-04 02:15:40.159 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/index.html - 200 null text/html;charset=utf-8 111.8915ms
2023-12-04 02:15:40.501 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - null null
2023-12-04 02:15:40.502 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-04 02:15:40.503 +00:00 [DBG] Request did not match any endpoints
2023-12-04 02:15:40.593 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 92.5422ms
2023-12-04 02:15:56.167 +00:00 [INF] Request starting HTTP/2 POST https://localhost:51092/api/Auth/login - application/json 59
2023-12-04 02:15:56.195 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-04 02:15:56.196 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-04 02:15:56.208 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:15:56.210 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 02:15:56.254 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 02:15:56.256 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:15:56.275 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 02:15:56.277 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 02:15:56.278 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 02:15:56.279 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:15:56.279 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 02:15:56.280 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:15:56.281 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:15:56.282 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 02:15:56.287 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 02:15:56.291 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-04 02:15:56.292 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 02:15:56.297 +00:00 [DBG] Connection id "0HMVKDRKJP6PB", Request id "0HMVKDRKJP6PB:00000005": started reading request body.
2023-12-04 02:15:56.298 +00:00 [DBG] Connection id "0HMVKDRKJP6PB", Request id "0HMVKDRKJP6PB:00000005": done reading request body.
2023-12-04 02:15:56.303 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-04 02:15:56.304 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:15:56.305 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:15:56.306 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 02:15:56.312 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 02:15:56.314 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:15:56.316 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:15:56.317 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:15:56.319 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:15:56.346 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:15:56.388 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-04 02:15:56.533 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 02:15:56.562 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:15:56.563 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 02:15:56.564 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:56.566 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:56.567 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:15:56.568 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:15:56.574 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2023-12-04 02:15:56.577 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 02:15:56.602 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 02:15:56.667 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 02:15:56.699 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:56.701 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 96ms reading results.
2023-12-04 02:15:56.704 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:56.705 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:15:56.786 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-04 02:15:56.823 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 02:15:56.825 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:56.826 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:56.826 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:15:56.827 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:15:56.827 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:15:56.827 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 02:15:56.839 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 02:15:56.840 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:56.841 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-04 02:15:56.842 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:56.843 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:15:56.873 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 02:15:56.877 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-04 02:15:56.889 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 606.0546ms
2023-12-04 02:15:56.890 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 02:15:56.893 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 680.3704 ms
2023-12-04 02:15:56.895 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:15:56.898 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:15:56.899 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-04 02:15:56.900 +00:00 [INF] Request finished HTTP/2 POST https://localhost:51092/api/Auth/login - 200 null application/json; charset=utf-8 733.8238ms
2023-12-04 02:16:10.325 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/Product - null null
2023-12-04 02:16:10.326 +00:00 [DBG] 1 candidate(s) found for the request path '/Product'
2023-12-04 02:16:10.326 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)' with route pattern 'Product' is valid for the request path '/Product'
2023-12-04 02:16:10.327 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-12-04 02:16:10.328 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 02:16:10.358 +00:00 [DBG] Successfully validated the token.
2023-12-04 02:16:10.360 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 02:16:10.365 +00:00 [DBG] Authorization was successful.
2023-12-04 02:16:10.365 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-12-04 02:16:10.369 +00:00 [INF] Route matched with {action = "Get", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(MediatR.ISender) on controller Web.API.Endpoints.ProductController (WebApi).
2023-12-04 02:16:10.370 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 02:16:10.370 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 02:16:10.371 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:16:10.371 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 02:16:10.374 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 02:16:10.375 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-12-04 02:16:10.376 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-12-04 02:16:10.377 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:16:10.400 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:16:10.401 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 02:16:10.402 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 02:16:10.446 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:16:10.448 +00:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Select(p => new ProductResponse(
        p.Id.Value, 
        p.Name, 
        p.Sku.Value, 
        p.Price.Currency, 
        p.Price.Amount
    ))'
2023-12-04 02:16:10.467 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ProductResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> 4
        SELECT p.Id, p.Name, p.Sku, p.Price_Currency, p.Price_Amount
        FROM Products AS p), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ProductResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 02:16:10.468 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:16:10.468 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 02:16:10.469 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:16:10.469 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:16:10.470 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:16:10.470 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:16:10.470 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:16:10.471 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-12-04 02:16:10.519 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."Name", p."Sku", p."Price_Currency", p."Price_Amount"
FROM "Products" AS p
2023-12-04 02:16:10.547 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:16:10.548 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 27ms reading results.
2023-12-04 02:16:10.548 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:16:10.549 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:16:10.549 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 02:16:10.555 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-12-04 02:16:10.561 +00:00 [INF] Executed action Web.API.Endpoints.ProductController.Get (WebApi) in 186.0145ms
2023-12-04 02:16:10.561 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.ProductController.Get (WebApi)'
2023-12-04 02:16:10.562 +00:00 [INF] HTTP GET /Product responded 200 in 234.0393 ms
2023-12-04 02:16:10.585 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:16:10.586 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:16:10.586 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:16:10.587 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/Product - 200 null application/json; charset=utf-8 262.8147ms
2023-12-04 02:49:04.933 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 02:49:05.366 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 02:49:05.368 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 02:49:05.470 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:49:05.470 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:49:05.470 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:49:05.471 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 02:49:05.587 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 02:49:05.599 +00:00 [DBG] Creating DbConnection.
2023-12-04 02:49:05.630 +00:00 [DBG] Created DbConnection. (29ms).
2023-12-04 02:49:05.635 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:05.788 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:05.790 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:05.805 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (8ms).
2023-12-04 02:49:05.810 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:49:05.815 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-12-04 02:49:05.817 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-12-04 02:49:05.818 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:05.916 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:05.922 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:49:05.979 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:49:05.981 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:05.983 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-04 02:49:05.991 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:05.992 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:05.994 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:49:05.995 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:49:05.996 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-04 02:49:05.998 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:49:06.003 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:49:06.008 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.010 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-12-04 02:49:06.010 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.011 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:49:06.014 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.016 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.081 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.081 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.082 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:49:06.083 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:49:06.083 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:49:06.084 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-04 02:49:06.084 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.085 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.085 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:49:06.087 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:49:06.087 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.088 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:49:06.089 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.164 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.165 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.166 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:49:06.166 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 02:49:06.166 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:49:06.167 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 02:49:06.167 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.168 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.168 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:49:06.170 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 02:49:06.170 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.171 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:49:06.171 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.171 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.172 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 02:49:06.172 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:49:06.173 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 02:49:06.173 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:49:06.174 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 02:49:06.175 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.175 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 02:49:06.176 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.177 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:49:06.188 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-04 02:49:06.190 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 02:49:06.192 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 02:49:06.193 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 02:49:06.238 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 02:49:06.293 +00:00 [DBG] Hosting starting
2023-12-04 02:49:06.311 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-04 02:49:06.312 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-04 02:49:06.322 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-04 02:49:06.323 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-04 02:49:06.326 +00:00 [INF] Creating key {1959508d-6fc4-462f-ae5e-59a3c502c610} with creation date 2023-12-04 02:49:06Z, activation date 2023-12-04 02:49:06Z, and expiration date 2024-03-03 02:49:06Z.
2023-12-04 02:49:06.333 +00:00 [DBG] Descriptor deserializer type for key {1959508d-6fc4-462f-ae5e-59a3c502c610} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-04 02:49:06.336 +00:00 [DBG] No key escrow sink found. Not writing key {1959508d-6fc4-462f-ae5e-59a3c502c610} to escrow.
2023-12-04 02:49:06.337 +00:00 [WRN] No XML encryptor configured. Key {1959508d-6fc4-462f-ae5e-59a3c502c610} may be persisted to storage in unencrypted form.
2023-12-04 02:49:06.338 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-04 02:49:06.339 +00:00 [DBG] Found key {1959508d-6fc4-462f-ae5e-59a3c502c610}.
2023-12-04 02:49:06.345 +00:00 [DBG] Considering key {1959508d-6fc4-462f-ae5e-59a3c502c610} with expiration date 2024-03-03 02:49:06Z as default key.
2023-12-04 02:49:06.350 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 02:49:06.351 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-04 02:49:06.352 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-04 02:49:06.354 +00:00 [DBG] Using key {1959508d-6fc4-462f-ae5e-59a3c502c610} as the default key.
2023-12-04 02:49:06.355 +00:00 [DBG] Key ring with default key {1959508d-6fc4-462f-ae5e-59a3c502c610} was loaded during application startup.
2023-12-04 02:49:06.507 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-04 02:49:06.717 +00:00 [INF] Now listening on: http://[::]:80
2023-12-04 02:49:06.717 +00:00 [INF] Now listening on: https://[::]:443
2023-12-04 02:49:06.717 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-04 02:49:06.718 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 02:49:06.718 +00:00 [INF] Hosting environment: Development
2023-12-04 02:49:06.719 +00:00 [INF] Content root path: /app
2023-12-04 02:49:06.719 +00:00 [DBG] Hosting started
2023-12-04 02:49:06.891 +00:00 [DBG] Connection id "0HMVKEEAN8S4C" accepted.
2023-12-04 02:49:06.898 +00:00 [DBG] Connection id "0HMVKEEAN8S4C" started.
2023-12-04 02:49:06.928 +00:00 [DBG] Connection 0HMVKEEAN8S4C established using the following protocol: "Tls13"
2023-12-04 02:49:06.975 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/index.html - null null
2023-12-04 02:49:06.978 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 02:49:06.999 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-04 02:49:07.000 +00:00 [DBG] Request did not match any endpoints
2023-12-04 02:49:07.079 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/index.html - 200 null text/html;charset=utf-8 106.6091ms
2023-12-04 02:49:07.406 +00:00 [INF] Request starting HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - null null
2023-12-04 02:49:07.408 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-04 02:49:07.408 +00:00 [DBG] Request did not match any endpoints
2023-12-04 02:49:07.508 +00:00 [INF] Request finished HTTP/2 GET https://localhost:51092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 101.7496ms
2023-12-04 14:40:57.176 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 14:40:57.519 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 14:40:57.519 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 14:42:51.888 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 14:42:52.215 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 14:42:52.216 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 14:45:11.652 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 14:45:11.959 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 14:45:11.959 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 14:45:12.030 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:12.030 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:12.030 +07:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:12.030 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:12.127 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 14:45:12.171 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 14:45:12.171 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 14:45:12.181 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:12.181 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:12.181 +07:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:12.181 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:12.650 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 14:45:40.459 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 14:45:40.793 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 14:45:40.794 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 14:45:40.867 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:40.867 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:40.867 +07:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:40.867 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:40.975 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 14:45:41.021 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 14:45:41.021 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 14:45:41.030 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:41.030 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:41.030 +07:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:41.030 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:45:41.255 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 14:46:04.812 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 14:46:05.168 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 14:46:05.169 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 14:46:05.235 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:46:05.235 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:46:05.235 +07:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:46:05.235 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:46:05.327 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 14:46:05.367 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 14:46:05.367 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 14:46:05.375 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:46:05.375 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:46:05.375 +07:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:46:05.375 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:46:05.657 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 14:47:21.561 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 14:47:21.895 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 14:47:21.896 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 14:47:21.962 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:47:21.962 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:47:21.962 +07:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:47:21.962 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:47:22.057 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 14:47:22.099 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 14:47:22.099 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 14:47:22.107 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:47:22.107 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:47:22.107 +07:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:47:22.107 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:47:22.381 +07:00 [DBG] Creating DbConnection.
2023-12-04 14:47:22.402 +07:00 [DBG] Created DbConnection. (19ms).
2023-12-04 14:47:22.405 +07:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 14:47:22.456 +07:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 14:47:22.459 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 14:47:22.460 +07:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 14:47:22.462 +07:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 14:48:13.086 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 14:48:13.433 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 14:48:13.434 +07:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 14:48:13.502 +07:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:48:13.503 +07:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:48:13.503 +07:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:48:13.503 +07:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 14:48:13.595 +07:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 14:48:13.607 +07:00 [DBG] Creating DbConnection.
2023-12-04 14:48:13.626 +07:00 [DBG] Created DbConnection. (17ms).
2023-12-04 14:48:13.630 +07:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 14:48:13.673 +07:00 [DBG] An error occurred using the connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 14:48:13.676 +07:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 14:48:13.677 +07:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 14:48:13.680 +07:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 07:53:23.449 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 07:53:23.925 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 07:53:23.926 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 07:53:24.005 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 07:53:24.006 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 07:53:24.006 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 07:53:24.007 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 07:53:24.115 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 07:53:24.125 +00:00 [DBG] Creating DbConnection.
2023-12-04 07:53:24.153 +00:00 [DBG] Created DbConnection. (26ms).
2023-12-04 07:53:24.158 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.356 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.358 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.365 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-12-04 07:53:24.376 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 07:53:24.381 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2023-12-04 07:53:24.382 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (9ms).
2023-12-04 07:53:24.383 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.471 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.476 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 07:53:24.525 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 07:53:24.526 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.527 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 07:53:24.538 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.539 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.539 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 07:53:24.539 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 07:53:24.540 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 07:53:24.540 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 07:53:24.546 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 07:53:24.553 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.554 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 7ms reading results.
2023-12-04 07:53:24.555 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.556 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 07:53:24.558 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.559 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.621 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.621 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.622 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 07:53:24.622 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 07:53:24.623 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 07:53:24.623 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 07:53:24.624 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.624 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.625 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 07:53:24.626 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 07:53:24.627 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.627 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 07:53:24.628 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.695 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.696 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.696 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 07:53:24.697 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 07:53:24.697 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 07:53:24.697 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 07:53:24.698 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.698 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.698 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 07:53:24.700 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 07:53:24.700 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.700 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 07:53:24.701 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.701 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.702 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 07:53:24.702 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 07:53:24.703 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 07:53:24.703 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 07:53:24.704 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 07:53:24.706 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.706 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 07:53:24.707 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.707 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 07:53:24.715 +00:00 [INF] Applying migration '20231204074512_AddPurchaseHistoryRelation'.
2023-12-04 07:53:24.756 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.757 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.759 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-12-04 07:53:24.762 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-12-04 07:53:24.763 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-04 07:53:24.764 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-04 07:53:24.765 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2023-12-04 07:53:24.766 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseHistories" DROP CONSTRAINT "PK_PurchaseHistories";
2023-12-04 07:53:24.781 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseHistories" DROP CONSTRAINT "PK_PurchaseHistories";
2023-12-04 07:53:24.782 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-04 07:53:24.782 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-04 07:53:24.783 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-04 07:53:24.783 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseHistoryItems" ADD "UserId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2023-12-04 07:53:24.792 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseHistoryItems" ADD "UserId" uuid NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2023-12-04 07:53:24.792 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-04 07:53:24.792 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-04 07:53:24.793 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-04 07:53:24.793 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseHistories" ADD CONSTRAINT "PK_PurchaseHistories" PRIMARY KEY ("Id", "UserId");
2023-12-04 07:53:24.804 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseHistories" ADD CONSTRAINT "PK_PurchaseHistories" PRIMARY KEY ("Id", "UserId");
2023-12-04 07:53:24.805 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-04 07:53:24.805 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-04 07:53:24.806 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-04 07:53:24.806 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PurchaseHistoryItems_PurchaseHistoryId_UserId" ON "PurchaseHistoryItems" ("PurchaseHistoryId", "UserId");
2023-12-04 07:53:24.813 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PurchaseHistoryItems_PurchaseHistoryId_UserId" ON "PurchaseHistoryItems" ("PurchaseHistoryId", "UserId");
2023-12-04 07:53:24.813 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-04 07:53:24.814 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-04 07:53:24.814 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-04 07:53:24.814 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseHistoryItems" ADD CONSTRAINT "FK_PurchaseHistoryItems_PurchaseHistories_PurchaseHistoryId_Us~" FOREIGN KEY ("PurchaseHistoryId", "UserId") REFERENCES "PurchaseHistories" ("Id", "UserId") ON DELETE CASCADE;
2023-12-04 07:53:24.828 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "PurchaseHistoryItems" ADD CONSTRAINT "FK_PurchaseHistoryItems_PurchaseHistories_PurchaseHistoryId_Us~" FOREIGN KEY ("PurchaseHistoryId", "UserId") REFERENCES "PurchaseHistories" ("Id", "UserId") ON DELETE CASCADE;
2023-12-04 07:53:24.828 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-04 07:53:24.829 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-04 07:53:24.829 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-04 07:53:24.829 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231204074512_AddPurchaseHistoryRelation', '8.0.0');
2023-12-04 07:53:24.831 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231204074512_AddPurchaseHistoryRelation', '8.0.0');
2023-12-04 07:53:24.833 +00:00 [DBG] Committing transaction.
2023-12-04 07:53:24.847 +00:00 [DBG] Committed transaction.
2023-12-04 07:53:24.848 +00:00 [DBG] Disposing transaction.
2023-12-04 07:53:24.849 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.849 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 07:53:24.850 +00:00 [INF] Applying migration '20231204074605_AddPurchaseHistoryRelationMissingUserId'.
2023-12-04 07:53:24.864 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.865 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.865 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-12-04 07:53:24.865 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-12-04 07:53:24.866 +00:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-12-04 07:53:24.866 +00:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-04 07:53:24.866 +00:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2023-12-04 07:53:24.867 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231204074605_AddPurchaseHistoryRelationMissingUserId', '8.0.0');
2023-12-04 07:53:24.869 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20231204074605_AddPurchaseHistoryRelationMissingUserId', '8.0.0');
2023-12-04 07:53:24.869 +00:00 [DBG] Committing transaction.
2023-12-04 07:53:24.873 +00:00 [DBG] Committed transaction.
2023-12-04 07:53:24.873 +00:00 [DBG] Disposing transaction.
2023-12-04 07:53:24.874 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.874 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 07:53:24.876 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 07:53:24.878 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 07:53:24.879 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 07:53:24.918 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 07:53:24.982 +00:00 [DBG] Hosting starting
2023-12-04 07:53:24.998 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-04 07:53:24.998 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-04 07:53:25.007 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-04 07:53:25.007 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-04 07:53:25.010 +00:00 [INF] Creating key {373d6989-cd9c-406d-ae54-fe4e103e069c} with creation date 2023-12-04 07:53:25Z, activation date 2023-12-04 07:53:25Z, and expiration date 2024-03-03 07:53:25Z.
2023-12-04 07:53:25.016 +00:00 [DBG] Descriptor deserializer type for key {373d6989-cd9c-406d-ae54-fe4e103e069c} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-04 07:53:25.019 +00:00 [DBG] No key escrow sink found. Not writing key {373d6989-cd9c-406d-ae54-fe4e103e069c} to escrow.
2023-12-04 07:53:25.020 +00:00 [WRN] No XML encryptor configured. Key {373d6989-cd9c-406d-ae54-fe4e103e069c} may be persisted to storage in unencrypted form.
2023-12-04 07:53:25.021 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-04 07:53:25.023 +00:00 [DBG] Found key {373d6989-cd9c-406d-ae54-fe4e103e069c}.
2023-12-04 07:53:25.028 +00:00 [DBG] Considering key {373d6989-cd9c-406d-ae54-fe4e103e069c} with expiration date 2024-03-03 07:53:25Z as default key.
2023-12-04 07:53:25.032 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 07:53:25.033 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-04 07:53:25.034 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-04 07:53:25.036 +00:00 [DBG] Using key {373d6989-cd9c-406d-ae54-fe4e103e069c} as the default key.
2023-12-04 07:53:25.038 +00:00 [DBG] Key ring with default key {373d6989-cd9c-406d-ae54-fe4e103e069c} was loaded during application startup.
2023-12-04 07:53:25.147 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-04 07:53:25.266 +00:00 [INF] Now listening on: http://[::]:80
2023-12-04 07:53:25.267 +00:00 [INF] Now listening on: https://[::]:443
2023-12-04 07:53:25.268 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-04 07:53:25.268 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 07:53:25.269 +00:00 [INF] Hosting environment: Development
2023-12-04 07:53:25.269 +00:00 [INF] Content root path: /app
2023-12-04 07:53:25.270 +00:00 [DBG] Hosting started
2023-12-04 07:53:26.553 +00:00 [DBG] Connection id "0HMVKJOCGVGJB" accepted.
2023-12-04 07:53:26.561 +00:00 [DBG] Connection id "0HMVKJOCGVGJB" started.
2023-12-04 07:53:26.561 +00:00 [DBG] Connection id "0HMVKJOCGVGJC" accepted.
2023-12-04 07:53:26.563 +00:00 [DBG] Connection id "0HMVKJOCGVGJC" started.
2023-12-04 07:53:26.611 +00:00 [DBG] Connection id "0HMVKJOCGVGJB" received FIN.
2023-12-04 07:53:26.664 +00:00 [DBG] Connection 0HMVKJOCGVGJC established using the following protocol: "Tls13"
2023-12-04 07:53:26.664 +00:00 [DBG] Connection 0HMVKJOCGVGJB established using the following protocol: "Tls13"
2023-12-04 07:53:26.675 +00:00 [DBG] Connection id "0HMVKJOCGVGJB" is closed. The last processed stream ID was 0.
2023-12-04 07:53:26.677 +00:00 [DBG] Connection id "0HMVKJOCGVGJB" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-12-04 07:53:26.680 +00:00 [DBG] The connection queue processing loop for 0HMVKJOCGVGJB completed.
2023-12-04 07:53:26.684 +00:00 [DBG] Connection id "0HMVKJOCGVGJB" stopped.
2023-12-04 07:53:26.714 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger - null null
2023-12-04 07:53:26.716 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 07:53:26.735 +00:00 [DBG] No candidates found for the request path '/swagger'
2023-12-04 07:53:26.736 +00:00 [DBG] Request did not match any endpoints
2023-12-04 07:53:26.761 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger - 301 0 null 42.3032ms
2023-12-04 07:53:26.767 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger/index.html - null null
2023-12-04 07:53:26.769 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-04 07:53:26.769 +00:00 [DBG] Request did not match any endpoints
2023-12-04 07:53:26.837 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger/index.html - 200 null text/html;charset=utf-8 69.2981ms
2023-12-04 07:53:26.851 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger/swagger-ui.css - null null
2023-12-04 07:53:26.853 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2023-12-04 07:53:26.875 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger/swagger-ui-standalone-preset.js - null null
2023-12-04 07:53:26.875 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger/swagger-ui-bundle.js - null null
2023-12-04 07:53:26.875 +00:00 [DBG] Request did not match any endpoints
2023-12-04 07:53:26.876 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2023-12-04 07:53:26.877 +00:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2023-12-04 07:53:26.879 +00:00 [DBG] Request did not match any endpoints
2023-12-04 07:53:26.879 +00:00 [DBG] Request did not match any endpoints
2023-12-04 07:53:26.968 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2023-12-04 07:53:26.969 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger/swagger-ui.css - 200 144929 text/css 118.2983ms
2023-12-04 07:53:26.984 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2023-12-04 07:53:26.984 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger/swagger-ui-standalone-preset.js - 200 312163 text/javascript 108.8854ms
2023-12-04 07:53:27.096 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2023-12-04 07:53:27.096 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger/swagger-ui-bundle.js - 200 1061536 text/javascript 221.2821ms
2023-12-04 07:53:27.356 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger/v1/swagger.json - null null
2023-12-04 07:53:27.357 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-04 07:53:27.358 +00:00 [DBG] Request did not match any endpoints
2023-12-04 07:53:27.379 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger/favicon-32x32.png - null null
2023-12-04 07:53:27.379 +00:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2023-12-04 07:53:27.380 +00:00 [DBG] Request did not match any endpoints
2023-12-04 07:53:27.380 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-12-04 07:53:27.381 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger/favicon-32x32.png - 200 628 image/png 1.9977ms
2023-12-04 07:53:27.462 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 106.0008ms
2023-12-04 08:00:30.401 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/PurchaseHistory - null null
2023-12-04 08:00:30.404 +00:00 [DBG] 1 candidate(s) found for the request path '/PurchaseHistory'
2023-12-04 08:00:30.405 +00:00 [DBG] Endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)' with route pattern 'PurchaseHistory' is valid for the request path '/PurchaseHistory'
2023-12-04 08:00:30.416 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:00:30.417 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:00:30.458 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 08:00:30.462 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:00:30.478 +00:00 [INF] Route matched with {action = "Get", controller = "PurchaseHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(MediatR.ISender) on controller Web.API.Endpoints.PurchaseHistoryController (WebApi).
2023-12-04 08:00:30.480 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:00:30.481 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:00:30.481 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:00:30.482 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:00:30.482 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:00:30.484 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:00:30.485 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:00:30.488 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:00:30.491 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:00:30.491 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:00:30.494 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:00:30.530 +00:00 [INF] Executed action Web.API.Endpoints.PurchaseHistoryController.Get (WebApi) in 45.8995ms
2023-12-04 08:00:30.531 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:00:30.533 +00:00 [ERR] HTTP GET /PurchaseHistory responded 500 in 113.7000 ms
System.ArgumentNullException: Value cannot be null. (Parameter 'g')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Guid..ctor(String g)
   at Web.API.Endpoints.PurchaseHistoryController.Get(ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Purchases.cs:line 34
   at lambda_method34(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-04 08:00:30.553 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'g')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Guid..ctor(String g)
   at Web.API.Endpoints.PurchaseHistoryController.Get(ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Purchases.cs:line 34
   at lambda_method34(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-04 08:00:30.559 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/PurchaseHistory - 500 null text/plain; charset=utf-8 158.2913ms
2023-12-04 08:01:54.327 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/PurchaseHistory - null null
2023-12-04 08:01:54.411 +00:00 [DBG] 1 candidate(s) found for the request path '/PurchaseHistory'
2023-12-04 08:01:54.411 +00:00 [DBG] Endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)' with route pattern 'PurchaseHistory' is valid for the request path '/PurchaseHistory'
2023-12-04 08:01:54.412 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:01:54.413 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:01:54.415 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 08:01:54.416 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:01:54.417 +00:00 [INF] Route matched with {action = "Get", controller = "PurchaseHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(MediatR.ISender) on controller Web.API.Endpoints.PurchaseHistoryController (WebApi).
2023-12-04 08:01:54.417 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:01:54.418 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:01:54.418 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:01:54.419 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:01:54.419 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:01:54.419 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:01:54.420 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:01:54.421 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:01:54.421 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:01:54.422 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:01:54.422 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:01:54.438 +00:00 [INF] Executed action Web.API.Endpoints.PurchaseHistoryController.Get (WebApi) in 18.9773ms
2023-12-04 08:01:54.439 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:01:54.439 +00:00 [ERR] HTTP GET /PurchaseHistory responded 500 in 26.5267 ms
System.ArgumentNullException: Value cannot be null. (Parameter 'g')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Guid..ctor(String g)
   at Web.API.Endpoints.PurchaseHistoryController.Get(ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Purchases.cs:line 34
   at lambda_method34(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-04 08:01:54.441 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'g')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Guid..ctor(String g)
   at Web.API.Endpoints.PurchaseHistoryController.Get(ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Purchases.cs:line 34
   at lambda_method34(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-04 08:01:54.444 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/PurchaseHistory - 500 null text/plain; charset=utf-8 116.3037ms
2023-12-04 08:02:00.623 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/PurchaseHistory - null null
2023-12-04 08:02:00.623 +00:00 [DBG] 1 candidate(s) found for the request path '/PurchaseHistory'
2023-12-04 08:02:00.624 +00:00 [DBG] Endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)' with route pattern 'PurchaseHistory' is valid for the request path '/PurchaseHistory'
2023-12-04 08:02:00.625 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:02:00.626 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:02:00.628 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 08:02:00.628 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:02:00.629 +00:00 [INF] Route matched with {action = "Get", controller = "PurchaseHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(MediatR.ISender) on controller Web.API.Endpoints.PurchaseHistoryController (WebApi).
2023-12-04 08:02:00.630 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:02:00.630 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:02:00.631 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:02:00.631 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:02:00.632 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:02:00.632 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:02:00.633 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:02:00.633 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:02:00.636 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:02:00.637 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:02:00.638 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:02:00.652 +00:00 [INF] Executed action Web.API.Endpoints.PurchaseHistoryController.Get (WebApi) in 19.7298ms
2023-12-04 08:02:00.653 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:02:00.654 +00:00 [ERR] HTTP GET /PurchaseHistory responded 500 in 27.6248 ms
System.ArgumentNullException: Value cannot be null. (Parameter 'g')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Guid..ctor(String g)
   at Web.API.Endpoints.PurchaseHistoryController.Get(ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Purchases.cs:line 34
   at lambda_method34(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-04 08:02:00.656 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'g')
   at System.ArgumentNullException.Throw(String paramName)
   at System.Guid..ctor(String g)
   at Web.API.Endpoints.PurchaseHistoryController.Get(ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Purchases.cs:line 34
   at lambda_method34(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-04 08:02:00.659 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/PurchaseHistory - 500 null text/plain; charset=utf-8 36.3522ms
2023-12-04 08:03:45.840 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54949/api/Auth/login - application/json 59
2023-12-04 08:03:45.866 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-04 08:03:45.866 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-04 08:03:45.867 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 08:03:45.868 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:03:45.869 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 08:03:45.869 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 08:03:45.874 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 08:03:45.874 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:03:45.874 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:03:45.875 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:03:45.875 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:03:45.876 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:03:45.876 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 08:03:45.877 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 08:03:45.877 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 08:03:45.878 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-04 08:03:45.880 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 08:03:45.888 +00:00 [DBG] Connection id "0HMVKJOCGVGJC", Request id "0HMVKJOCGVGJC:00000015": started reading request body.
2023-12-04 08:03:45.889 +00:00 [DBG] Connection id "0HMVKJOCGVGJC", Request id "0HMVKJOCGVGJC:00000015": done reading request body.
2023-12-04 08:03:45.892 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-04 08:03:45.893 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 08:03:45.893 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 08:03:45.893 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 08:03:45.900 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 08:03:45.900 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:03:45.901 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:03:45.902 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:03:45.902 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:03:45.922 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 08:03:45.960 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-04 08:03:46.105 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 08:03:46.137 +00:00 [DBG] Creating DbConnection.
2023-12-04 08:03:46.138 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-04 08:03:46.141 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:03:46.251 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:03:46.252 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:03:46.253 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:03:46.257 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-12-04 08:03:46.260 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 08:03:46.311 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 08:03:46.342 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:03:46.371 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:03:46.372 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 59ms reading results.
2023-12-04 08:03:46.374 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:03:46.375 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:03:46.458 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-04 08:03:46.492 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 08:03:46.494 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:03:46.494 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:03:46.495 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:03:46.495 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:03:46.496 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 08:03:46.497 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 08:03:46.540 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 08:03:46.541 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:03:46.542 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-04 08:03:46.543 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:03:46.543 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:03:46.572 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 08:03:46.575 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-04 08:03:46.579 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 702.5924ms
2023-12-04 08:03:46.580 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 08:03:46.582 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 713.1059 ms
2023-12-04 08:03:46.584 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 08:03:46.588 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:03:46.589 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 08:03:46.591 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54949/api/Auth/login - 200 null application/json; charset=utf-8 750.3229ms
2023-12-04 08:03:59.929 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/PurchaseHistory - null null
2023-12-04 08:03:59.930 +00:00 [DBG] 1 candidate(s) found for the request path '/PurchaseHistory'
2023-12-04 08:03:59.930 +00:00 [DBG] Endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)' with route pattern 'PurchaseHistory' is valid for the request path '/PurchaseHistory'
2023-12-04 08:03:59.931 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:03:59.932 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:03:59.963 +00:00 [DBG] Successfully validated the token.
2023-12-04 08:03:59.965 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 08:03:59.966 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:03:59.966 +00:00 [INF] Route matched with {action = "Get", controller = "PurchaseHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(MediatR.ISender) on controller Web.API.Endpoints.PurchaseHistoryController (WebApi).
2023-12-04 08:03:59.967 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:03:59.967 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:03:59.968 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:03:59.968 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:03:59.969 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:03:59.969 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:03:59.969 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:03:59.970 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:03:59.970 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:03:59.971 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:03:59.971 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:04:00.014 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 08:04:00.017 +00:00 [DBG] Compiling query expression: 
'DbSet<PurchaseHistory>()
    .Where(p => p.UserId == __request_UserId_0)
    .Select(p => new PurchaseHistoryResponse(
        p.Id.Value, 
        p.UserId.Value, 
        p.Amount.Currency, 
        p.Amount.Amount, 
        p.PurchaseHistoryItems
            .ToList()
    ))'
2023-12-04 08:04:00.030 +00:00 [DBG] Including navigation: 'PurchaseHistoryItem.Price'.
2023-12-04 08:04:00.070 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PurchaseHistoryResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: PurchaseHistoryItem.Id (PurchaseHistoryItemId) Required PK AfterSave:Throw, 4], [Property: PurchaseHistoryItem.ProductId (ProductId) Required, 5], [Property: PurchaseHistoryItem.PurchaseHistoryId (PurchaseHistoryId) Required FK Index, 6], [Property: PurchaseHistoryItem.Quantity (decimal) Required, 7], [Property: PurchaseHistoryItem.UserId (UserId) Required FK Index, 8] }
            5 -> Dictionary<IProperty, int> { [Property: PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId (no field, PurchaseHistoryItemId) Shadow Required PK FK AfterSave:Throw, 4], [Property: PurchaseHistoryItem.Price#Money.Amount (decimal) Required, 9], [Property: PurchaseHistoryItem.Price#Money.Currency (string) Required MaxLength(3), 10] }
            6 -> 4
        SELECT p.Id, p.UserId, p.Amount_Currency, p.Amount_Amount, p0.Id, p0.ProductId, p0.PurchaseHistoryId, p0.Quantity, p0.UserId, p0.Price_Amount, p0.Price_Currency
        FROM PurchaseHistories AS p
        LEFT JOIN PurchaseHistoryItems AS p0 ON (p.Id == p0.PurchaseHistoryId) && (p.UserId == p0.UserId)
        WHERE p.UserId == @__request_UserId_0
        ORDER BY p.Id ASC, p.UserId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PurchaseHistoryResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 08:04:00.076 +00:00 [DBG] Creating DbConnection.
2023-12-04 08:04:00.076 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 08:04:00.077 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:04:00.077 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:04:00.078 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:04:00.078 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:04:00.081 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-04 08:04:00.081 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."UserId", p."Amount_Currency", p."Amount_Amount", p0."Id", p0."ProductId", p0."PurchaseHistoryId", p0."Quantity", p0."UserId", p0."Price_Amount", p0."Price_Currency"
FROM "PurchaseHistories" AS p
LEFT JOIN "PurchaseHistoryItems" AS p0 ON p."Id" = p0."PurchaseHistoryId" AND p."UserId" = p0."UserId"
WHERE p."UserId" = @__request_UserId_0
ORDER BY p."Id", p."UserId"
2023-12-04 08:04:00.097 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."UserId", p."Amount_Currency", p."Amount_Amount", p0."Id", p0."ProductId", p0."PurchaseHistoryId", p0."Quantity", p0."UserId", p0."Price_Amount", p0."Price_Currency"
FROM "PurchaseHistories" AS p
LEFT JOIN "PurchaseHistoryItems" AS p0 ON p."Id" = p0."PurchaseHistoryId" AND p."UserId" = p0."UserId"
WHERE p."UserId" = @__request_UserId_0
ORDER BY p."Id", p."UserId"
2023-12-04 08:04:00.098 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:04:00.098 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 08:04:00.099 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:04:00.099 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:04:00.100 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 08:04:00.110 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-12-04 08:04:00.111 +00:00 [INF] Executed action Web.API.Endpoints.PurchaseHistoryController.Get (WebApi) in 141.6728ms
2023-12-04 08:04:00.111 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:04:00.111 +00:00 [INF] HTTP GET /PurchaseHistory responded 200 in 179.0588 ms
2023-12-04 08:04:00.112 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 08:04:00.113 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:04:00.114 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 08:04:00.115 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/PurchaseHistory - 200 null application/json; charset=utf-8 186.2ms
2023-12-04 08:09:49.955 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54949/PurchaseHistory - application/json 223
2023-12-04 08:09:49.956 +00:00 [DBG] 1 candidate(s) found for the request path '/PurchaseHistory'
2023-12-04 08:09:49.956 +00:00 [DBG] Endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)' with route pattern 'PurchaseHistory' is valid for the request path '/PurchaseHistory'
2023-12-04 08:09:49.957 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:09:49.958 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:09:49.959 +00:00 [DBG] Successfully validated the token.
2023-12-04 08:09:49.960 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 08:09:49.961 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:09:49.965 +00:00 [INF] Route matched with {action = "Create", controller = "PurchaseHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest, MediatR.ISender) on controller Web.API.Endpoints.PurchaseHistoryController (WebApi).
2023-12-04 08:09:49.967 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:09:49.968 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:09:49.969 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:09:49.970 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:09:49.970 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:09:49.971 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:09:49.971 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:09:49.972 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' ...
2023-12-04 08:09:49.974 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' using the name '' in request data ...
2023-12-04 08:09:49.974 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 08:09:49.977 +00:00 [DBG] Connection id "0HMVKJOCGVGJC", Request id "0HMVKJOCGVGJC:00000019": started reading request body.
2023-12-04 08:09:50.025 +00:00 [DBG] Connection id "0HMVKJOCGVGJC", Request id "0HMVKJOCGVGJC:00000019": done reading request body.
2023-12-04 08:09:50.031 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'
2023-12-04 08:09:50.031 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:09:50.032 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:09:50.034 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' ...
2023-12-04 08:09:50.040 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:09:50.041 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:09:50.041 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:09:50.042 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:09:50.042 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:09:50.043 +00:00 [DBG] The request has model state errors, returning an error response.
2023-12-04 08:09:50.045 +00:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-12-04 08:09:50.047 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-12-04 08:09:50.049 +00:00 [DBG] No information found on request to perform content negotiation.
2023-12-04 08:09:50.051 +00:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-04 08:09:50.053 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-04 08:09:50.053 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-12-04 08:09:50.064 +00:00 [INF] Executed action Web.API.Endpoints.PurchaseHistoryController.Create (WebApi) in 92.8352ms
2023-12-04 08:09:50.064 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:09:50.065 +00:00 [INF] HTTP POST /PurchaseHistory responded 400 in 106.0271 ms
2023-12-04 08:09:50.067 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54949/PurchaseHistory - 400 null application/problem+json; charset=utf-8 112.1656ms
2023-12-04 08:10:10.217 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 08:10:10.632 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 08:10:10.633 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 08:10:10.713 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 08:10:10.714 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 08:10:10.714 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 08:10:10.715 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 08:10:10.818 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 08:10:10.828 +00:00 [DBG] Creating DbConnection.
2023-12-04 08:10:10.862 +00:00 [DBG] Created DbConnection. (31ms).
2023-12-04 08:10:10.867 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.095 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.097 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.105 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-12-04 08:10:11.112 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 08:10:11.117 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-12-04 08:10:11.119 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-12-04 08:10:11.119 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.210 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.215 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:10:11.262 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:10:11.264 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.266 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 08:10:11.274 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.277 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.278 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:10:11.278 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:10:11.279 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 08:10:11.280 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 08:10:11.284 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 08:10:11.289 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.291 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 5ms reading results.
2023-12-04 08:10:11.292 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.293 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 08:10:11.296 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.297 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.349 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.350 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.350 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:10:11.351 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 08:10:11.351 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 08:10:11.352 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-04 08:10:11.352 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.352 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.353 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:10:11.354 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:10:11.355 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.355 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:10:11.356 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.414 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.415 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.415 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:10:11.416 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 08:10:11.416 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 08:10:11.417 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 08:10:11.417 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.418 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.451 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:10:11.454 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:10:11.454 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.455 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:10:11.456 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.456 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.457 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:10:11.457 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:10:11.458 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 08:10:11.459 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 08:10:11.461 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 08:10:11.464 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.468 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-12-04 08:10:11.470 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.471 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:10:11.480 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-04 08:10:11.482 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 08:10:11.484 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:11.485 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:10:11.520 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 08:10:11.567 +00:00 [DBG] Hosting starting
2023-12-04 08:10:11.582 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-04 08:10:11.583 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-04 08:10:11.590 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-04 08:10:11.590 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-04 08:10:11.594 +00:00 [INF] Creating key {c399fbd7-a409-4e88-9b04-3172f4f91ff8} with creation date 2023-12-04 08:10:11Z, activation date 2023-12-04 08:10:11Z, and expiration date 2024-03-03 08:10:11Z.
2023-12-04 08:10:11.599 +00:00 [DBG] Descriptor deserializer type for key {c399fbd7-a409-4e88-9b04-3172f4f91ff8} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-04 08:10:11.602 +00:00 [DBG] No key escrow sink found. Not writing key {c399fbd7-a409-4e88-9b04-3172f4f91ff8} to escrow.
2023-12-04 08:10:11.603 +00:00 [WRN] No XML encryptor configured. Key {c399fbd7-a409-4e88-9b04-3172f4f91ff8} may be persisted to storage in unencrypted form.
2023-12-04 08:10:11.603 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-04 08:10:11.605 +00:00 [DBG] Found key {c399fbd7-a409-4e88-9b04-3172f4f91ff8}.
2023-12-04 08:10:11.611 +00:00 [DBG] Considering key {c399fbd7-a409-4e88-9b04-3172f4f91ff8} with expiration date 2024-03-03 08:10:11Z as default key.
2023-12-04 08:10:11.614 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 08:10:11.616 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-04 08:10:11.616 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-04 08:10:11.619 +00:00 [DBG] Using key {c399fbd7-a409-4e88-9b04-3172f4f91ff8} as the default key.
2023-12-04 08:10:11.620 +00:00 [DBG] Key ring with default key {c399fbd7-a409-4e88-9b04-3172f4f91ff8} was loaded during application startup.
2023-12-04 08:10:11.729 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-04 08:10:11.837 +00:00 [INF] Now listening on: http://[::]:80
2023-12-04 08:10:11.837 +00:00 [INF] Now listening on: https://[::]:443
2023-12-04 08:10:11.838 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-04 08:10:11.838 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 08:10:11.839 +00:00 [INF] Hosting environment: Development
2023-12-04 08:10:11.839 +00:00 [INF] Content root path: /app
2023-12-04 08:10:11.840 +00:00 [DBG] Hosting started
2023-12-04 08:10:12.013 +00:00 [DBG] Connection id "0HMVKK1O5PG2A" accepted.
2023-12-04 08:10:12.016 +00:00 [DBG] Connection id "0HMVKK1O5PG2A" started.
2023-12-04 08:10:12.045 +00:00 [DBG] Connection 0HMVKK1O5PG2A established using the following protocol: "Tls13"
2023-12-04 08:10:12.103 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger/index.html - null null
2023-12-04 08:10:12.104 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 08:10:12.123 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-04 08:10:12.124 +00:00 [DBG] Request did not match any endpoints
2023-12-04 08:10:12.212 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger/index.html - 200 null text/html;charset=utf-8 109.8ms
2023-12-04 08:10:12.626 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger/v1/swagger.json - null null
2023-12-04 08:10:12.628 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-04 08:10:12.628 +00:00 [DBG] Request did not match any endpoints
2023-12-04 08:10:12.713 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 86.9242ms
2023-12-04 08:10:28.941 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54949/api/Auth/login - application/json 59
2023-12-04 08:10:28.946 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-04 08:10:28.947 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-04 08:10:28.960 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 08:10:28.962 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:10:29.002 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 08:10:29.005 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 08:10:29.023 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 08:10:29.024 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:10:29.025 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:10:29.026 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:10:29.026 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:10:29.027 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:10:29.029 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 08:10:29.029 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 08:10:29.033 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 08:10:29.037 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-04 08:10:29.039 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 08:10:29.045 +00:00 [DBG] Connection id "0HMVKK1O5PG2A", Request id "0HMVKK1O5PG2A:00000005": started reading request body.
2023-12-04 08:10:29.046 +00:00 [DBG] Connection id "0HMVKK1O5PG2A", Request id "0HMVKK1O5PG2A:00000005": done reading request body.
2023-12-04 08:10:29.050 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-04 08:10:29.053 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 08:10:29.053 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 08:10:29.054 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 08:10:29.060 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 08:10:29.062 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:10:29.063 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:10:29.064 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:10:29.065 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:10:29.092 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 08:10:29.131 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-04 08:10:29.289 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 08:10:29.324 +00:00 [DBG] Creating DbConnection.
2023-12-04 08:10:29.325 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 08:10:29.327 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:29.329 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:29.329 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:10:29.330 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:10:29.334 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2023-12-04 08:10:29.337 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 08:10:29.359 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 08:10:29.403 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:10:29.435 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:29.436 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 76ms reading results.
2023-12-04 08:10:29.439 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:29.440 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 08:10:29.516 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-04 08:10:29.555 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 08:10:29.557 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:29.558 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:29.558 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:10:29.559 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:10:29.559 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:10:29.560 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 08:10:29.570 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 08:10:29.571 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:29.572 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-04 08:10:29.572 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:29.573 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:10:29.603 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 08:10:29.607 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-04 08:10:29.616 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 585.3365ms
2023-12-04 08:10:29.620 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 08:10:29.623 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 657.8251 ms
2023-12-04 08:10:29.625 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 08:10:29.627 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:10:29.629 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 08:10:29.629 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54949/api/Auth/login - 200 null application/json; charset=utf-8 688.8983ms
2023-12-04 08:12:01.951 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54949/PurchaseHistory - application/json 294
2023-12-04 08:12:01.951 +00:00 [DBG] 1 candidate(s) found for the request path '/PurchaseHistory'
2023-12-04 08:12:01.951 +00:00 [DBG] Endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)' with route pattern 'PurchaseHistory' is valid for the request path '/PurchaseHistory'
2023-12-04 08:12:01.952 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:12:01.953 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:12:01.985 +00:00 [DBG] Successfully validated the token.
2023-12-04 08:12:01.987 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 08:12:01.988 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:12:01.994 +00:00 [INF] Route matched with {action = "Create", controller = "PurchaseHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest, MediatR.ISender) on controller Web.API.Endpoints.PurchaseHistoryController (WebApi).
2023-12-04 08:12:01.995 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:12:01.995 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:12:01.996 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:12:01.997 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:12:01.997 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:12:01.997 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:12:01.998 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:12:01.999 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' ...
2023-12-04 08:12:01.999 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' using the name '' in request data ...
2023-12-04 08:12:02.000 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 08:12:02.008 +00:00 [DBG] Connection id "0HMVKK1O5PG2A", Request id "0HMVKK1O5PG2A:00000007": started reading request body.
2023-12-04 08:12:02.009 +00:00 [DBG] Connection id "0HMVKK1O5PG2A", Request id "0HMVKK1O5PG2A:00000007": done reading request body.
2023-12-04 08:12:02.016 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'
2023-12-04 08:12:02.017 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:12:02.017 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:12:02.018 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' ...
2023-12-04 08:12:02.023 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:12:02.023 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:12:02.024 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:12:02.024 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:12:02.025 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:12:02.069 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 08:12:02.089 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'PurchaseHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:12:02.107 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:12:02.121 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'PurchaseHistoryItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:12:02.130 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:12:02.134 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-12-04 08:12:02.137 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 08:12:02.150 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 08:12:02.203 +00:00 [DBG] Executing 2 update commands as a batch.
2023-12-04 08:12:02.205 +00:00 [DBG] Creating DbConnection.
2023-12-04 08:12:02.206 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 08:12:02.206 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:12:02.207 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:12:02.209 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-12-04 08:12:02.215 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-12-04 08:12:02.218 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:12:02.218 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:12:02.220 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 08:12:02.220 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Decimal), @p3='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?' (DbType = Decimal), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PurchaseHistories" ("Id", "UserId", "Amount_Amount", "Amount_Currency")
VALUES (@p0, @p1, @p2, @p3);
INSERT INTO "PurchaseHistoryItems" ("Id", "ProductId", "PurchaseHistoryId", "Quantity", "UserId", "Price_Amount", "Price_Currency")
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10);
2023-12-04 08:12:02.266 +00:00 [ERR] Failed executing DbCommand (23ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Decimal), @p3='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?' (DbType = Decimal), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PurchaseHistories" ("Id", "UserId", "Amount_Amount", "Amount_Currency")
VALUES (@p0, @p1, @p2, @p3);
INSERT INTO "PurchaseHistoryItems" ("Id", "ProductId", "PurchaseHistoryId", "Quantity", "UserId", "Price_Amount", "Price_Currency")
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10);
2023-12-04 08:12:02.279 +00:00 [DBG] Disposing transaction.
2023-12-04 08:12:02.282 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:12:02.287 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-12-04 08:12:02.309 +00:00 [ERR] An exception occurred in the database while saving changes for context type 'Persistence.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "UserId" of relation "PurchaseHistoryItems" violates not-null constraint

DETAIL: Failing row contains (0c5cfef9-def2-493e-9633-498159debe87, ac628a50-942a-49aa-9f3e-29c418804b90, 3fa85f64-5717-4562-b3fc-2c963f66afa6, USD, 2, 1, null).
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "UserId" of relation "PurchaseHistoryItems" violates not-null constraint
    Detail: Failing row contains (0c5cfef9-def2-493e-9633-498159debe87, ac628a50-942a-49aa-9f3e-29c418804b90, 3fa85f64-5717-4562-b3fc-2c963f66afa6, USD, 2, 1, null).
    SchemaName: public
    TableName: PurchaseHistoryItems
    ColumnName: UserId
    File: execMain.c
    Line: 2003
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "UserId" of relation "PurchaseHistoryItems" violates not-null constraint

DETAIL: Failing row contains (0c5cfef9-def2-493e-9633-498159debe87, ac628a50-942a-49aa-9f3e-29c418804b90, 3fa85f64-5717-4562-b3fc-2c963f66afa6, USD, 2, 1, null).
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "UserId" of relation "PurchaseHistoryItems" violates not-null constraint
    Detail: Failing row contains (0c5cfef9-def2-493e-9633-498159debe87, ac628a50-942a-49aa-9f3e-29c418804b90, 3fa85f64-5717-4562-b3fc-2c963f66afa6, USD, 2, 1, null).
    SchemaName: public
    TableName: PurchaseHistoryItems
    ColumnName: UserId
    File: execMain.c
    Line: 2003
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-12-04 08:12:02.377 +00:00 [INF] Executed action Web.API.Endpoints.PurchaseHistoryController.Create (WebApi) in 379.5194ms
2023-12-04 08:12:02.378 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:12:02.379 +00:00 [ERR] HTTP POST /PurchaseHistory responded 500 in 425.5627 ms
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "UserId" of relation "PurchaseHistoryItems" violates not-null constraint

DETAIL: Failing row contains (0c5cfef9-def2-493e-9633-498159debe87, ac628a50-942a-49aa-9f3e-29c418804b90, 3fa85f64-5717-4562-b3fc-2c963f66afa6, USD, 2, 1, null).
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "UserId" of relation "PurchaseHistoryItems" violates not-null constraint
    Detail: Failing row contains (0c5cfef9-def2-493e-9633-498159debe87, ac628a50-942a-49aa-9f3e-29c418804b90, 3fa85f64-5717-4562-b3fc-2c963f66afa6, USD, 2, 1, null).
    SchemaName: public
    TableName: PurchaseHistoryItems
    ColumnName: UserId
    File: execMain.c
    Line: 2003
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Persistence.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Persistence\ApplicationDbContext.cs:line 48
   at Application.PurchaseHistories.Create.CreatePurchaseHistoryCommandHandler.Handle(CreatePurchaseHistoryRequest request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\PurchaseHistories\Create\CreatePurchaseHistoryCommandHandler.cs:line 55
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.PurchaseHistoryController.Create(CreatePurchaseHistoryRequest command, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Purchases.cs:line 24
   at lambda_method146(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-04 08:12:02.395 +00:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "UserId" of relation "PurchaseHistoryItems" violates not-null constraint

DETAIL: Failing row contains (0c5cfef9-def2-493e-9633-498159debe87, ac628a50-942a-49aa-9f3e-29c418804b90, 3fa85f64-5717-4562-b3fc-2c963f66afa6, USD, 2, 1, null).
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "UserId" of relation "PurchaseHistoryItems" violates not-null constraint
    Detail: Failing row contains (0c5cfef9-def2-493e-9633-498159debe87, ac628a50-942a-49aa-9f3e-29c418804b90, 3fa85f64-5717-4562-b3fc-2c963f66afa6, USD, 2, 1, null).
    SchemaName: public
    TableName: PurchaseHistoryItems
    ColumnName: UserId
    File: execMain.c
    Line: 2003
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Persistence.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Persistence\ApplicationDbContext.cs:line 48
   at Application.PurchaseHistories.Create.CreatePurchaseHistoryCommandHandler.Handle(CreatePurchaseHistoryRequest request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\PurchaseHistories\Create\CreatePurchaseHistoryCommandHandler.cs:line 55
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.PurchaseHistoryController.Create(CreatePurchaseHistoryRequest command, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Purchases.cs:line 24
   at lambda_method146(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-04 08:12:02.438 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 08:12:02.438 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:12:02.439 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:12:02.440 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54949/PurchaseHistory - 500 null text/plain; charset=utf-8 489.108ms
2023-12-04 08:14:55.946 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 08:14:56.366 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 08:14:56.368 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 08:14:56.445 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 08:14:56.446 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 08:14:56.446 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 08:14:56.447 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 08:14:56.548 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 08:14:56.558 +00:00 [DBG] Creating DbConnection.
2023-12-04 08:14:56.589 +00:00 [DBG] Created DbConnection. (29ms).
2023-12-04 08:14:56.594 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.726 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.728 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.734 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-12-04 08:14:56.741 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 08:14:56.746 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-12-04 08:14:56.748 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-12-04 08:14:56.748 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.838 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.845 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:14:56.898 +00:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:14:56.899 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.901 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 08:14:56.910 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.911 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.912 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:14:56.912 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:14:56.913 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:14:56.913 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 08:14:56.918 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 08:14:56.927 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.928 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 8ms reading results.
2023-12-04 08:14:56.929 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.929 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:14:56.931 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.932 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.988 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.989 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.989 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:14:56.991 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 08:14:56.992 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 08:14:56.992 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-04 08:14:56.993 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.993 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.994 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:14:56.995 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:14:56.996 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:56.996 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:14:56.997 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:57.048 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:57.049 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:57.049 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:14:57.049 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 08:14:57.050 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 08:14:57.050 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 08:14:57.051 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:57.051 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:57.052 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:14:57.053 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:14:57.053 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:57.054 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:14:57.054 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:57.055 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:57.055 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:14:57.055 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:14:57.056 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 08:14:57.057 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 08:14:57.059 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 08:14:57.059 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:57.060 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 08:14:57.060 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:57.060 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:14:57.069 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-04 08:14:57.071 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 08:14:57.073 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:14:57.075 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 08:14:57.113 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 08:14:57.166 +00:00 [DBG] Hosting starting
2023-12-04 08:14:57.185 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-04 08:14:57.185 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-04 08:14:57.196 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-04 08:14:57.197 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-04 08:14:57.200 +00:00 [INF] Creating key {a0d8dc69-86ba-440f-9c68-3bb4df41a332} with creation date 2023-12-04 08:14:57Z, activation date 2023-12-04 08:14:57Z, and expiration date 2024-03-03 08:14:57Z.
2023-12-04 08:14:57.207 +00:00 [DBG] Descriptor deserializer type for key {a0d8dc69-86ba-440f-9c68-3bb4df41a332} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-04 08:14:57.211 +00:00 [DBG] No key escrow sink found. Not writing key {a0d8dc69-86ba-440f-9c68-3bb4df41a332} to escrow.
2023-12-04 08:14:57.212 +00:00 [WRN] No XML encryptor configured. Key {a0d8dc69-86ba-440f-9c68-3bb4df41a332} may be persisted to storage in unencrypted form.
2023-12-04 08:14:57.213 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-04 08:14:57.214 +00:00 [DBG] Found key {a0d8dc69-86ba-440f-9c68-3bb4df41a332}.
2023-12-04 08:14:57.220 +00:00 [DBG] Considering key {a0d8dc69-86ba-440f-9c68-3bb4df41a332} with expiration date 2024-03-03 08:14:57Z as default key.
2023-12-04 08:14:57.226 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 08:14:57.229 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-04 08:14:57.229 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-04 08:14:57.234 +00:00 [DBG] Using key {a0d8dc69-86ba-440f-9c68-3bb4df41a332} as the default key.
2023-12-04 08:14:57.235 +00:00 [DBG] Key ring with default key {a0d8dc69-86ba-440f-9c68-3bb4df41a332} was loaded during application startup.
2023-12-04 08:14:57.360 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-04 08:14:57.479 +00:00 [INF] Now listening on: http://[::]:80
2023-12-04 08:14:57.480 +00:00 [INF] Now listening on: https://[::]:443
2023-12-04 08:14:57.480 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-04 08:14:57.481 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 08:14:57.481 +00:00 [INF] Hosting environment: Development
2023-12-04 08:14:57.482 +00:00 [INF] Content root path: /app
2023-12-04 08:14:57.482 +00:00 [DBG] Hosting started
2023-12-04 08:14:57.667 +00:00 [DBG] Connection id "0HMVKK4DA049O" accepted.
2023-12-04 08:14:57.668 +00:00 [DBG] Connection id "0HMVKK4DA049O" started.
2023-12-04 08:14:57.697 +00:00 [DBG] Connection 0HMVKK4DA049O established using the following protocol: "Tls13"
2023-12-04 08:14:57.752 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger/index.html - null null
2023-12-04 08:14:57.754 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 08:14:57.776 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-04 08:14:57.777 +00:00 [DBG] Request did not match any endpoints
2023-12-04 08:14:57.863 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger/index.html - 200 null text/html;charset=utf-8 111.5827ms
2023-12-04 08:14:58.243 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger/v1/swagger.json - null null
2023-12-04 08:14:58.245 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-04 08:14:58.246 +00:00 [DBG] Request did not match any endpoints
2023-12-04 08:14:58.334 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.26ms
2023-12-04 08:15:11.310 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54949/api/Auth/login - application/json 59
2023-12-04 08:15:11.339 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-04 08:15:11.340 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-04 08:15:11.352 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 08:15:11.354 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:15:11.393 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 08:15:11.397 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 08:15:11.416 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 08:15:11.418 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:15:11.419 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:15:11.420 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:15:11.421 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:15:11.422 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:15:11.424 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 08:15:11.425 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 08:15:11.430 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 08:15:11.433 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-04 08:15:11.436 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 08:15:11.441 +00:00 [DBG] Connection id "0HMVKK4DA049O", Request id "0HMVKK4DA049O:00000005": started reading request body.
2023-12-04 08:15:11.442 +00:00 [DBG] Connection id "0HMVKK4DA049O", Request id "0HMVKK4DA049O:00000005": done reading request body.
2023-12-04 08:15:11.445 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-04 08:15:11.448 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 08:15:11.449 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 08:15:11.449 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 08:15:11.456 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 08:15:11.458 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:15:11.459 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:15:11.460 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:15:11.461 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:15:11.485 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 08:15:11.524 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-04 08:15:11.666 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 08:15:11.692 +00:00 [DBG] Creating DbConnection.
2023-12-04 08:15:11.693 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 08:15:11.695 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:15:11.699 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:15:11.700 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:15:11.701 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:15:11.705 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2023-12-04 08:15:11.708 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 08:15:11.729 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 08:15:11.775 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:15:11.808 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:15:11.808 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 78ms reading results.
2023-12-04 08:15:11.811 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:15:11.812 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 08:15:11.905 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-04 08:15:11.945 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 08:15:11.950 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:15:11.951 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:15:11.951 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:15:11.952 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:15:11.952 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:15:11.953 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 08:15:11.960 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 08:15:11.962 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:15:11.962 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-04 08:15:11.963 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:15:11.966 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-04 08:15:11.995 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 08:15:12.000 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-04 08:15:12.009 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 583.1961ms
2023-12-04 08:15:12.010 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 08:15:12.013 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 656.0300 ms
2023-12-04 08:15:12.017 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 08:15:12.020 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:15:12.022 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 08:15:12.023 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54949/api/Auth/login - 200 null application/json; charset=utf-8 712.1585ms
2023-12-04 08:15:51.704 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54949/PurchaseHistory - application/json 223
2023-12-04 08:15:51.705 +00:00 [DBG] 1 candidate(s) found for the request path '/PurchaseHistory'
2023-12-04 08:15:51.706 +00:00 [DBG] Endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)' with route pattern 'PurchaseHistory' is valid for the request path '/PurchaseHistory'
2023-12-04 08:15:51.706 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:15:51.707 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:15:51.738 +00:00 [DBG] Successfully validated the token.
2023-12-04 08:15:51.740 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 08:15:51.742 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:15:51.747 +00:00 [INF] Route matched with {action = "Create", controller = "PurchaseHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest, MediatR.ISender) on controller Web.API.Endpoints.PurchaseHistoryController (WebApi).
2023-12-04 08:15:51.751 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:15:51.774 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:15:51.775 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:15:51.775 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:15:51.776 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:15:51.776 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:15:51.777 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:15:51.777 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' ...
2023-12-04 08:15:51.778 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' using the name '' in request data ...
2023-12-04 08:15:51.778 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 08:15:51.788 +00:00 [DBG] Connection id "0HMVKK4DA049O", Request id "0HMVKK4DA049O:00000007": started reading request body.
2023-12-04 08:15:51.788 +00:00 [DBG] Connection id "0HMVKK4DA049O", Request id "0HMVKK4DA049O:00000007": done reading request body.
2023-12-04 08:15:51.793 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'
2023-12-04 08:15:51.794 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:15:51.794 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:15:51.794 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' ...
2023-12-04 08:15:51.804 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:15:51.805 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:15:51.805 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:15:51.806 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:15:51.806 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:15:51.808 +00:00 [DBG] The request has model state errors, returning an error response.
2023-12-04 08:15:51.810 +00:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-12-04 08:15:51.812 +00:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-12-04 08:15:51.814 +00:00 [DBG] No information found on request to perform content negotiation.
2023-12-04 08:15:51.817 +00:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-12-04 08:15:51.819 +00:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-12-04 08:15:51.820 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-12-04 08:15:51.833 +00:00 [INF] Executed action Web.API.Endpoints.PurchaseHistoryController.Create (WebApi) in 57.1361ms
2023-12-04 08:15:51.834 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:15:51.834 +00:00 [INF] HTTP POST /PurchaseHistory responded 400 in 126.4771 ms
2023-12-04 08:15:51.835 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54949/PurchaseHistory - 400 null application/problem+json; charset=utf-8 131.4147ms
2023-12-04 08:16:30.429 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54949/PurchaseHistory - application/json 294
2023-12-04 08:16:30.430 +00:00 [DBG] 1 candidate(s) found for the request path '/PurchaseHistory'
2023-12-04 08:16:30.430 +00:00 [DBG] Endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)' with route pattern 'PurchaseHistory' is valid for the request path '/PurchaseHistory'
2023-12-04 08:16:30.431 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:16:30.431 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:16:30.437 +00:00 [DBG] Successfully validated the token.
2023-12-04 08:16:30.438 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 08:16:30.439 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:16:30.441 +00:00 [INF] Route matched with {action = "Create", controller = "PurchaseHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest, MediatR.ISender) on controller Web.API.Endpoints.PurchaseHistoryController (WebApi).
2023-12-04 08:16:30.441 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:16:30.442 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:16:30.444 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:16:30.445 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:16:30.446 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:16:30.447 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:16:30.447 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:16:30.448 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' ...
2023-12-04 08:16:30.449 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' using the name '' in request data ...
2023-12-04 08:16:30.450 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 08:16:30.452 +00:00 [DBG] Connection id "0HMVKK4DA049O", Request id "0HMVKK4DA049O:00000009": started reading request body.
2023-12-04 08:16:30.497 +00:00 [DBG] Connection id "0HMVKK4DA049O", Request id "0HMVKK4DA049O:00000009": done reading request body.
2023-12-04 08:16:30.501 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'
2023-12-04 08:16:30.502 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:16:30.503 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:16:30.504 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' ...
2023-12-04 08:16:30.506 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:16:30.507 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:16:30.508 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:16:30.508 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:16:30.509 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:16:30.552 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 08:16:30.573 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'PurchaseHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:16:30.591 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:16:30.610 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'PurchaseHistoryItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:16:30.619 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:16:30.623 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-12-04 08:16:30.626 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 08:16:30.640 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 08:16:30.697 +00:00 [DBG] Executing 2 update commands as a batch.
2023-12-04 08:16:30.700 +00:00 [DBG] Creating DbConnection.
2023-12-04 08:16:30.701 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 08:16:30.702 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:16:30.703 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:16:30.705 +00:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-12-04 08:16:30.709 +00:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-12-04 08:16:30.712 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:16:30.713 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:16:30.714 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 08:16:30.714 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Decimal), @p3='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?' (DbType = Decimal), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PurchaseHistories" ("Id", "UserId", "Amount_Amount", "Amount_Currency")
VALUES (@p0, @p1, @p2, @p3);
INSERT INTO "PurchaseHistoryItems" ("Id", "ProductId", "PurchaseHistoryId", "Quantity", "UserId", "Price_Amount", "Price_Currency")
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10);
2023-12-04 08:16:30.745 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Decimal), @p3='?', @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = Decimal), @p8='?' (DbType = Guid), @p9='?' (DbType = Decimal), @p10='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PurchaseHistories" ("Id", "UserId", "Amount_Amount", "Amount_Currency")
VALUES (@p0, @p1, @p2, @p3);
INSERT INTO "PurchaseHistoryItems" ("Id", "ProductId", "PurchaseHistoryId", "Quantity", "UserId", "Price_Amount", "Price_Currency")
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10);
2023-12-04 08:16:30.770 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:16:30.771 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 24ms reading results.
2023-12-04 08:16:30.776 +00:00 [DBG] Committing transaction.
2023-12-04 08:16:30.791 +00:00 [DBG] Committed transaction.
2023-12-04 08:16:30.793 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:16:30.794 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:16:30.795 +00:00 [DBG] Disposing transaction.
2023-12-04 08:16:30.803 +00:00 [DBG] An entity of type 'PurchaseHistory' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:16:30.805 +00:00 [DBG] An entity of type 'Money' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:16:30.807 +00:00 [DBG] An entity of type 'PurchaseHistoryItem' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:16:30.808 +00:00 [DBG] An entity of type 'Money' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:16:30.810 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 2 entities written to the database.
2023-12-04 08:16:30.812 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 08:16:30.813 +00:00 [INF] Executed action Web.API.Endpoints.PurchaseHistoryController.Create (WebApi) in 365.913ms
2023-12-04 08:16:30.813 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:16:30.814 +00:00 [INF] HTTP POST /PurchaseHistory responded 200 in 379.8329 ms
2023-12-04 08:16:30.814 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 08:16:30.815 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:16:30.815 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:16:30.816 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54949/PurchaseHistory - 200 0 null 386.8598ms
2023-12-04 08:16:36.404 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/PurchaseHistory - null null
2023-12-04 08:16:36.405 +00:00 [DBG] 1 candidate(s) found for the request path '/PurchaseHistory'
2023-12-04 08:16:36.405 +00:00 [DBG] Endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)' with route pattern 'PurchaseHistory' is valid for the request path '/PurchaseHistory'
2023-12-04 08:16:36.406 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:16:36.408 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:16:36.408 +00:00 [DBG] Successfully validated the token.
2023-12-04 08:16:36.409 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 08:16:36.409 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:16:36.413 +00:00 [INF] Route matched with {action = "Get", controller = "PurchaseHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(MediatR.ISender) on controller Web.API.Endpoints.PurchaseHistoryController (WebApi).
2023-12-04 08:16:36.414 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:16:36.414 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:16:36.414 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:16:36.415 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:16:36.415 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:16:36.415 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:16:36.416 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:16:36.416 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:16:36.417 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:16:36.417 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:16:36.418 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:16:36.424 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 08:16:36.427 +00:00 [DBG] Compiling query expression: 
'DbSet<PurchaseHistory>()
    .Where(p => p.UserId == __request_UserId_0)
    .Select(p => new PurchaseHistoryResponse(
        p.Id.Value, 
        p.UserId.Value, 
        p.Amount.Currency, 
        p.Amount.Amount, 
        p.PurchaseHistoryItems
            .ToList()
    ))'
2023-12-04 08:16:36.438 +00:00 [DBG] Including navigation: 'PurchaseHistoryItem.Price'.
2023-12-04 08:16:36.482 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PurchaseHistoryResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: PurchaseHistoryItem.Id (PurchaseHistoryItemId) Required PK AfterSave:Throw, 4], [Property: PurchaseHistoryItem.ProductId (ProductId) Required, 5], [Property: PurchaseHistoryItem.PurchaseHistoryId (PurchaseHistoryId) Required FK Index, 6], [Property: PurchaseHistoryItem.Quantity (decimal) Required, 7], [Property: PurchaseHistoryItem.UserId (UserId) Required FK Index, 8] }
            5 -> Dictionary<IProperty, int> { [Property: PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId (no field, PurchaseHistoryItemId) Shadow Required PK FK AfterSave:Throw, 4], [Property: PurchaseHistoryItem.Price#Money.Amount (decimal) Required, 9], [Property: PurchaseHistoryItem.Price#Money.Currency (string) Required MaxLength(3), 10] }
            6 -> 4
        SELECT p.Id, p.UserId, p.Amount_Currency, p.Amount_Amount, p0.Id, p0.ProductId, p0.PurchaseHistoryId, p0.Quantity, p0.UserId, p0.Price_Amount, p0.Price_Currency
        FROM PurchaseHistories AS p
        LEFT JOIN PurchaseHistoryItems AS p0 ON (p.Id == p0.PurchaseHistoryId) && (p.UserId == p0.UserId)
        WHERE p.UserId == @__request_UserId_0
        ORDER BY p.Id ASC, p.UserId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PurchaseHistoryResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 08:16:36.486 +00:00 [DBG] Creating DbConnection.
2023-12-04 08:16:36.487 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-04 08:16:36.488 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:16:36.488 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:16:36.488 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:16:36.489 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:16:36.489 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:16:36.490 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."UserId", p."Amount_Currency", p."Amount_Amount", p0."Id", p0."ProductId", p0."PurchaseHistoryId", p0."Quantity", p0."UserId", p0."Price_Amount", p0."Price_Currency"
FROM "PurchaseHistories" AS p
LEFT JOIN "PurchaseHistoryItems" AS p0 ON p."Id" = p0."PurchaseHistoryId" AND p."UserId" = p0."UserId"
WHERE p."UserId" = @__request_UserId_0
ORDER BY p."Id", p."UserId"
2023-12-04 08:16:36.491 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."UserId", p."Amount_Currency", p."Amount_Amount", p0."Id", p0."ProductId", p0."PurchaseHistoryId", p0."Quantity", p0."UserId", p0."Price_Amount", p0."Price_Currency"
FROM "PurchaseHistories" AS p
LEFT JOIN "PurchaseHistoryItems" AS p0 ON p."Id" = p0."PurchaseHistoryId" AND p."UserId" = p0."UserId"
WHERE p."UserId" = @__request_UserId_0
ORDER BY p."Id", p."UserId"
2023-12-04 08:16:36.500 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'PurchaseHistoryItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:16:36.505 +00:00 [DBG] The navigation 'PurchaseHistoryItem.Price' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:16:36.506 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:16:36.508 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:16:36.508 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 13ms reading results.
2023-12-04 08:16:36.508 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:16:36.509 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:16:36.510 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 08:16:36.514 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-12-04 08:16:36.520 +00:00 [INF] Executed action Web.API.Endpoints.PurchaseHistoryController.Get (WebApi) in 104.413ms
2023-12-04 08:16:36.520 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:16:36.521 +00:00 [INF] HTTP GET /PurchaseHistory responded 200 in 112.6104 ms
2023-12-04 08:16:36.521 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 08:16:36.522 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:16:36.522 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:16:36.524 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/PurchaseHistory - 200 null application/json; charset=utf-8 139.3875ms
2023-12-04 08:19:57.268 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 08:19:57.747 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 08:19:57.749 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 08:19:57.824 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 08:19:57.825 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 08:19:57.825 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 08:19:57.826 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 08:19:57.936 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 08:19:57.946 +00:00 [DBG] Creating DbConnection.
2023-12-04 08:19:57.977 +00:00 [DBG] Created DbConnection. (29ms).
2023-12-04 08:19:57.983 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.133 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.135 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.142 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (4ms).
2023-12-04 08:19:58.151 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 08:19:58.156 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-12-04 08:19:58.158 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (8ms).
2023-12-04 08:19:58.158 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.249 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.255 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:19:58.305 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:19:58.306 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.308 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-04 08:19:58.317 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.318 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.319 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:19:58.319 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:19:58.319 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:19:58.320 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 08:19:58.325 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 08:19:58.332 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.334 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 7ms reading results.
2023-12-04 08:19:58.334 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.335 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:19:58.336 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.337 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.399 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.399 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.400 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:19:58.400 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 08:19:58.401 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 08:19:58.401 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-04 08:19:58.402 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.402 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.403 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:19:58.404 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:19:58.404 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.404 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:19:58.405 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.474 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.474 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.475 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:19:58.476 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 08:19:58.477 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 08:19:58.478 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2023-12-04 08:19:58.479 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.479 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.480 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:19:58.481 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 08:19:58.482 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.483 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:19:58.483 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.484 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.484 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:19:58.485 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:19:58.485 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:19:58.486 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 08:19:58.487 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 08:19:58.488 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.488 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 0ms reading results.
2023-12-04 08:19:58.489 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.489 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:19:58.499 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-04 08:19:58.500 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 08:19:58.502 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:19:58.503 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:19:58.546 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 08:19:58.599 +00:00 [DBG] Hosting starting
2023-12-04 08:19:58.617 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-04 08:19:58.618 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-04 08:19:58.627 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-04 08:19:58.628 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-04 08:19:58.631 +00:00 [INF] Creating key {1340aac1-28e0-4ce8-9aa8-1715cc3b40c4} with creation date 2023-12-04 08:19:58Z, activation date 2023-12-04 08:19:58Z, and expiration date 2024-03-03 08:19:58Z.
2023-12-04 08:19:58.637 +00:00 [DBG] Descriptor deserializer type for key {1340aac1-28e0-4ce8-9aa8-1715cc3b40c4} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-04 08:19:58.640 +00:00 [DBG] No key escrow sink found. Not writing key {1340aac1-28e0-4ce8-9aa8-1715cc3b40c4} to escrow.
2023-12-04 08:19:58.641 +00:00 [WRN] No XML encryptor configured. Key {1340aac1-28e0-4ce8-9aa8-1715cc3b40c4} may be persisted to storage in unencrypted form.
2023-12-04 08:19:58.642 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-04 08:19:58.643 +00:00 [DBG] Found key {1340aac1-28e0-4ce8-9aa8-1715cc3b40c4}.
2023-12-04 08:19:58.650 +00:00 [DBG] Considering key {1340aac1-28e0-4ce8-9aa8-1715cc3b40c4} with expiration date 2024-03-03 08:19:58Z as default key.
2023-12-04 08:19:58.655 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 08:19:58.656 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-04 08:19:58.657 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-04 08:19:58.660 +00:00 [DBG] Using key {1340aac1-28e0-4ce8-9aa8-1715cc3b40c4} as the default key.
2023-12-04 08:19:58.661 +00:00 [DBG] Key ring with default key {1340aac1-28e0-4ce8-9aa8-1715cc3b40c4} was loaded during application startup.
2023-12-04 08:19:58.784 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-04 08:19:58.902 +00:00 [INF] Now listening on: http://[::]:80
2023-12-04 08:19:58.902 +00:00 [INF] Now listening on: https://[::]:443
2023-12-04 08:19:58.902 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-04 08:19:58.903 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 08:19:58.903 +00:00 [INF] Hosting environment: Development
2023-12-04 08:19:58.904 +00:00 [INF] Content root path: /app
2023-12-04 08:19:58.904 +00:00 [DBG] Hosting started
2023-12-04 08:19:59.077 +00:00 [DBG] Connection id "0HMVKK774FA7J" accepted.
2023-12-04 08:19:59.080 +00:00 [DBG] Connection id "0HMVKK774FA7J" started.
2023-12-04 08:19:59.110 +00:00 [DBG] Connection 0HMVKK774FA7J established using the following protocol: "Tls13"
2023-12-04 08:19:59.158 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger/index.html - null null
2023-12-04 08:19:59.159 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 08:19:59.188 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-04 08:19:59.189 +00:00 [DBG] Request did not match any endpoints
2023-12-04 08:19:59.335 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger/index.html - 200 null text/html;charset=utf-8 178.0899ms
2023-12-04 08:19:59.690 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger/v1/swagger.json - null null
2023-12-04 08:19:59.692 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-04 08:19:59.693 +00:00 [DBG] Request did not match any endpoints
2023-12-04 08:19:59.782 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.5451ms
2023-12-04 08:20:16.697 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54949/api/Auth/login - application/json 59
2023-12-04 08:20:16.703 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-04 08:20:16.704 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-04 08:20:16.717 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 08:20:16.719 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:20:16.764 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 08:20:16.766 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 08:20:16.784 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 08:20:16.786 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:20:16.787 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:20:16.789 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:20:16.790 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:20:16.791 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:20:16.793 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 08:20:16.794 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 08:20:16.798 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 08:20:16.800 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-04 08:20:16.803 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 08:20:16.810 +00:00 [DBG] Connection id "0HMVKK774FA7J", Request id "0HMVKK774FA7J:00000005": started reading request body.
2023-12-04 08:20:16.811 +00:00 [DBG] Connection id "0HMVKK774FA7J", Request id "0HMVKK774FA7J:00000005": done reading request body.
2023-12-04 08:20:16.815 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-04 08:20:16.815 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 08:20:16.816 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 08:20:16.817 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 08:20:16.827 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 08:20:16.828 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:20:16.829 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:20:16.830 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:20:16.831 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:20:16.856 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 08:20:16.896 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-04 08:20:17.024 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 08:20:17.054 +00:00 [DBG] Creating DbConnection.
2023-12-04 08:20:17.055 +00:00 [DBG] Created DbConnection. (1ms).
2023-12-04 08:20:17.059 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:20:17.061 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:20:17.061 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:20:17.061 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:20:17.065 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-04 08:20:17.067 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 08:20:17.087 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 08:20:17.130 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:20:17.161 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:20:17.162 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 74ms reading results.
2023-12-04 08:20:17.165 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:20:17.166 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 08:20:17.248 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-04 08:20:17.285 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 08:20:17.288 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:20:17.289 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:20:17.291 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:20:17.293 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-12-04 08:20:17.294 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-04 08:20:17.295 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 08:20:17.304 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 08:20:17.308 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:20:17.309 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 3ms reading results.
2023-12-04 08:20:17.310 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:20:17.310 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:20:17.345 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 08:20:17.350 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-04 08:20:17.363 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 567.6197ms
2023-12-04 08:20:17.364 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 08:20:17.367 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 643.2830 ms
2023-12-04 08:20:17.368 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 08:20:17.373 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:20:17.375 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 08:20:17.376 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54949/api/Auth/login - 200 null application/json; charset=utf-8 679.3901ms
2023-12-04 08:21:07.339 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54949/PurchaseHistory - application/json 294
2023-12-04 08:21:07.341 +00:00 [DBG] 1 candidate(s) found for the request path '/PurchaseHistory'
2023-12-04 08:21:07.341 +00:00 [DBG] Endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)' with route pattern 'PurchaseHistory' is valid for the request path '/PurchaseHistory'
2023-12-04 08:21:07.342 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:21:07.344 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:21:07.374 +00:00 [DBG] Successfully validated the token.
2023-12-04 08:21:07.376 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 08:21:07.378 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:21:07.383 +00:00 [INF] Route matched with {action = "Create", controller = "PurchaseHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Create(Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest, MediatR.ISender) on controller Web.API.Endpoints.PurchaseHistoryController (WebApi).
2023-12-04 08:21:07.384 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:21:07.384 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:21:07.384 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:21:07.385 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:21:07.385 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:21:07.386 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:21:07.386 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:21:07.387 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' ...
2023-12-04 08:21:07.431 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' using the name '' in request data ...
2023-12-04 08:21:07.432 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 08:21:07.441 +00:00 [DBG] Connection id "0HMVKK774FA7J", Request id "0HMVKK774FA7J:00000007": started reading request body.
2023-12-04 08:21:07.442 +00:00 [DBG] Connection id "0HMVKK774FA7J", Request id "0HMVKK774FA7J:00000007": done reading request body.
2023-12-04 08:21:07.447 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'
2023-12-04 08:21:07.448 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:21:07.448 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:21:07.449 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest' ...
2023-12-04 08:21:07.455 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.PurchaseHistories.Create.CreatePurchaseHistoryRequest'.
2023-12-04 08:21:07.456 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:21:07.456 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:21:07.456 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:21:07.457 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:21:07.499 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 08:21:07.524 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'PurchaseHistory' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:21:07.547 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:21:07.590 +00:00 [INF] Executed action Web.API.Endpoints.PurchaseHistoryController.Create (WebApi) in 204.1436ms
2023-12-04 08:21:07.590 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.PurchaseHistoryController.Create (WebApi)'
2023-12-04 08:21:07.591 +00:00 [ERR] HTTP POST /PurchaseHistory responded 500 in 245.7338 ms
System.Exception: Cannot Save
   at Application.PurchaseHistories.Create.CreatePurchaseHistoryCommandHandler.Handle(CreatePurchaseHistoryRequest request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\PurchaseHistories\Create\CreatePurchaseHistoryCommandHandler.cs:line 41
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.PurchaseHistoryController.Create(CreatePurchaseHistoryRequest command, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Purchases.cs:line 24
   at lambda_method146(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2023-12-04 08:21:07.610 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Cannot Save
   at Application.PurchaseHistories.Create.CreatePurchaseHistoryCommandHandler.Handle(CreatePurchaseHistoryRequest request, CancellationToken cancellationToken) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\Application\PurchaseHistories\Create\CreatePurchaseHistoryCommandHandler.cs:line 41
   at MediatR.Wrappers.RequestHandlerWrapperImpl`1.<>c__DisplayClass1_0.<<Handle>g__Handler|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Web.API.Endpoints.PurchaseHistoryController.Create(CreatePurchaseHistoryRequest command, ISender sender) in C:\Users\vuong\Desktop\training\csharp-training\dotnet\practice-1\Store Management\WebApi\Controllers\Purchases.cs:line 24
   at lambda_method146(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2023-12-04 08:21:07.622 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 08:21:07.623 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54949/PurchaseHistory - 500 null text/plain; charset=utf-8 284.1138ms
2023-12-04 08:21:16.214 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/PurchaseHistory - null null
2023-12-04 08:21:16.216 +00:00 [DBG] 1 candidate(s) found for the request path '/PurchaseHistory'
2023-12-04 08:21:16.216 +00:00 [DBG] Endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)' with route pattern 'PurchaseHistory' is valid for the request path '/PurchaseHistory'
2023-12-04 08:21:16.217 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:21:16.217 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 08:21:16.221 +00:00 [DBG] Successfully validated the token.
2023-12-04 08:21:16.230 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 08:21:16.231 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:21:16.238 +00:00 [INF] Route matched with {action = "Get", controller = "PurchaseHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Get(MediatR.ISender) on controller Web.API.Endpoints.PurchaseHistoryController (WebApi).
2023-12-04 08:21:16.239 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 08:21:16.239 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 08:21:16.240 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:21:16.240 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 08:21:16.241 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 08:21:16.241 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:21:16.242 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.PurchaseHistoryController (WebApi)
2023-12-04 08:21:16.243 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:21:16.243 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:21:16.244 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 08:21:16.244 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 08:21:16.251 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 08:21:16.253 +00:00 [DBG] Compiling query expression: 
'DbSet<PurchaseHistory>()
    .Where(p => p.UserId == __request_UserId_0)
    .Select(p => new PurchaseHistoryResponse(
        p.Id.Value, 
        p.UserId.Value, 
        p.Amount.Currency, 
        p.Amount.Amount, 
        p.PurchaseHistoryItems
            .ToList()
    ))'
2023-12-04 08:21:16.267 +00:00 [DBG] Including navigation: 'PurchaseHistoryItem.Price'.
2023-12-04 08:21:16.315 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PurchaseHistoryResponse>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
            2 -> 2
            3 -> 3
            4 -> Dictionary<IProperty, int> { [Property: PurchaseHistoryItem.Id (PurchaseHistoryItemId) Required PK AfterSave:Throw, 4], [Property: PurchaseHistoryItem.ProductId (ProductId) Required, 5], [Property: PurchaseHistoryItem.PurchaseHistoryId (PurchaseHistoryId) Required FK Index, 6], [Property: PurchaseHistoryItem.Quantity (decimal) Required, 7], [Property: PurchaseHistoryItem.UserId (UserId) Required FK Index, 8] }
            5 -> Dictionary<IProperty, int> { [Property: PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId (no field, PurchaseHistoryItemId) Shadow Required PK FK AfterSave:Throw, 4], [Property: PurchaseHistoryItem.Price#Money.Amount (decimal) Required, 9], [Property: PurchaseHistoryItem.Price#Money.Currency (string) Required MaxLength(3), 10] }
            6 -> 4
        SELECT p.Id, p.UserId, p.Amount_Currency, p.Amount_Amount, p0.Id, p0.ProductId, p0.PurchaseHistoryId, p0.Quantity, p0.UserId, p0.Price_Amount, p0.Price_Currency
        FROM PurchaseHistories AS p
        LEFT JOIN PurchaseHistoryItems AS p0 ON (p.Id == p0.PurchaseHistoryId) && (p.UserId == p0.UserId)
        WHERE p.UserId == @__request_UserId_0
        ORDER BY p.Id ASC, p.UserId ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PurchaseHistoryResponse>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 08:21:16.319 +00:00 [DBG] Creating DbConnection.
2023-12-04 08:21:16.319 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 08:21:16.320 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:21:16.320 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:21:16.321 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 08:21:16.321 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 08:21:16.323 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2023-12-04 08:21:16.324 +00:00 [DBG] Executing DbCommand [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."UserId", p."Amount_Currency", p."Amount_Amount", p0."Id", p0."ProductId", p0."PurchaseHistoryId", p0."Quantity", p0."UserId", p0."Price_Amount", p0."Price_Currency"
FROM "PurchaseHistories" AS p
LEFT JOIN "PurchaseHistoryItems" AS p0 ON p."Id" = p0."PurchaseHistoryId" AND p."UserId" = p0."UserId"
WHERE p."UserId" = @__request_UserId_0
ORDER BY p."Id", p."UserId"
2023-12-04 08:21:16.358 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__request_UserId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."UserId", p."Amount_Currency", p."Amount_Amount", p0."Id", p0."ProductId", p0."PurchaseHistoryId", p0."Quantity", p0."UserId", p0."Price_Amount", p0."Price_Currency"
FROM "PurchaseHistories" AS p
LEFT JOIN "PurchaseHistoryItems" AS p0 ON p."Id" = p0."PurchaseHistoryId" AND p."UserId" = p0."UserId"
WHERE p."UserId" = @__request_UserId_0
ORDER BY p."Id", p."UserId"
2023-12-04 08:21:16.369 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'PurchaseHistoryItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:21:16.385 +00:00 [DBG] The navigation 'PurchaseHistoryItem.Price' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:21:16.386 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 08:21:16.390 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:21:16.391 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 31ms reading results.
2023-12-04 08:21:16.391 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:21:16.392 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:21:16.393 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 08:21:16.398 +00:00 [INF] Writing value of type 'List`1' as Json.
2023-12-04 08:21:16.404 +00:00 [INF] Executed action Web.API.Endpoints.PurchaseHistoryController.Get (WebApi) in 162.2705ms
2023-12-04 08:21:16.404 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.PurchaseHistoryController.Get (WebApi)'
2023-12-04 08:21:16.405 +00:00 [INF] HTTP GET /PurchaseHistory responded 200 in 186.6415 ms
2023-12-04 08:21:16.405 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 08:21:16.405 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 08:21:16.408 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 08:21:16.408 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/PurchaseHistory - 200 null application/json; charset=utf-8 194.0322ms
2023-12-04 10:25:33.404 +00:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-12-04 10:25:33.905 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2023-12-04 10:25:33.906 +00:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2023-12-04 10:25:34.014 +00:00 [DBG] The property 'Product.Price#Money.ProductId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 10:25:34.015 +00:00 [DBG] The property 'Money.PurchaseHistoryId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 10:25:34.015 +00:00 [DBG] The property 'Money.PurchaseHistoryUserId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 10:25:34.016 +00:00 [DBG] The property 'PurchaseHistoryItem.Price#Money.PurchaseHistoryItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2023-12-04 10:25:34.127 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 10:25:34.137 +00:00 [DBG] Creating DbConnection.
2023-12-04 10:25:34.172 +00:00 [DBG] Created DbConnection. (34ms).
2023-12-04 10:25:34.178 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.434 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.436 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.444 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (5ms).
2023-12-04 10:25:34.451 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 10:25:34.459 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (7ms).
2023-12-04 10:25:34.460 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (10ms).
2023-12-04 10:25:34.460 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.550 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.556 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 10:25:34.604 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 10:25:34.606 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.608 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-04 10:25:34.616 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.616 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.617 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 10:25:34.618 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 10:25:34.619 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 10:25:34.620 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 10:25:34.636 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 10:25:34.644 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.645 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 7ms reading results.
2023-12-04 10:25:34.646 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.646 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 10:25:34.648 +00:00 [DBG] Migrating using database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.649 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.716 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.716 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.717 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 10:25:34.718 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 10:25:34.718 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 10:25:34.719 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-04 10:25:34.720 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.720 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.721 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 10:25:34.722 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 10:25:34.723 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.723 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 10:25:34.724 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.790 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.791 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.792 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 10:25:34.793 +00:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-12-04 10:25:34.793 +00:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2023-12-04 10:25:34.794 +00:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2023-12-04 10:25:34.794 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.795 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.795 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 10:25:34.796 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2023-12-04 10:25:34.797 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.797 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 10:25:34.798 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.798 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.799 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 10:25:34.799 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 10:25:34.800 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 10:25:34.800 +00:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 10:25:34.802 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2023-12-04 10:25:34.803 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.804 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-04 10:25:34.804 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.805 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 10:25:34.813 +00:00 [INF] No migrations were applied. The database is already up to date.
2023-12-04 10:25:34.815 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 10:25:34.817 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:34.819 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 10:25:34.863 +00:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.Versioning.ApiVersionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-12-04 10:25:34.916 +00:00 [DBG] Hosting starting
2023-12-04 10:25:34.934 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2023-12-04 10:25:34.935 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2023-12-04 10:25:34.943 +00:00 [DBG] Repository contains no viable default key. Caller should generate a key with immediate activation.
2023-12-04 10:25:34.943 +00:00 [DBG] Policy resolution states that a new key should be added to the key ring.
2023-12-04 10:25:34.946 +00:00 [INF] Creating key {5ea4fb6f-6f91-47dc-8a9f-231e38b56a61} with creation date 2023-12-04 10:25:34Z, activation date 2023-12-04 10:25:34Z, and expiration date 2024-03-03 10:25:34Z.
2023-12-04 10:25:34.952 +00:00 [DBG] Descriptor deserializer type for key {5ea4fb6f-6f91-47dc-8a9f-231e38b56a61} is 'Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60'.
2023-12-04 10:25:34.955 +00:00 [DBG] No key escrow sink found. Not writing key {5ea4fb6f-6f91-47dc-8a9f-231e38b56a61} to escrow.
2023-12-04 10:25:34.956 +00:00 [WRN] No XML encryptor configured. Key {5ea4fb6f-6f91-47dc-8a9f-231e38b56a61} may be persisted to storage in unencrypted form.
2023-12-04 10:25:34.957 +00:00 [DBG] Key cache expiration token triggered by 'CreateNewKey' operation.
2023-12-04 10:25:34.959 +00:00 [DBG] Found key {5ea4fb6f-6f91-47dc-8a9f-231e38b56a61}.
2023-12-04 10:25:34.966 +00:00 [DBG] Considering key {5ea4fb6f-6f91-47dc-8a9f-231e38b56a61} with expiration date 2024-03-03 10:25:34Z as default key.
2023-12-04 10:25:34.970 +00:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2023-12-04 10:25:34.972 +00:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2023-12-04 10:25:34.972 +00:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2023-12-04 10:25:34.976 +00:00 [DBG] Using key {5ea4fb6f-6f91-47dc-8a9f-231e38b56a61} as the default key.
2023-12-04 10:25:34.977 +00:00 [DBG] Key ring with default key {5ea4fb6f-6f91-47dc-8a9f-231e38b56a61} was loaded during application startup.
2023-12-04 10:25:35.102 +00:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B3AD14F7F2F8E371A4BA2B72EB69376AA4BAEF90)
2023-12-04 10:25:35.218 +00:00 [INF] Now listening on: http://[::]:80
2023-12-04 10:25:35.219 +00:00 [INF] Now listening on: https://[::]:443
2023-12-04 10:25:35.220 +00:00 [DBG] Loaded hosting startup assembly WebApi
2023-12-04 10:25:35.221 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2023-12-04 10:25:35.221 +00:00 [INF] Hosting environment: Development
2023-12-04 10:25:35.222 +00:00 [INF] Content root path: /app
2023-12-04 10:25:35.222 +00:00 [DBG] Hosting started
2023-12-04 10:25:35.415 +00:00 [DBG] Connection id "0HMVKMDD4J09S" accepted.
2023-12-04 10:25:35.416 +00:00 [DBG] Connection id "0HMVKMDD4J09S" started.
2023-12-04 10:25:35.449 +00:00 [DBG] Connection 0HMVKMDD4J09S established using the following protocol: "Tls13"
2023-12-04 10:25:35.514 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger/index.html - null null
2023-12-04 10:25:35.516 +00:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-12-04 10:25:35.547 +00:00 [DBG] No candidates found for the request path '/swagger/index.html'
2023-12-04 10:25:35.548 +00:00 [DBG] Request did not match any endpoints
2023-12-04 10:25:35.655 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger/index.html - 200 null text/html;charset=utf-8 140.3448ms
2023-12-04 10:25:36.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:54949/swagger/v1/swagger.json - null null
2023-12-04 10:25:36.060 +00:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2023-12-04 10:25:36.060 +00:00 [DBG] Request did not match any endpoints
2023-12-04 10:25:36.161 +00:00 [INF] Request finished HTTP/2 GET https://localhost:54949/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 102.6928ms
2023-12-04 10:25:50.131 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54949/api/Auth/login - application/json 59
2023-12-04 10:25:50.136 +00:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2023-12-04 10:25:50.137 +00:00 [DBG] Endpoint 'WebApi.Controllers.AuthController.Login (WebApi)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2023-12-04 10:25:50.149 +00:00 [DBG] Request matched endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 10:25:50.151 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 10:25:50.189 +00:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2023-12-04 10:25:50.193 +00:00 [INF] Executing endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 10:25:50.212 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] Login(Application.Authentication.Login.LoginCommand, MediatR.ISender) on controller WebApi.Controllers.AuthController (WebApi).
2023-12-04 10:25:50.213 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 10:25:50.214 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 10:25:50.215 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 10:25:50.216 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 10:25:50.217 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 10:25:50.218 +00:00 [DBG] Executing controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 10:25:50.219 +00:00 [DBG] Executed controller factory for controller WebApi.Controllers.AuthController (WebApi)
2023-12-04 10:25:50.223 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 10:25:50.226 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand' using the name '' in request data ...
2023-12-04 10:25:50.228 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 10:25:50.234 +00:00 [DBG] Connection id "0HMVKMDD4J09S", Request id "0HMVKMDD4J09S:00000005": started reading request body.
2023-12-04 10:25:50.234 +00:00 [DBG] Connection id "0HMVKMDD4J09S", Request id "0HMVKMDD4J09S:00000005": done reading request body.
2023-12-04 10:25:50.239 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Authentication.Login.LoginCommand'
2023-12-04 10:25:50.240 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 10:25:50.241 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 10:25:50.242 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand' ...
2023-12-04 10:25:50.250 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Authentication.Login.LoginCommand'.
2023-12-04 10:25:50.251 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 10:25:50.253 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 10:25:50.253 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 10:25:50.255 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 10:25:50.280 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 10:25:50.318 +00:00 [DBG] Compiling query expression: 
'DbSet<BaseAuthentication>()
    .SingleOrDefault(u => u.NormalizedEmail == __normalizedEmail_0)'
2023-12-04 10:25:50.465 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BaseAuthentication>(
    asyncEnumerable: new SingleQueryingEnumerable<BaseAuthentication>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BaseAuthentication.Id (string) Required PK AfterSave:Throw, 0], [Property: BaseAuthentication.AccessFailedCount (int) Required, 1], [Property: BaseAuthentication.ConcurrencyStamp (string) Concurrency, 2], [Property: BaseAuthentication.Email (string) MaxLength(256), 3], [Property: BaseAuthentication.EmailConfirmed (bool) Required, 4], [Property: BaseAuthentication.LockoutEnabled (bool) Required, 5], [Property: BaseAuthentication.LockoutEnd (DateTimeOffset?), 6], [Property: BaseAuthentication.NormalizedEmail (string) Index MaxLength(256), 7], [Property: BaseAuthentication.NormalizedUserName (string) Index MaxLength(256), 8], [Property: BaseAuthentication.PasswordHash (string), 9], [Property: BaseAuthentication.PhoneNumber (string), 10], [Property: BaseAuthentication.PhoneNumberConfirmed (bool) Required, 11], [Property: BaseAuthentication.SecurityStamp (string), 12], [Property: BaseAuthentication.TwoFactorEnabled (bool) Required, 13], [Property: BaseAuthentication.UserName (string) MaxLength(256), 14] }
            SELECT TOP(2) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedEmail == @__normalizedEmail_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BaseAuthentication>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 10:25:50.494 +00:00 [DBG] Creating DbConnection.
2023-12-04 10:25:50.495 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 10:25:50.498 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:50.500 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:50.501 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 10:25:50.501 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 10:25:50.504 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-04 10:25:50.508 +00:00 [DBG] Executing DbCommand [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 10:25:50.576 +00:00 [INF] Executed DbCommand (70ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."Email", a."EmailConfirmed", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."SecurityStamp", a."TwoFactorEnabled", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2023-12-04 10:25:50.605 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'BaseAuthentication' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 10:25:50.639 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:50.643 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 66ms reading results.
2023-12-04 10:25:50.651 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:50.652 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-04 10:25:50.737 +00:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2023-12-04 10:25:50.772 +00:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    Persistence.ApplicationDbContext, 
    False, 
    False, 
    True
)'
2023-12-04 10:25:50.776 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:50.777 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:50.778 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 10:25:50.778 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 10:25:50.779 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 10:25:50.779 +00:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 10:25:50.821 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a0."Name"
FROM "AspNetUserRoles" AS a
INNER JOIN "AspNetRoles" AS a0 ON a."RoleId" = a0."Id"
WHERE a."UserId" = @__userId_0
2023-12-04 10:25:50.823 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:50.823 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-04 10:25:50.825 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:50.826 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (1ms).
2023-12-04 10:25:50.855 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 10:25:50.860 +00:00 [INF] Writing value of type '<>f__AnonymousType0`2' as Json.
2023-12-04 10:25:50.869 +00:00 [INF] Executed action WebApi.Controllers.AuthController.Login (WebApi) in 649.3423ms
2023-12-04 10:25:50.870 +00:00 [INF] Executed endpoint 'WebApi.Controllers.AuthController.Login (WebApi)'
2023-12-04 10:25:50.873 +00:00 [INF] HTTP POST /api/Auth/login responded 200 in 719.2156 ms
2023-12-04 10:25:50.878 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 10:25:50.880 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:25:50.883 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (2ms).
2023-12-04 10:25:50.883 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54949/api/Auth/login - 200 null application/json; charset=utf-8 753.6756ms
2023-12-04 10:26:15.783 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54949/Product - application/json 75
2023-12-04 10:26:15.825 +00:00 [DBG] 1 candidate(s) found for the request path '/Product'
2023-12-04 10:26:15.825 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.CreateProduct (WebApi)' with route pattern 'Product' is valid for the request path '/Product'
2023-12-04 10:26:15.870 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.CreateProduct (WebApi)'
2023-12-04 10:26:15.871 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 10:26:15.896 +00:00 [DBG] Successfully validated the token.
2023-12-04 10:26:15.898 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 10:26:15.906 +00:00 [DBG] Authorization was successful.
2023-12-04 10:26:15.907 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.ProductController.CreateProduct (WebApi)'
2023-12-04 10:26:15.912 +00:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] CreateProduct(Application.Products.Create.CreateProductCommand, MediatR.ISender) on controller Web.API.Endpoints.ProductController (WebApi).
2023-12-04 10:26:15.912 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 10:26:15.913 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 10:26:15.913 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 10:26:15.914 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 10:26:15.914 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 10:26:15.915 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-12-04 10:26:15.926 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-12-04 10:26:15.927 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Products.Create.CreateProductCommand' ...
2023-12-04 10:26:15.928 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Products.Create.CreateProductCommand' using the name '' in request data ...
2023-12-04 10:26:15.928 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 10:26:15.933 +00:00 [DBG] Connection id "0HMVKMDD4J09S", Request id "0HMVKMDD4J09S:00000007": started reading request body.
2023-12-04 10:26:15.933 +00:00 [DBG] Connection id "0HMVKMDD4J09S", Request id "0HMVKMDD4J09S:00000007": done reading request body.
2023-12-04 10:26:15.937 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Products.Create.CreateProductCommand'
2023-12-04 10:26:15.937 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Products.Create.CreateProductCommand'.
2023-12-04 10:26:15.938 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Products.Create.CreateProductCommand'.
2023-12-04 10:26:15.939 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Products.Create.CreateProductCommand' ...
2023-12-04 10:26:15.941 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Products.Create.CreateProductCommand'.
2023-12-04 10:26:15.942 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 10:26:15.942 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 10:26:15.943 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 10:26:15.943 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 10:26:15.992 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 10:26:15.994 +00:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Any(c => c.Sku == __sku_0)'
2023-12-04 10:26:16.002 +00:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Products AS p
                WHERE p.Sku == @__sku_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Persistence.ApplicationDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-12-04 10:26:16.008 +00:00 [DBG] Creating DbConnection.
2023-12-04 10:26:16.008 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 10:26:16.009 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:26:16.009 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:26:16.010 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 10:26:16.010 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 10:26:16.013 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2023-12-04 10:26:16.013 +00:00 [DBG] Executing DbCommand [Parameters=[@__sku_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Products" AS p
    WHERE p."Sku" = @__sku_0)
2023-12-04 10:26:16.091 +00:00 [INF] Executed DbCommand (58ms) [Parameters=[@__sku_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Products" AS p
    WHERE p."Sku" = @__sku_0)
2023-12-04 10:26:16.115 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:26:16.116 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 2ms reading results.
2023-12-04 10:26:16.116 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:26:16.117 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 10:26:16.144 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 10:26:16.160 +00:00 [DBG] Context 'ApplicationDbContext' started tracking 'Money' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 10:26:16.164 +00:00 [DBG] SaveChanges starting for 'ApplicationDbContext'.
2023-12-04 10:26:16.167 +00:00 [DBG] DetectChanges starting for 'ApplicationDbContext'.
2023-12-04 10:26:16.179 +00:00 [DBG] DetectChanges completed for 'ApplicationDbContext'.
2023-12-04 10:26:16.230 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:26:16.231 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:26:16.232 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 10:26:16.233 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 10:26:16.233 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2023-12-04 10:26:16.234 +00:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-12-04 10:26:16.258 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?', @p2='?', @p3='?' (DbType = Decimal), @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Name", "Sku", "Price_Amount", "Price_Currency")
VALUES (@p0, @p1, @p2, @p3, @p4);
2023-12-04 10:26:16.263 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:26:16.263 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 4ms reading results.
2023-12-04 10:26:16.264 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:26:16.265 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 10:26:16.274 +00:00 [DBG] An entity of type 'Product' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 10:26:16.275 +00:00 [DBG] An entity of type 'Money' tracked by 'ApplicationDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-12-04 10:26:16.277 +00:00 [DBG] SaveChanges completed for 'ApplicationDbContext' with 1 entities written to the database.
2023-12-04 10:26:16.280 +00:00 [INF] Setting HTTP status code 200.
2023-12-04 10:26:16.281 +00:00 [INF] Executed action Web.API.Endpoints.ProductController.CreateProduct (WebApi) in 366.1394ms
2023-12-04 10:26:16.281 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.ProductController.CreateProduct (WebApi)'
2023-12-04 10:26:16.282 +00:00 [INF] HTTP POST /Product responded 200 in 409.8904 ms
2023-12-04 10:26:16.283 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 10:26:16.283 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:26:16.283 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 10:26:16.284 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54949/Product - 200 0 null 503.3623ms
2023-12-04 10:26:19.258 +00:00 [INF] Request starting HTTP/2 POST https://localhost:54949/Product - application/json 75
2023-12-04 10:26:19.258 +00:00 [DBG] 1 candidate(s) found for the request path '/Product'
2023-12-04 10:26:19.258 +00:00 [DBG] Endpoint 'Web.API.Endpoints.ProductController.CreateProduct (WebApi)' with route pattern 'Product' is valid for the request path '/Product'
2023-12-04 10:26:19.259 +00:00 [DBG] Request matched endpoint 'Web.API.Endpoints.ProductController.CreateProduct (WebApi)'
2023-12-04 10:26:19.260 +00:00 [DBG] Static files was skipped as the request already matched an endpoint.
2023-12-04 10:26:19.263 +00:00 [DBG] Successfully validated the token.
2023-12-04 10:26:19.264 +00:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2023-12-04 10:26:19.265 +00:00 [DBG] Authorization was successful.
2023-12-04 10:26:19.266 +00:00 [INF] Executing endpoint 'Web.API.Endpoints.ProductController.CreateProduct (WebApi)'
2023-12-04 10:26:19.267 +00:00 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Http.IResult] CreateProduct(Application.Products.Create.CreateProductCommand, MediatR.ISender) on controller Web.API.Endpoints.ProductController (WebApi).
2023-12-04 10:26:19.267 +00:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-12-04 10:26:19.268 +00:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-12-04 10:26:19.269 +00:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 10:26:19.269 +00:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-12-04 10:26:19.270 +00:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)","Microsoft.AspNetCore.Mvc.ReportApiVersionsAttribute (Order: 0)"]
2023-12-04 10:26:19.271 +00:00 [DBG] Executing controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-12-04 10:26:19.275 +00:00 [DBG] Executed controller factory for controller Web.API.Endpoints.ProductController (WebApi)
2023-12-04 10:26:19.276 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Products.Create.CreateProductCommand' ...
2023-12-04 10:26:19.276 +00:00 [DBG] Attempting to bind parameter 'command' of type 'Application.Products.Create.CreateProductCommand' using the name '' in request data ...
2023-12-04 10:26:19.277 +00:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-12-04 10:26:19.277 +00:00 [DBG] Connection id "0HMVKMDD4J09S", Request id "0HMVKMDD4J09S:00000009": started reading request body.
2023-12-04 10:26:19.297 +00:00 [DBG] Connection id "0HMVKMDD4J09S", Request id "0HMVKMDD4J09S:00000009": done reading request body.
2023-12-04 10:26:19.299 +00:00 [DBG] JSON input formatter succeeded, deserializing to type 'Application.Products.Create.CreateProductCommand'
2023-12-04 10:26:19.300 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Products.Create.CreateProductCommand'.
2023-12-04 10:26:19.301 +00:00 [DBG] Done attempting to bind parameter 'command' of type 'Application.Products.Create.CreateProductCommand'.
2023-12-04 10:26:19.301 +00:00 [DBG] Attempting to validate the bound parameter 'command' of type 'Application.Products.Create.CreateProductCommand' ...
2023-12-04 10:26:19.302 +00:00 [DBG] Done attempting to validate the bound parameter 'command' of type 'Application.Products.Create.CreateProductCommand'.
2023-12-04 10:26:19.303 +00:00 [DBG] Attempting to bind parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 10:26:19.303 +00:00 [DBG] Done attempting to bind parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 10:26:19.304 +00:00 [DBG] Attempting to validate the bound parameter 'sender' of type 'MediatR.ISender' ...
2023-12-04 10:26:19.304 +00:00 [DBG] Done attempting to validate the bound parameter 'sender' of type 'MediatR.ISender'.
2023-12-04 10:26:19.306 +00:00 [DBG] Entity Framework Core 8.0.0 initialized 'ApplicationDbContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.0+2539d1f4bd0d429cbae20336d531d14938a54297' with options: None
2023-12-04 10:26:19.311 +00:00 [DBG] Creating DbConnection.
2023-12-04 10:26:19.311 +00:00 [DBG] Created DbConnection. (0ms).
2023-12-04 10:26:19.311 +00:00 [DBG] Opening connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:26:19.312 +00:00 [DBG] Opened connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:26:19.312 +00:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-12-04 10:26:19.313 +00:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-12-04 10:26:19.313 +00:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2023-12-04 10:26:19.313 +00:00 [DBG] Executing DbCommand [Parameters=[@__sku_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Products" AS p
    WHERE p."Sku" = @__sku_0)
2023-12-04 10:26:19.338 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__sku_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Products" AS p
    WHERE p."Sku" = @__sku_0)
2023-12-04 10:26:19.361 +00:00 [DBG] Closing data reader to 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:26:19.362 +00:00 [DBG] A data reader for 'storemanagement' on server 'tcp://storemanagement.db:5432' is being disposed after spending 1ms reading results.
2023-12-04 10:26:19.362 +00:00 [DBG] Closing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:26:19.363 +00:00 [DBG] Closed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 10:26:19.377 +00:00 [INF] Setting HTTP status code 400.
2023-12-04 10:26:19.383 +00:00 [INF] Writing value of type 'HttpValidationProblemDetails' as Json.
2023-12-04 10:26:19.387 +00:00 [INF] Executed action Web.API.Endpoints.ProductController.CreateProduct (WebApi) in 115.3918ms
2023-12-04 10:26:19.388 +00:00 [INF] Executed endpoint 'Web.API.Endpoints.ProductController.CreateProduct (WebApi)'
2023-12-04 10:26:19.389 +00:00 [INF] HTTP POST /Product responded 400 in 129.1056 ms
2023-12-04 10:26:19.390 +00:00 [DBG] 'ApplicationDbContext' disposed.
2023-12-04 10:26:19.411 +00:00 [DBG] Disposing connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432'.
2023-12-04 10:26:19.412 +00:00 [DBG] Disposed connection to database 'storemanagement' on server 'tcp://storemanagement.db:5432' (0ms).
2023-12-04 10:26:19.412 +00:00 [INF] Request finished HTTP/2 POST https://localhost:54949/Product - 400 null application/problem+json 154.3009ms
